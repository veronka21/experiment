"use strict";(self.webpackChunkexperiment_app_pwa=self.webpackChunkexperiment_app_pwa||[]).push([[179],{500:()=>{function te(t){return"function"==typeof t}function Da(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const _u=Da(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Ji(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Xt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(te(r))try{r()}catch(o){e=o instanceof _u?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{xg(o)}catch(a){e=e??[],a instanceof _u?e=[...e,...a.errors]:e.push(a)}}if(e)throw new _u(e)}}add(e){var n;if(e&&e!==this)if(this.closed)xg(e);else{if(e instanceof Xt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ji(n,e)}remove(e){const{_finalizers:n}=this;n&&Ji(n,e),e instanceof Xt&&e._removeParent(this)}}Xt.EMPTY=(()=>{const t=new Xt;return t.closed=!0,t})();const Eg=Xt.EMPTY;function Cg(t){return t instanceof Xt||t&&"closed"in t&&te(t.remove)&&te(t.add)&&te(t.unsubscribe)}function xg(t){te(t)?t():t.unsubscribe()}const Ei={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},wu={setTimeout(t,e,...n){const{delegate:r}=wu;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=wu;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ag(t){wu.setTimeout(()=>{const{onUnhandledError:e}=Ei;if(!e)throw t;e(t)})}function Sa(){}const zS=Mf("C",void 0,void 0);function Mf(t,e,n){return{kind:t,value:e,error:n}}let Ci=null;function Eu(t){if(Ei.useDeprecatedSynchronousErrorHandling){const e=!Ci;if(e&&(Ci={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Ci;if(Ci=null,n)throw r}}else t()}class Tf extends Xt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Cg(e)&&e.add(this)):this.destination=QS}static create(e,n,r){return new Ia(e,n,r)}next(e){this.isStopped?Nf(function XS(t){return Mf("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Nf(function WS(t){return Mf("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Nf(zS,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ZS=Function.prototype.bind;function Rf(t,e){return ZS.call(t,e)}class YS{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Cu(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Cu(r)}else Cu(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Cu(n)}}}class Ia extends Tf{constructor(e,n,r){let i;if(super(),te(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Ei.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Rf(e.next,o),error:e.error&&Rf(e.error,o),complete:e.complete&&Rf(e.complete,o)}):i=e}this.destination=new YS(i)}}function Cu(t){Ei.useDeprecatedSynchronousErrorHandling?function qS(t){Ei.useDeprecatedSynchronousErrorHandling&&Ci&&(Ci.errorThrown=!0,Ci.error=t)}(t):Ag(t)}function Nf(t,e){const{onStoppedNotification:n}=Ei;n&&wu.setTimeout(()=>n(t,e))}const QS={closed:!0,next:Sa,error:function KS(t){throw t},complete:Sa},Pf="function"==typeof Symbol&&Symbol.observable||"@@observable";function Xr(t){return t}function Dg(t){return 0===t.length?Xr:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Ve=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function tI(t){return t&&t instanceof Tf||function eI(t){return t&&te(t.next)&&te(t.error)&&te(t.complete)}(t)&&Cg(t)}(n)?n:new Ia(n,r,i);return Eu(()=>{const{operator:a,source:s}=this;o.add(a?a.call(o,s):s?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Sg(r))((i,o)=>{const a=new Ia({next:s=>{try{n(s)}catch(u){o(u),a.unsubscribe()}},error:o,complete:i});this.subscribe(a)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Pf](){return this}pipe(...n){return Dg(n)(this)}toPromise(n){return new(n=Sg(n))((r,i)=>{let o;this.subscribe(a=>o=a,a=>i(a),()=>r(o))})}}return t.create=e=>new t(e),t})();function Sg(t){var e;return null!==(e=t??Ei.Promise)&&void 0!==e?e:Promise}const nI=Da(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let qt=(()=>{class t extends Ve{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Ig(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new nI}next(n){Eu(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Eu(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Eu(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?Eg:(this.currentObservers=null,o.push(n),new Xt(()=>{this.currentObservers=null,Ji(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new Ve;return n.source=this,n}}return t.create=(e,n)=>new Ig(e,n),t})();class Ig extends qt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:Eg}}function bg(t){return te(t?.lift)}function Ze(t){return e=>{if(bg(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ye(t,e,n,r,i){return new rI(t,e,n,r,i)}class rI extends Tf{constructor(e,n,r,i,o,a){super(e),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=n?function(s){try{n(s)}catch(u){e.error(u)}}:super._next,this._error=i?function(s){try{i(s)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(s){e.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function se(t,e){return Ze((n,r)=>{let i=0;n.subscribe(Ye(r,o=>{r.next(t.call(e,o,i++))}))})}function qr(t){return this instanceof qr?(this.v=t,this):new qr(t)}function Rg(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Bf(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(s,u){!function i(o,a,s,u){Promise.resolve(u).then(function(c){o({value:c,done:s})},a)}(s,u,(a=t[o](a)).done,a.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Vf=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Ng(t){return te(t?.then)}function Pg(t){return te(t[Pf])}function Fg(t){return Symbol.asyncIterator&&te(t?.[Symbol.asyncIterator])}function Lg(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const kg=function DI(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Bg(t){return te(t?.[kg])}function Vg(t){return function Tg(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(d){r[d]&&(i[d]=function(h){return new Promise(function(p,g){o.push([d,h,p,g])>1||s(d,h)})})}function s(d,h){try{!function u(d){d.value instanceof qr?Promise.resolve(d.value.v).then(c,l):f(o[0][2],d)}(r[d](h))}catch(p){f(o[0][3],p)}}function c(d){s("next",d)}function l(d){s("throw",d)}function f(d,h){d(h),o.shift(),o.length&&s(o[0][0],o[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield qr(n.read());if(i)return yield qr(void 0);yield yield qr(r)}}finally{n.releaseLock()}})}function Ug(t){return te(t?.getReader)}function St(t){if(t instanceof Ve)return t;if(null!=t){if(Pg(t))return function SI(t){return new Ve(e=>{const n=t[Pf]();if(te(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Vf(t))return function II(t){return new Ve(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(Ng(t))return function bI(t){return new Ve(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ag)})}(t);if(Fg(t))return Hg(t);if(Bg(t))return function OI(t){return new Ve(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(Ug(t))return function MI(t){return Hg(Vg(t))}(t)}throw Lg(t)}function Hg(t){return new Ve(e=>{(function TI(t,e){var n,r,i,o;return function Og(t,e,n,r){return new(n||(n=Promise))(function(o,a){function s(l){try{c(r.next(l))}catch(f){a(f)}}function u(l){try{c(r.throw(l))}catch(f){a(f)}}function c(l){l.done?o(l.value):function i(o){return o instanceof n?o:new n(function(a){a(o)})}(l.value).then(s,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Rg(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(a){i={error:a}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Dr(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function it(t,e,n=1/0){return te(e)?it((r,i)=>se((o,a)=>e(r,o,i,a))(St(t(r,i))),n):("number"==typeof e&&(n=e),Ze((r,i)=>function RI(t,e,n,r,i,o,a,s){const u=[];let c=0,l=0,f=!1;const d=()=>{f&&!u.length&&!c&&e.complete()},h=g=>c<r?p(g):u.push(g),p=g=>{o&&e.next(g),c++;let m=!1;St(n(g,l++)).subscribe(Ye(e,y=>{i?.(y),o?h(y):e.next(y)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;u.length&&c<r;){const y=u.shift();a?Dr(e,a,()=>p(y)):p(y)}d()}catch(y){e.error(y)}}))};return t.subscribe(Ye(e,h,()=>{f=!0,d()})),()=>{s?.()}}(r,i,t,n)))}function eo(t=1/0){return it(Xr,t)}const ar=new Ve(t=>t.complete());function jg(t){return t&&te(t.schedule)}function Uf(t){return t[t.length-1]}function ba(t){return jg(Uf(t))?t.pop():void 0}function Gg(t,e=0){return Ze((n,r)=>{n.subscribe(Ye(r,i=>Dr(r,t,()=>r.next(i),e),()=>Dr(r,t,()=>r.complete(),e),i=>Dr(r,t,()=>r.error(i),e)))})}function zg(t,e=0){return Ze((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Wg(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ve(n=>{Dr(n,e,()=>{const r=t[Symbol.asyncIterator]();Dr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function dt(t,e){return e?function UI(t,e){if(null!=t){if(Pg(t))return function FI(t,e){return St(t).pipe(zg(e),Gg(e))}(t,e);if(Vf(t))return function kI(t,e){return new Ve(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(Ng(t))return function LI(t,e){return St(t).pipe(zg(e),Gg(e))}(t,e);if(Fg(t))return Wg(t,e);if(Bg(t))return function BI(t,e){return new Ve(n=>{let r;return Dr(n,e,()=>{r=t[kg](),Dr(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(a){return void n.error(a)}o?n.complete():n.next(i)},0,!0)}),()=>te(r?.return)&&r.return()})}(t,e);if(Ug(t))return function VI(t,e){return Wg(Vg(t),e)}(t,e)}throw Lg(t)}(t,e):St(t)}function Hf(...t){const e=ba(t),n=function PI(t,e){return"number"==typeof Uf(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?St(r[0]):eo(n)(dt(r,e)):ar}class pn extends qt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function $(...t){return dt(t,ba(t))}function Xg(t={}){const{connector:e=(()=>new qt),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let a,s,u,c=0,l=!1,f=!1;const d=()=>{s?.unsubscribe(),s=void 0},h=()=>{d(),a=u=void 0,l=f=!1},p=()=>{const g=a;h(),g?.unsubscribe()};return Ze((g,m)=>{c++,!f&&!l&&d();const y=u=u??e();m.add(()=>{c--,0===c&&!f&&!l&&(s=jf(p,i))}),y.subscribe(m),!a&&c>0&&(a=new Ia({next:v=>y.next(v),error:v=>{f=!0,d(),s=jf(h,n,v),y.error(v)},complete:()=>{l=!0,d(),s=jf(h,r),y.complete()}}),St(g).subscribe(a))})(o)}}function jf(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Ia({next:()=>{r.unsubscribe(),t()}});return St(e(...n)).subscribe(r)}function Zt(t,e){return Ze((n,r)=>{let i=null,o=0,a=!1;const s=()=>a&&!i&&r.complete();n.subscribe(Ye(r,u=>{i?.unsubscribe();let c=0;const l=o++;St(t(u,l)).subscribe(i=Ye(r,f=>r.next(e?e(u,f,l,c++):f),()=>{i=null,s()}))},()=>{a=!0,s()}))})}function jI(t,e){return t===e}function Ce(t){for(let e in t)if(t[e]===Ce)return e;throw Error("Could not find renamed property on target object.")}function ot(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ot).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function $f(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const $I=Ce({__forward_ref__:Ce});function Me(t){return t.__forward_ref__=Me,t.toString=function(){return ot(this())},t}function W(t){return Gf(t)?t():t}function Gf(t){return"function"==typeof t&&t.hasOwnProperty($I)&&t.__forward_ref__===Me}function zf(t){return t&&!!t.\u0275providers}const qg="https://g.co/ng/security#xss";class I extends Error{constructor(e,n){super(function Au(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function q(t){return"string"==typeof t?t:null==t?"":String(t)}function Wf(t,e){throw new I(-201,!1)}function On(t,e){null==t&&function G(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function U(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function vn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Du(t){return Zg(t,Iu)||Zg(t,Yg)}function Zg(t,e){return t.hasOwnProperty(e)?t[e]:null}function Su(t){return t&&(t.hasOwnProperty(Xf)||t.hasOwnProperty(KI))?t[Xf]:null}const Iu=Ce({\u0275prov:Ce}),Xf=Ce({\u0275inj:Ce}),Yg=Ce({ngInjectableDef:Ce}),KI=Ce({ngInjectorDef:Ce});var ne=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ne||{});let qf;function Yt(t){const e=qf;return qf=t,e}function Qg(t,e,n){const r=Du(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&ne.Optional?null:void 0!==e?e:void Wf(ot(t))}const Te=globalThis,Oa={},Jf="__NG_DI_FLAG__",bu="ngTempTokenPath",eb=/\n/gm,ev="__source";let to;function Zr(t){const e=to;return to=t,e}function rb(t,e=ne.Default){if(void 0===to)throw new I(-203,!1);return null===to?Qg(t,void 0,e):to.get(t,e&ne.Optional?null:void 0,e)}function V(t,e=ne.Default){return(function Kg(){return qf}()||rb)(W(t),e)}function P(t,e=ne.Default){return V(t,Ou(e))}function Ou(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ed(t){const e=[];for(let n=0;n<t.length;n++){const r=W(t[n]);if(Array.isArray(r)){if(0===r.length)throw new I(900,!1);let i,o=ne.Default;for(let a=0;a<r.length;a++){const s=r[a],u=ib(s);"number"==typeof u?-1===u?i=s.token:o|=u:i=s}e.push(V(i,o))}else e.push(V(r))}return e}function Ma(t,e){return t[Jf]=e,t.prototype[Jf]=e,t}function ib(t){return t[Jf]}function Sr(t){return{toString:t}.toString()}var Mu=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Mu||{}),zn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(zn||{});const sr={},he=[],Tu=Ce({\u0275cmp:Ce}),td=Ce({\u0275dir:Ce}),nd=Ce({\u0275pipe:Ce}),nv=Ce({\u0275mod:Ce}),Ir=Ce({\u0275fac:Ce}),Ta=Ce({__NG_ELEMENT_ID__:Ce}),rv=Ce({__NG_ENV_ID__:Ce});function iv(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function rd(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],a=n[r++],s=n[r++];t.setAttribute(e,a,s,o)}else{const o=i,a=n[++r];av(o)?t.setProperty(e,o,a):t.setAttribute(e,o,a),r++}}return r}function ov(t){return 3===t||4===t||6===t}function av(t){return 64===t.charCodeAt(0)}function Ra(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||sv(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function sv(t,e,n,r,i){let o=0,a=t.length;if(-1===e)a=-1;else for(;o<t.length;){const s=t[o++];if("number"==typeof s){if(s===e){a=-1;break}if(s>e){a=o-1;break}}}for(;o<t.length;){const s=t[o];if("number"==typeof s)break;if(s===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const uv="ng-template";function sb(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const a=t[r++];if(n&&"class"===o&&-1!==iv(a.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function cv(t){return 4===t.type&&t.value!==uv}function ub(t,e,n){return e===(4!==t.type||n?t.value:uv)}function cb(t,e,n){let r=4;const i=t.attrs||[],o=function db(t){for(let e=0;e<t.length;e++)if(ov(t[e]))return e;return t.length}(i);let a=!1;for(let s=0;s<e.length;s++){const u=e[s];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!ub(t,u,n)||""===u&&1===e.length){if(Wn(r))return!1;a=!0}}else{const c=8&r?u:e[++s];if(8&r&&null!==t.attrs){if(!sb(t.attrs,c,n)){if(Wn(r))return!1;a=!0}continue}const f=lb(8&r?"class":u,i,cv(t),n);if(-1===f){if(Wn(r))return!1;a=!0;continue}if(""!==c){let d;d=f>o?"":i[f+1].toLowerCase();const h=8&r?d:null;if(h&&-1!==iv(h,c,0)||2&r&&c!==d){if(Wn(r))return!1;a=!0}}}}else{if(!a&&!Wn(r)&&!Wn(u))return!1;if(a&&Wn(u))continue;a=!1,r=u|1&r}}return Wn(r)||a}function Wn(t){return 0==(1&t)}function lb(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const a=e[i];if(a===t)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){let s=e[++i];for(;"string"==typeof s;)s=e[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function hb(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function lv(t,e,n=!1){for(let r=0;r<e.length;r++)if(cb(t,e[r],n))return!0;return!1}function fv(t,e){return t?":not("+e.trim()+")":e}function gb(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let a=t[n];if("string"==typeof a)if(2&r){const s=t[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""!==i&&!Wn(a)&&(e+=fv(o,i),i=""),r=a,o=o||!Wn(r);n++}return""!==i&&(e+=fv(o,i)),e}function no(t){return Sr(()=>{const e=hv(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Mu.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||zn.Emulated,styles:t.styles||he,_:null,schemas:t.schemas||null,tView:null,id:""};pv(n);const r=t.dependencies;return n.directiveDefs=Ru(r,!1),n.pipeDefs=Ru(r,!0),n.id=function xb(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function _b(t){return ue(t)||vt(t)}function wb(t){return null!==t}function Mn(t){return Sr(()=>({type:t.type,bootstrap:t.bootstrap||he,declarations:t.declarations||he,imports:t.imports||he,exports:t.exports||he,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function dv(t,e){if(null==t)return sr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function X(t){return Sr(()=>{const e=hv(t);return pv(e),e})}function ue(t){return t[Tu]||null}function vt(t){return t[td]||null}function Pt(t){return t[nd]||null}function mn(t,e){const n=t[nv]||null;if(!n&&!0===e)throw new Error(`Type ${ot(t)} does not have '\u0275mod' property.`);return n}function hv(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||sr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||he,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:dv(t.inputs,e),outputs:dv(t.outputs)}}function pv(t){t.features?.forEach(e=>e(t))}function Ru(t,e){if(!t)return null;const n=e?Pt:_b;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(wb)}const Xe=0,N=1,K=2,Ue=3,Xn=4,Na=5,It=6,io=7,Ke=8,Yr=9,oo=10,Z=11,Pa=12,gv=13,ao=14,Qe=15,Fa=16,so=17,ur=18,La=19,vv=20,Kr=21,br=22,ka=23,Ba=24,re=25,id=1,mv=2,cr=7,uo=9,mt=11;function Qt(t){return Array.isArray(t)&&"object"==typeof t[id]}function Ft(t){return Array.isArray(t)&&!0===t[id]}function od(t){return 0!=(4&t.flags)}function Ai(t){return t.componentOffset>-1}function Pu(t){return 1==(1&t.flags)}function qn(t){return!!t.template}function ad(t){return 0!=(512&t[K])}function Di(t,e){return t.hasOwnProperty(Ir)?t[Ir]:null}let yt=null,Fu=!1;function Tn(t){const e=yt;return yt=t,e}const wv={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Cv(t){if(!Ua(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Dv(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Av(t){t.dirty=!0,function xv(t){if(void 0===t.liveConsumerNode)return;const e=Fu;Fu=!0;try{for(const n of t.liveConsumerNode)n.dirty||Av(n)}finally{Fu=e}}(t),t.consumerMarkedDirty?.(t)}function ud(t){return t&&(t.nextProducerIndex=0),Tn(t)}function cd(t,e){if(Tn(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Ua(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Lu(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Dv(t){co(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Cv(n),r!==n.version))return!0}return!1}function Sv(t){if(co(t),Ua(t))for(let e=0;e<t.producerNode.length;e++)Lu(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Lu(t,e){if(function bv(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),co(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)Lu(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];co(i),i.producerIndexOfThis[r]=e}}function Ua(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function co(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Ov=null;const Nv=()=>{},Lb=(()=>({...wv,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Nv}))();class kb{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Rn(){return Pv}function Pv(t){return t.type.prototype.ngOnChanges&&(t.setInput=Vb),Bb}function Bb(){const t=Lv(this),e=t?.current;if(e){const n=t.previous;if(n===sr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Vb(t,e,n,r){const i=this.declaredInputs[n],o=Lv(t)||function Ub(t,e){return t[Fv]=e}(t,{previous:sr,current:null}),a=o.current||(o.current={}),s=o.previous,u=s[i];a[i]=new kb(u&&u.currentValue,e,s===sr),t[r]=e}Rn.ngInherit=!0;const Fv="__ngSimpleChanges__";function Lv(t){return t[Fv]||null}const lr=function(t,e,n){};function Re(t){for(;Array.isArray(t);)t=t[Xe];return t}function ku(t,e){return Re(e[t])}function Jt(t,e){return Re(e[t.index])}function Vv(t,e){return t.data[e]}function yn(t,e){const n=e[t];return Qt(n)?n:n[Xe]}function Jr(t,e){return null==e?null:t[e]}function Uv(t){t[so]=0}function Wb(t){1024&t[K]||(t[K]|=1024,jv(t,1))}function Hv(t){1024&t[K]&&(t[K]&=-1025,jv(t,-1))}function jv(t,e){let n=t[Ue];if(null===n)return;n[Na]+=e;let r=n;for(n=n[Ue];null!==n&&(1===e&&1===r[Na]||-1===e&&0===r[Na]);)n[Na]+=e,r=n,n=n[Ue]}const z={lFrame:Jv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function zv(){return z.bindingsEnabled}function S(){return z.lFrame.lView}function ce(){return z.lFrame.tView}function _t(){let t=Wv();for(;null!==t&&64===t.type;)t=t.parent;return t}function Wv(){return z.lFrame.currentTNode}function fr(t,e){const n=z.lFrame;n.currentTNode=t,n.isParent=e}function pd(){return z.lFrame.isParent}function ho(){return z.lFrame.bindingIndex++}function aO(t,e){const n=z.lFrame;n.bindingIndex=n.bindingRootIndex=t,vd(e)}function vd(t){z.lFrame.currentDirectiveIndex=t}function Yv(){return z.lFrame.currentQueryIndex}function yd(t){z.lFrame.currentQueryIndex=t}function uO(t){const e=t[N];return 2===e.type?e.declTNode:1===e.type?t[It]:null}function Kv(t,e,n){if(n&ne.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&ne.Host||(i=uO(o),null===i||(o=o[ao],10&i.type))););if(null===i)return!1;e=i,t=o}const r=z.lFrame=Qv();return r.currentTNode=e,r.lView=t,!0}function _d(t){const e=Qv(),n=t[N];z.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Qv(){const t=z.lFrame,e=null===t?null:t.child;return null===e?Jv(t):e}function Jv(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function em(){const t=z.lFrame;return z.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const tm=em;function wd(){const t=em();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function kt(){return z.lFrame.selectedIndex}function Si(t){z.lFrame.selectedIndex=t}let rm=!0;function Bu(){return rm}function ei(t){rm=t}function Vu(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:s,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=o;a&&(t.contentHooks??=[]).push(-n,a),s&&((t.contentHooks??=[]).push(n,s),(t.contentCheckHooks??=[]).push(n,s)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function Uu(t,e,n){im(t,e,3,n)}function Hu(t,e,n,r){(3&t[K])===n&&im(t,e,n,r)}function Ed(t,e){let n=t[K];(3&n)===e&&(n&=8191,n+=1,t[K]=n)}function im(t,e,n,r){const o=r??-1,a=e.length-1;let s=0;for(let u=void 0!==r?65535&t[so]:0;u<a;u++)if("number"==typeof e[u+1]){if(s=e[u],null!=r&&s>=r)break}else e[u]<0&&(t[so]+=65536),(s<o||-1==o)&&(vO(t,n,e,u),t[so]=(4294901760&t[so])+u+2),u++}function om(t,e){lr(4,t,e);const n=Tn(null);try{e.call(t)}finally{Tn(n),lr(5,t,e)}}function vO(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[K]>>13<t[so]>>16&&(3&t[K])===e&&(t[K]+=8192,om(s,o)):om(s,o)}const po=-1;class ja{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function xd(t){return t!==po}function $a(t){return 32767&t}function Ga(t,e){let n=function wO(t){return t>>16}(t),r=e;for(;n>0;)r=r[ao],n--;return r}let Ad=!0;function ju(t){const e=Ad;return Ad=t,e}const am=255,sm=5;let EO=0;const dr={};function $u(t,e){const n=um(t,e);if(-1!==n)return n;const r=e[N];r.firstCreatePass&&(t.injectorIndex=e.length,Dd(r.data,t),Dd(e,null),Dd(r.blueprint,null));const i=Gu(t,e),o=t.injectorIndex;if(xd(i)){const a=$a(i),s=Ga(i,e),u=s[N].data;for(let c=0;c<8;c++)e[o+c]=s[a+c]|u[a+c]}return e[o+8]=i,o}function Dd(t,e){t.push(0,0,0,0,0,0,0,0,e)}function um(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Gu(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=gm(i),null===r)return po;if(n++,i=i[ao],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return po}function Sd(t,e,n){!function CO(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ta)&&(r=n[Ta]),null==r&&(r=n[Ta]=EO++);const i=r&am;e.data[t+(i>>sm)]|=1<<i}(t,e,n)}function cm(t,e,n){if(n&ne.Optional||void 0!==t)return t;Wf()}function lm(t,e,n,r){if(n&ne.Optional&&void 0===r&&(r=null),!(n&(ne.Self|ne.Host))){const i=t[Yr],o=Yt(void 0);try{return i?i.get(e,r,n&ne.Optional):Qg(e,r,n&ne.Optional)}finally{Yt(o)}}return cm(r,0,n)}function fm(t,e,n,r=ne.Default,i){if(null!==t){if(2048&e[K]&&!(r&ne.Self)){const a=function bO(t,e,n,r,i){let o=t,a=e;for(;null!==o&&null!==a&&2048&a[K]&&!(512&a[K]);){const s=dm(o,a,n,r|ne.Self,dr);if(s!==dr)return s;let u=o.parent;if(!u){const c=a[vv];if(c){const l=c.get(n,dr,r);if(l!==dr)return l}u=gm(a),a=a[ao]}o=u}return i}(t,e,n,r,dr);if(a!==dr)return a}const o=dm(t,e,n,r,dr);if(o!==dr)return o}return lm(e,n,r,i)}function dm(t,e,n,r,i){const o=function DO(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Ta)?t[Ta]:void 0;return"number"==typeof e?e>=0?e&am:IO:e}(n);if("function"==typeof o){if(!Kv(e,t,r))return r&ne.Host?cm(i,0,r):lm(e,n,r,i);try{let a;if(a=o(r),null!=a||r&ne.Optional)return a;Wf()}finally{tm()}}else if("number"==typeof o){let a=null,s=um(t,e),u=po,c=r&ne.Host?e[Qe][It]:null;for((-1===s||r&ne.SkipSelf)&&(u=-1===s?Gu(t,e):e[s+8],u!==po&&pm(r,!1)?(a=e[N],s=$a(u),e=Ga(u,e)):s=-1);-1!==s;){const l=e[N];if(hm(o,s,l.data)){const f=AO(s,e,n,a,r,c);if(f!==dr)return f}u=e[s+8],u!==po&&pm(r,e[N].data[s+8]===c)&&hm(o,s,e)?(a=l,s=$a(u),e=Ga(u,e)):s=-1}}return i}function AO(t,e,n,r,i,o){const a=e[N],s=a.data[t+8],l=zu(s,a,n,null==r?Ai(s)&&Ad:r!=a&&0!=(3&s.type),i&ne.Host&&o===s);return null!==l?Ii(e,a,l,s):dr}function zu(t,e,n,r,i){const o=t.providerIndexes,a=e.data,s=1048575&o,u=t.directiveStart,l=o>>20,d=i?s+l:t.directiveEnd;for(let h=r?s:s+l;h<d;h++){const p=a[h];if(h<u&&n===p||h>=u&&p.type===n)return h}if(i){const h=a[u];if(h&&qn(h)&&h.type===n)return u}return null}function Ii(t,e,n,r){let i=t[n];const o=e.data;if(function mO(t){return t instanceof ja}(i)){const a=i;a.resolving&&function GI(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new I(-200,`Circular dependency in DI detected for ${t}${n}`)}(function we(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():q(t)}(o[n]));const s=ju(a.canSeeViewProviders);a.resolving=!0;const c=a.injectImpl?Yt(a.injectImpl):null;Kv(t,r,ne.Default);try{i=t[n]=a.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function gO(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const a=Pv(e);(n.preOrderHooks??=[]).push(t,a),(n.preOrderCheckHooks??=[]).push(t,a)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,o[n],e)}finally{null!==c&&Yt(c),ju(s),a.resolving=!1,tm()}}return i}function hm(t,e,n){return!!(n[e+(t>>sm)]&1<<t)}function pm(t,e){return!(t&ne.Self||t&ne.Host&&e)}class Bt{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return fm(this._tNode,this._lView,e,Ou(r),n)}}function IO(){return new Bt(_t(),S())}function Id(t){return Gf(t)?()=>{const e=Id(W(t));return e&&e()}:Di(t)}function gm(t){const e=t[N],n=e.type;return 2===n?e.declTNode:1===n?t[It]:null}const vo="__parameters__";function yo(t,e,n){return Sr(()=>{const r=function bd(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const a=new i(...o);return s.annotation=a,s;function s(u,c,l){const f=u.hasOwnProperty(vo)?u[vo]:Object.defineProperty(u,vo,{value:[]})[vo];for(;f.length<=l;)f.push(null);return(f[l]=f[l]||[]).push(a),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function wo(t,e){t.forEach(n=>Array.isArray(n)?wo(n,e):e(n))}function mm(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Xu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function _n(t,e,n){let r=Eo(t,e);return r>=0?t[1|r]=n:(r=~r,function FO(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Od(t,e){const n=Eo(t,e);if(n>=0)return t[1|n]}function Eo(t,e){return function ym(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),a=t[o<<n];if(e===a)return o<<n;a>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const Zu=Ma(yo("Optional"),8),Yu=Ma(yo("SkipSelf"),4);function tc(t){return 128==(128&t.flags)}var ti=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ti||{});const Pd=new Map;let oM=0;const Ld="__ngContext__";function bt(t,e){Qt(e)?(t[Ld]=e[La],function sM(t){Pd.set(t[La],t)}(e)):t[Ld]=e}let kd;function Bd(t,e){return kd(t,e)}function Ya(t){const e=t[Ue];return Ft(e)?e[Ue]:e}function Bm(t){return Um(t[Pa])}function Vm(t){return Um(t[Xn])}function Um(t){for(;null!==t&&!Ft(t);)t=t[Xn];return t}function Ao(t,e,n,r,i){if(null!=r){let o,a=!1;Ft(r)?o=r:Qt(r)&&(a=!0,r=r[Xe]);const s=Re(r);0===t&&null!==n?null==i?Gm(e,n,s):bi(e,n,s,i||null,!0):1===t&&null!==n?bi(e,n,s,i||null,!0):2===t?function uc(t,e,n){const r=ac(t,e);r&&function SM(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,s,a):3===t&&e.destroyNode(s),null!=o&&function OM(t,e,n,r,i){const o=n[cr];o!==Re(n)&&Ao(e,t,r,o,i);for(let s=mt;s<n.length;s++){const u=n[s];Qa(u[N],u,t,e,r,o)}}(e,t,o,n,i)}}function ic(t,e,n){return t.createElement(e,n)}function jm(t,e){const n=t[uo],r=n.indexOf(e);Hv(e),n.splice(r,1)}function oc(t,e){if(t.length<=mt)return;const n=mt+e,r=t[n];if(r){const i=r[Fa];null!==i&&i!==t&&jm(i,r),e>0&&(t[n-1][Xn]=r[Xn]);const o=Xu(t,mt+e);!function yM(t,e){Qa(t,e,e[Z],2,null,null),e[Xe]=null,e[It]=null}(r[N],r);const a=o[ur];null!==a&&a.detachView(o[N]),r[Ue]=null,r[Xn]=null,r[K]&=-129}return r}function Ud(t,e){if(!(256&e[K])){const n=e[Z];e[ka]&&Sv(e[ka]),e[Ba]&&Sv(e[Ba]),n.destroyNode&&Qa(t,e,n,3,null,null),function EM(t){let e=t[Pa];if(!e)return Hd(t[N],t);for(;e;){let n=null;if(Qt(e))n=e[Pa];else{const r=e[mt];r&&(n=r)}if(!n){for(;e&&!e[Xn]&&e!==t;)Qt(e)&&Hd(e[N],e),e=e[Ue];null===e&&(e=t),Qt(e)&&Hd(e[N],e),n=e&&e[Xn]}e=n}}(e)}}function Hd(t,e){if(!(256&e[K])){e[K]&=-129,e[K]|=256,function DM(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof ja)){const o=n[r+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){const s=i[o[a]],u=o[a+1];lr(4,s,u);try{u.call(s)}finally{lr(5,s,u)}}else{lr(4,i,o);try{o.call(i)}finally{lr(5,i,o)}}}}}(t,e),function AM(t,e){const n=t.cleanup,r=e[io];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const a=n[o+3];a>=0?r[a]():r[-a].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[io]=null);const i=e[Kr];if(null!==i){e[Kr]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[N].type&&e[Z].destroy();const n=e[Fa];if(null!==n&&Ft(e[Ue])){n!==e[Ue]&&jm(n,e);const r=e[ur];null!==r&&r.detachView(t)}!function uM(t){Pd.delete(t[La])}(e)}}function jd(t,e,n){return function $m(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Xe];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===zn.None||o===zn.Emulated)return null}return Jt(r,n)}}(t,e.parent,n)}function bi(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Gm(t,e,n){t.appendChild(e,n)}function zm(t,e,n,r,i){null!==r?bi(t,e,n,r,i):Gm(t,e,n)}function ac(t,e){return t.parentNode(e)}let $d,cc,Xd,qm=function Xm(t,e,n){return 40&t.type?Jt(t,n):null};function sc(t,e,n,r){const i=jd(t,r,e),o=e[Z],s=function Wm(t,e,n){return qm(t,e,n)}(r.parent||e[It],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)zm(o,i,n[u],s,!1);else zm(o,i,n,s,!1);void 0!==$d&&$d(o,r,e,n,i)}function Ka(t,e){if(null!==e){const n=e.type;if(3&n)return Jt(e,t);if(4&n)return Gd(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Ka(t,r);{const i=t[e.index];return Ft(i)?Gd(-1,i):Re(i)}}if(32&n)return Bd(e,t)()||Re(t[e.index]);{const r=Ym(t,e);return null!==r?Array.isArray(r)?r[0]:Ka(Ya(t[Qe]),r):Ka(t,e.next)}}return null}function Ym(t,e){return null!==e?t[Qe][It].projection[e.projection]:null}function Gd(t,e){const n=mt+t+1;if(n<e.length){const r=e[n],i=r[N].firstChild;if(null!==i)return Ka(r,i)}return e[cr]}function zd(t,e,n,r,i,o,a){for(;null!=n;){const s=r[n.index],u=n.type;if(a&&0===e&&(s&&bt(Re(s),r),n.flags|=2),32!=(32&n.flags))if(8&u)zd(t,e,n.child,r,i,o,!1),Ao(e,t,i,s,o);else if(32&u){const c=Bd(n,r);let l;for(;l=c();)Ao(e,t,i,l,o);Ao(e,t,i,s,o)}else 16&u?Qm(t,e,r,n,i,o):Ao(e,t,i,s,o);n=a?n.projectionNext:n.next}}function Qa(t,e,n,r,i,o){zd(n,r,t.firstChild,e,i,o,!1)}function Qm(t,e,n,r,i,o){const a=n[Qe],u=a[It].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Ao(e,t,i,u[c],o);else{let c=u;const l=a[Ue];tc(r)&&(c.flags|=128),zd(t,e,c,l,i,o,!0)}}function Jm(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function ey(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&rd(t,e,r),null!==i&&Jm(t,e,i),null!==o&&function TM(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}function Do(t){return function Wd(){if(void 0===cc&&(cc=null,Te.trustedTypes))try{cc=Te.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return cc}()?.createHTML(t)||t}class Oi{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${qg})`}}class LM extends Oi{getTypeName(){return"HTML"}}class kM extends Oi{getTypeName(){return"Style"}}class BM extends Oi{getTypeName(){return"Script"}}class VM extends Oi{getTypeName(){return"URL"}}class UM extends Oi{getTypeName(){return"ResourceURL"}}function wn(t){return t instanceof Oi?t.changingThisBreaksApplicationSecurity:t}function hr(t,e){const n=function HM(t){return t instanceof Oi&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${qg})`)}return n===e}class XM{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(Do(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class qM{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=Do(e),n}}const YM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function fc(t){return(t=String(t)).match(YM)?t:"unsafe:"+t}function Tr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Ja(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const oy=Tr("area,br,col,hr,img,wbr"),ay=Tr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),sy=Tr("rp,rt"),Zd=Ja(oy,Ja(ay,Tr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ja(sy,Tr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ja(sy,ay)),Yd=Tr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),uy=Ja(Yd,Tr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Tr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),KM=Tr("script,style,template");class QM{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!Zd.hasOwnProperty(n))return this.sanitizedSomething=!0,!KM.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),a=o.name,s=a.toLowerCase();if(!uy.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let u=o.value;Yd[s]&&(u=fc(u)),this.buf.push(" ",a,'="',cy(u),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();Zd.hasOwnProperty(n)&&!oy.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(cy(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const JM=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,eT=/([^\#-~ |!])/g;function cy(t){return t.replace(/&/g,"&amp;").replace(JM,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(eT,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let dc;function ly(t,e){let n=null;try{dc=dc||function iy(t){const e=new qM(t);return function ZM(){try{return!!(new window.DOMParser).parseFromString(Do(""),"text/html")}catch{return!1}}()?new XM(e):e}(t);let r=e?String(e):"";n=dc.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=dc.getInertBodyElement(r)}while(r!==o);return Do((new QM).sanitizeChildren(Kd(n)||n))}finally{if(n){const r=Kd(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Kd(t){return"content"in t&&function tT(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Pn=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Pn||{});function hc(t){const e=function es(){const t=S();return t&&t[oo].sanitizer}();return e?e.sanitize(Pn.URL,t)||"":hr(t,"URL")?wn(t):fc(q(t))}class k{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=U({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ts=new k("ENVIRONMENT_INITIALIZER"),hy=new k("INJECTOR",-1),py=new k("INJECTOR_DEF_TYPES");class Qd{get(e,n=Oa){if(n===Oa){const r=new Error(`NullInjectorError: No provider for ${ot(e)}!`);throw r.name="NullInjectorError",r}return n}}function uT(...t){return{\u0275providers:gy(0,t),\u0275fromNgModule:!0}}function gy(t,...e){const n=[],r=new Set;let i;const o=a=>{n.push(a)};return wo(e,a=>{const s=a;pc(s,o,[],r)&&(i||=[],i.push(s))}),void 0!==i&&vy(i,o),n}function vy(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];eh(i,o=>{e(o,r)})}}function pc(t,e,n,r){if(!(t=W(t)))return!1;let i=null,o=Su(t);const a=!o&&ue(t);if(o||a){if(a&&!a.standalone)return!1;i=t}else{const u=t.ngModule;if(o=Su(u),!o)return!1;i=u}const s=r.has(i);if(a){if(s)return!1;if(r.add(i),a.dependencies){const u="function"==typeof a.dependencies?a.dependencies():a.dependencies;for(const c of u)pc(c,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!s){let c;r.add(i);try{wo(o.imports,l=>{pc(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&vy(c,e)}if(!s){const c=Di(i)||(()=>new i);e({provide:i,useFactory:c,deps:he},i),e({provide:py,useValue:i,multi:!0},i),e({provide:ts,useValue:()=>V(i),multi:!0},i)}const u=o.providers;if(null!=u&&!s){const c=t;eh(u,l=>{e(l,c)})}}}return i!==t&&void 0!==t.providers}function eh(t,e){for(let n of t)zf(n)&&(n=n.\u0275providers),Array.isArray(n)?eh(n,e):e(n)}const cT=Ce({provide:String,useValue:Ce});function th(t){return null!==t&&"object"==typeof t&&cT in t}function Mi(t){return"function"==typeof t}const nh=new k("Set Injector scope."),gc={},fT={};let rh;function vc(){return void 0===rh&&(rh=new Qd),rh}class Fn{}class mc extends Fn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,oh(e,a=>this.processProvider(a)),this.records.set(hy,Io(void 0,this)),i.has("environment")&&this.records.set(Fn,Io(void 0,this));const o=this.records.get(nh);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(py.multi,he,ne.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Zr(this),r=Yt(void 0);try{return e()}finally{Zr(n),Yt(r)}}get(e,n=Oa,r=ne.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(rv))return e[rv](this);r=Ou(r);const o=Zr(this),a=Yt(void 0);try{if(!(r&ne.SkipSelf)){let u=this.records.get(e);if(void 0===u){const c=function vT(t){return"function"==typeof t||"object"==typeof t&&t instanceof k}(e)&&Du(e);u=c&&this.injectableDefInScope(c)?Io(ih(e),gc):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&ne.Self?vc():this.parent).get(e,n=r&ne.Optional&&n===Oa?null:n)}catch(s){if("NullInjectorError"===s.name){if((s[bu]=s[bu]||[]).unshift(ot(e)),o)throw s;return function ob(t,e,n,r){const i=t[bu];throw e[ev]&&i.unshift(e[ev]),t.message=function ab(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=ot(e);if(Array.isArray(e))i=e.map(ot).join(" -> ");else if("object"==typeof e){let o=[];for(let a in e)if(e.hasOwnProperty(a)){let s=e[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):ot(s)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(eb,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[bu]=null,t}(s,e,"R3InjectorError",this.source)}throw s}finally{Yt(a),Zr(o)}}resolveInjectorInitializers(){const e=Zr(this),n=Yt(void 0);try{const i=this.get(ts.multi,he,ne.Self);for(const o of i)o()}finally{Zr(e),Yt(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(ot(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new I(205,!1)}processProvider(e){let n=Mi(e=W(e))?e:W(e&&e.provide);const r=function hT(t){return th(t)?Io(void 0,t.useValue):Io(function _y(t,e,n){let r;if(Mi(t)){const i=W(t);return Di(i)||ih(i)}if(th(t))r=()=>W(t.useValue);else if(function yy(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...ed(t.deps||[]));else if(function my(t){return!(!t||!t.useExisting)}(t))r=()=>V(W(t.useExisting));else{const i=W(t&&(t.useClass||t.provide));if(!function pT(t){return!!t.deps}(t))return Di(i)||ih(i);r=()=>new i(...ed(t.deps))}return r}(t),gc)}(e);if(Mi(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Io(void 0,gc,!0),i.factory=()=>ed(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===gc&&(n.value=fT,n.value=n.factory()),"object"==typeof n.value&&n.value&&function gT(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=W(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function ih(t){const e=Du(t),n=null!==e?e.factory:Di(t);if(null!==n)return n;if(t instanceof k)throw new I(204,!1);if(t instanceof Function)return function dT(t){const e=t.length;if(e>0)throw function Xa(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new I(204,!1);const n=function YI(t){return t&&(t[Iu]||t[Yg])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new I(204,!1)}function Io(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function oh(t,e){for(const n of t)Array.isArray(n)?oh(n,e):n&&zf(n)?oh(n.\u0275providers,e):e(n)}const yc=new k("AppId",{providedIn:"root",factory:()=>mT}),mT="ng",wy=new k("Platform Initializer"),ni=new k("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ey=new k("CSP nonce",{providedIn:"root",factory:()=>function So(){if(void 0!==Xd)return Xd;if(typeof document<"u")return document;throw new I(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Cy=(t,e,n)=>null;function hh(t,e,n=!1){return Cy(t,e,n)}class IT{}class Dy{}class OT{resolveComponentFactory(e){throw function bT(t){const e=Error(`No component factory found for ${ot(t)}.`);return e.ngComponent=t,e}(e)}}let Ac=(()=>{class t{static#e=this.NULL=new OT}return t})();function MT(){return Mo(_t(),S())}function Mo(t,e){return new En(Jt(t,e))}let En=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=MT}return t})();function TT(t){return t instanceof En?t.nativeElement:t}class Iy{}let NT=(()=>{class t{static#e=this.\u0275prov=U({token:t,providedIn:"root",factory:()=>null})}return t})();class is{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const PT=new is("16.2.7"),vh={};function Ty(t,e=null,n=null,r){const i=Ry(t,e,n,r);return i.resolveInjectorInitializers(),i}function Ry(t,e=null,n=null,r,i=new Set){const o=[n||he,uT(t)];return r=r||("object"==typeof t?void 0:ot(t)),new mc(o,e||vc(),r||null,i)}let Vt=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Oa;static#t=this.NULL=new Qd;static create(n,r){if(Array.isArray(n))return Ty({name:""},r,n,"");{const i=n.name??"";return Ty({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=U({token:t,providedIn:"any",factory:()=>V(hy)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function yh(t){return t.ngOriginalError}class Nr{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&yh(e);for(;n&&yh(n);)n=yh(n);return n||null}}function wh(t){return e=>{setTimeout(t,void 0,e)}}const le=class HT extends qt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),a=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),o=u.error?.bind(u),a=u.complete?.bind(u)}this.__isAsync&&(o=wh(o),i&&(i=wh(i)),a&&(a=wh(a)));const s=super.subscribe({next:i,error:o,complete:a});return e instanceof Xt&&e.add(s),s}};function Py(...t){}class Ie{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new le(!1),this.onMicrotaskEmpty=new le(!1),this.onStable=new le(!1),this.onError=new le(!1),typeof Zone>"u")throw new I(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function jT(){const t="function"==typeof Te.requestAnimationFrame;let e=Te[t?"requestAnimationFrame":"setTimeout"],n=Te[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function zT(t){const e=()=>{!function GT(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Te,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ch(t),t.isCheckStableRunning=!0,Eh(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ch(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,a,s)=>{if(function XT(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(s))return n.invokeTask(i,o,a,s);try{return Fy(t),n.invokeTask(i,o,a,s)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),Ly(t)}},onInvoke:(n,r,i,o,a,s,u)=>{try{return Fy(t),n.invoke(i,o,a,s,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Ly(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,Ch(t),Eh(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ie.isInAngularZone())throw new I(909,!1)}static assertNotInAngularZone(){if(Ie.isInAngularZone())throw new I(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+i,e,$T,Py,Py);try{return o.runTask(a,n,r)}finally{o.cancelTask(a)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const $T={};function Eh(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ch(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Fy(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ly(t){t._nesting--,Eh(t)}class WT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new le,this.onMicrotaskEmpty=new le,this.onStable=new le,this.onError=new le}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const ky=new k("",{providedIn:"root",factory:By});function By(){const t=P(Ie);let e=!0;return Hf(new Ve(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Ve(i=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{Ie.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const a=t.onUnstable.subscribe(()=>{Ie.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),a.unsubscribe()}}).pipe(Xg()))}function Pr(t){return t instanceof Function?t():t}let xh=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=U({token:t,providedIn:"root",factory:()=>new t})}return t})();function os(t){for(;t;){t[K]|=64;const e=Ya(t);if(ad(t)&&!e)return t;t=e}return null}const $y=new k("",{providedIn:"root",factory:()=>!1});let Sc=null;function Xy(t,e){return t[e]??Yy()}function qy(t,e){const n=Yy();n.producerNode?.length&&(t[e]=Sc,n.lView=t,Sc=Zy())}const r3={...wv,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{os(t.lView)},lView:null};function Zy(){return Object.create(r3)}function Yy(){return Sc??=Zy(),Sc}const Y={};function as(t){Ky(ce(),S(),kt()+t,!1)}function Ky(t,e,n,r){if(!r)if(3==(3&e[K])){const o=t.preOrderCheckHooks;null!==o&&Uu(e,o,n)}else{const o=t.preOrderHooks;null!==o&&Hu(e,o,0,n)}Si(n)}function b(t,e=ne.Default){const n=S();return null===n?V(t,e):fm(_t(),n,W(t),e)}function Ic(t,e,n,r,i,o,a,s,u,c,l){const f=e.blueprint.slice();return f[Xe]=i,f[K]=140|r,(null!==c||t&&2048&t[K])&&(f[K]|=2048),Uv(f),f[Ue]=f[ao]=t,f[Ke]=n,f[oo]=a||t&&t[oo],f[Z]=s||t&&t[Z],f[Yr]=u||t&&t[Yr]||null,f[It]=o,f[La]=function aM(){return oM++}(),f[br]=l,f[vv]=c,f[Qe]=2==e.type?t[Qe]:f,f}function No(t,e,n,r,i){let o=t.data[e];if(null===o)o=function Ah(t,e,n,r,i){const o=Wv(),a=pd(),u=t.data[e]=function f3(t,e,n,r,i,o){let a=e?e.injectorIndex:-1,s=0;return function fo(){return null!==z.skipHydrationRootTNode}()&&(s|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:s,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==o&&(a?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u,u.prev=o)),u}(t,e,n,r,i),function oO(){return z.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const a=function Ha(){const t=z.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===a?-1:a.injectorIndex}return fr(o,!0),o}function ss(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Jy(t,e,n,r,i){const o=Xy(e,ka),a=kt(),s=2&r;try{Si(-1),s&&e.length>re&&Ky(t,e,re,!1),lr(s?2:0,i);const c=s?o:null,l=ud(c);try{null!==c&&(c.dirty=!1),n(r,i)}finally{cd(c,l)}}finally{s&&null===e[ka]&&qy(e,ka),Si(a),lr(s?3:1,i)}}function Dh(t,e,n){if(od(e)){const r=Tn(null);try{const o=e.directiveEnd;for(let a=e.directiveStart;a<o;a++){const s=t.data[a];s.contentQueries&&s.contentQueries(1,n[a],a)}}finally{Tn(r)}}}function Sh(t,e,n){zv()&&(function y3(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;Ai(n)&&function D3(t,e,n){const r=Jt(e,t),i=e_(n);let a=16;n.signals?a=4096:n.onPush&&(a=64);const s=bc(t,Ic(t,i,null,a,r,e,null,t[oo].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=s}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||$u(n,e),bt(r,e);const a=n.initialInputs;for(let s=i;s<o;s++){const u=t.data[s],c=Ii(e,t,s,n);bt(c,e),null!==a&&S3(0,s-i,c,u,0,a),qn(u)&&(yn(n.index,e)[Ke]=Ii(e,t,s,n))}}(t,e,n,Jt(n,e)),64==(64&n.flags)&&o_(t,e,n))}function Ih(t,e,n=Jt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const a=r[o+1],s=-1===a?n(e,t):t[a];t[i++]=s}}}function e_(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=bh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function bh(t,e,n,r,i,o,a,s,u,c,l){const f=re+r,d=f+i,h=function o3(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Y);return n}(f,d),p="function"==typeof c?c():c;return h[N]={type:t,blueprint:h,template:n,queries:null,viewQuery:s,declTNode:e,data:h.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let t_=t=>null;function n_(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const o=t[i];null===r?r_(n,e,i,o):r.hasOwnProperty(i)&&r_(n,e,r[i],o)}return n}function r_(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Oh(t,e,n,r){if(zv()){const i=null===r?null:{"":-1},o=function w3(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const a=n[o];if(lv(e,a.selectors,!1))if(r||(r=[]),qn(a))if(null!==a.findHostDirectiveDefs){const s=[];i=i||new Map,a.findHostDirectiveDefs(a,s,i),r.unshift(...s,a),Mh(t,e,s.length)}else r.unshift(a),Mh(t,e,0);else i=i||new Map,a.findHostDirectiveDefs?.(a,r,i),r.push(a)}return null===r?null:[r,i]}(t,n);let a,s;null===o?a=s=null:[a,s]=o,null!==a&&i_(t,e,n,a,i,s),i&&function E3(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new I(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=Ra(n.mergedAttrs,n.attrs)}function i_(t,e,n,r,i,o){for(let c=0;c<r.length;c++)Sd($u(n,e),t,r[c].type);!function x3(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let a=!1,s=!1,u=ss(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=Ra(n.mergedAttrs,l.hostAttrs),A3(t,n,e,u,l),C3(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const f=l.type.prototype;!a&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),a=!0),!s&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),s=!0),u++}!function d3(t,e,n){const i=e.directiveEnd,o=t.data,a=e.attrs,s=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const f=o[l],d=n?n.get(f):null,p=d?d.outputs:null;u=n_(f.inputs,l,u,d?d.inputs:null),c=n_(f.outputs,l,c,p);const g=null===u||null===a||cv(e)?null:I3(u,l,a);s.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=s,e.inputs=u,e.outputs=c}(t,n,o)}function o_(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,a=function sO(){return z.lFrame.currentDirectiveIndex}();try{Si(o);for(let s=r;s<i;s++){const u=t.data[s],c=e[s];vd(s),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&_3(u,c)}}finally{Si(-1),vd(a)}}function _3(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Mh(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function C3(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;qn(e)&&(n[""]=t)}}function A3(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=Di(i.type)),a=new ja(o,qn(i),b);t.blueprint[r]=a,n[r]=a,function v3(t,e,n,r,i){const o=i.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const s=~e.index;(function m3(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=s&&a.push(s),a.push(n,r,o)}}(t,e,r,ss(t,n,i.hostVars,Y),i)}function S3(t,e,n,r,i,o){const a=o[e];if(null!==a)for(let s=0;s<a.length;)a_(r,n,a[s++],a[s++],a[s++])}function a_(t,e,n,r,i){const o=Tn(null);try{const a=t.inputTransforms;null!==a&&a.hasOwnProperty(r)&&(i=a[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{Tn(o)}}function I3(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const a=t[o];for(let s=0;s<a.length;s+=2)if(a[s]===e){r.push(o,a[s+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function s_(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function u_(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const a=t.data[o];yd(n[r]),a.contentQueries(2,e[o],o)}}}function bc(t,e){return t[Pa]?t[gv][Xn]=e:t[Pa]=e,t[gv]=e,e}function Rh(t,e,n){yd(0);const r=Tn(null);try{e(t,n)}finally{Tn(r)}}function c_(t){return t[io]||(t[io]=[])}function l_(t){return t.cleanup||(t.cleanup=[])}function d_(t,e){const n=t[Yr],r=n?n.get(Nr,null):null;r&&r.handleError(e)}function Nh(t,e,n,r,i){for(let o=0;o<n.length;){const a=n[o++],s=n[o++];a_(t.data[a],e[a],r,s,i)}}function b3(t,e){const n=yn(e,t),r=n[N];!function O3(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[Xe];null!==i&&null===n[br]&&(n[br]=hh(i,n[Yr])),Ph(r,n,n[Ke])}function Ph(t,e,n){_d(e);try{const r=t.viewQuery;null!==r&&Rh(1,r,n);const i=t.template;null!==i&&Jy(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&u_(t,e),t.staticViewQueries&&Rh(2,t.viewQuery,n);const o=t.components;null!==o&&function M3(t,e){for(let n=0;n<e.length;n++)b3(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[K]&=-5,wd()}}let h_=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const o=typeof Zone>"u"?null:Zone.current,a=function Fb(t,e,n){const r=Object.create(Lb);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=a=>{r.cleanupFn=a};return r.ref={notify:()=>Av(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Dv(r))return;r.hasRun=!0;const a=ud(r);try{r.cleanupFn(),r.cleanupFn=Nv,r.fn(i)}finally{cd(r,a)}},cleanup:()=>r.cleanupFn()},r.ref}(n,c=>{this.all.has(c)&&this.queue.set(c,o)},i);let s;this.all.add(a),a.notify();const u=()=>{a.cleanup(),s?.(),this.all.delete(a),this.queue.delete(a)};return s=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=U({token:t,providedIn:"root",factory:()=>new t})}return t})();function Oc(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let a=0;a<e.length;a++){const s=e[a];"number"==typeof s?o=s:1==o?i=$f(i,s):2==o&&(r=$f(r,s+": "+e[++a]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function us(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];null!==o&&r.push(Re(o)),Ft(o)&&p_(o,r);const a=n.type;if(8&a)us(t,e,n.child,r);else if(32&a){const s=Bd(n,e);let u;for(;u=s();)r.push(u)}else if(16&a){const s=Ym(e,n);if(Array.isArray(s))r.push(...s);else{const u=Ya(e[Qe]);us(u[N],u,s,r,!0)}}n=i?n.projectionNext:n.next}return r}function p_(t,e){for(let n=mt;n<t.length;n++){const r=t[n],i=r[N].firstChild;null!==i&&us(r[N],r,i,e)}t[cr]!==t[Xe]&&e.push(t[cr])}function Mc(t,e,n,r=!0){const i=e[oo],o=i.rendererFactory,a=i.afterRenderEventManager;o.begin?.(),a?.begin();try{g_(t,e,t.template,n)}catch(u){throw r&&d_(e,u),u}finally{o.end?.(),i.effectManager?.flush(),a?.end()}}function g_(t,e,n,r){const i=e[K];if(256!=(256&i)){e[oo].effectManager?.flush(),_d(e);try{Uv(e),function qv(t){return z.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&Jy(t,e,n,2,r);const a=3==(3&i);if(a){const c=t.preOrderCheckHooks;null!==c&&Uu(e,c,null)}else{const c=t.preOrderHooks;null!==c&&Hu(e,c,0,null),Ed(e,0)}if(function N3(t){for(let e=Bm(t);null!==e;e=Vm(e)){if(!e[mv])continue;const n=e[uo];for(let r=0;r<n.length;r++){Wb(n[r])}}}(e),v_(e,2),null!==t.contentQueries&&u_(t,e),a){const c=t.contentCheckHooks;null!==c&&Uu(e,c)}else{const c=t.contentHooks;null!==c&&Hu(e,c,1),Ed(e,1)}!function i3(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=Xy(e,Ba);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)Si(~o);else{const a=o,s=n[++i],u=n[++i];aO(s,a),r.dirty=!1;const c=ud(r);try{u(2,e[a])}finally{cd(r,c)}}}}finally{null===e[Ba]&&qy(e,Ba),Si(-1)}}(t,e);const s=t.components;null!==s&&y_(e,s,0);const u=t.viewQuery;if(null!==u&&Rh(2,u,r),a){const c=t.viewCheckHooks;null!==c&&Uu(e,c)}else{const c=t.viewHooks;null!==c&&Hu(e,c,2),Ed(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[K]&=-73,Hv(e)}finally{wd()}}}function v_(t,e){for(let n=Bm(t);null!==n;n=Vm(n))for(let r=mt;r<n.length;r++)m_(n[r],e)}function P3(t,e,n){m_(yn(e,t),n)}function m_(t,e){if(!function Gb(t){return 128==(128&t[K])}(t))return;const n=t[N],r=t[K];if(80&r&&0===e||1024&r||2===e)g_(n,t,n.template,t[Ke]);else if(t[Na]>0){v_(t,1);const i=n.components;null!==i&&y_(t,i,1)}}function y_(t,e,n){for(let r=0;r<e.length;r++)P3(t,e[r],n)}class cs{get rootNodes(){const e=this._lView,n=e[N];return us(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ke]}set context(e){this._lView[Ke]=e}get destroyed(){return 256==(256&this._lView[K])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ue];if(Ft(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(oc(e,r),Xu(n,r))}this._attachedToViewContainer=!1}Ud(this._lView[N],this._lView)}onDestroy(e){!function $v(t,e){if(256==(256&t[K]))throw new I(911,!1);null===t[Kr]&&(t[Kr]=[]),t[Kr].push(e)}(this._lView,e)}markForCheck(){os(this._cdRefInjectingView||this._lView)}detach(){this._lView[K]&=-129}reattach(){this._lView[K]|=128}detectChanges(){Mc(this._lView[N],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new I(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function wM(t,e){Qa(t,e,e[Z],2,null,null)}(this._lView[N],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new I(902,!1);this._appRef=e}}class F3 extends cs{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Mc(e[N],e,e[Ke],!1)}checkNoChanges(){}get context(){return null}}class __ extends Ac{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=ue(e);return new ls(n,this.ngModule)}}function w_(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class k3{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Ou(r);const i=this.injector.get(e,vh,r);return i!==vh||n===vh?i:this.parentInjector.get(e,n,r)}}class ls extends Dy{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=w_(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return w_(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function vb(t){return t.map(gb).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=(i=i||this.ngModule)instanceof Fn?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const a=o?new k3(e,o):e,s=a.get(Iy,null);if(null===s)throw new I(407,!1);const f={rendererFactory:s,sanitizer:a.get(NT,null),effectManager:a.get(h_,null),afterRenderEventManager:a.get(xh,null)},d=s.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?function a3(t,e,n,r){const o=r.get($y,!1)||n===zn.ShadowDom,a=t.selectRootElement(e,o);return function s3(t){t_(t)}(a),a}(d,r,this.componentDef.encapsulation,a):ic(d,h,function L3(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),y=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let v=null;null!==p&&(v=hh(p,a,!0));const w=bh(0,null,null,1,0,null,null,null,null,null,null),E=Ic(null,w,null,y,null,null,f,d,a,null,v);let x,D;_d(E);try{const O=this.componentDef;let R,j=null;O.findHostDirectiveDefs?(R=[],j=new Map,O.findHostDirectiveDefs(O,R,j),R.push(O)):R=[O];const H=function V3(t,e){const n=t[N],r=re;return t[r]=e,No(n,r,2,"#host",null)}(E,p),ze=function U3(t,e,n,r,i,o,a){const s=i[N];!function H3(t,e,n,r){for(const i of t)e.mergedAttrs=Ra(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Oc(e,e.mergedAttrs,!0),null!==n&&ey(r,n,e))}(r,t,e,a);let u=null;null!==e&&(u=hh(e,i[Yr]));const c=o.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const f=Ic(i,e_(n),null,l,i[t.index],t,o,c,null,null,u);return s.firstCreatePass&&Mh(s,t,r.length-1),bc(i,f),i[t.index]=f}(H,p,O,R,E,f,d);D=Vv(w,re),p&&function $3(t,e,n,r){if(r)rd(t,n,["ng-version",PT.full]);else{const{attrs:i,classes:o}=function mb(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Wn(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&rd(t,n,i),o&&o.length>0&&Jm(t,n,o.join(" "))}}(d,O,p,r),void 0!==n&&function G3(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(D,this.ngContentSelectors,n),x=function j3(t,e,n,r,i,o){const a=_t(),s=i[N],u=Jt(a,i);i_(s,i,a,n,null,r);for(let l=0;l<n.length;l++)bt(Ii(i,s,a.directiveStart+l,a),i);o_(s,i,a),u&&bt(u,i);const c=Ii(i,s,a.directiveStart+a.componentOffset,a);if(t[Ke]=i[Ke]=c,null!==o)for(const l of o)l(c,e);return Dh(s,a,t),c}(ze,O,R,j,E,[z3]),Ph(w,E,null)}finally{wd()}return new B3(this.componentType,x,Mo(D,E),E,D)}}class B3 extends IT{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new F3(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const o=this._rootLView;Nh(o[N],o,i,e,n),this.previousInputValues.set(e,n),os(yn(this._tNode.index,o))}}get injector(){return new Bt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function z3(){const t=_t();Vu(S()[N],t)}function Ot(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}let V_=function U_(t,e,n,r){return ei(!0),e[Z].createComment("")};function $o(t,e,n){const r=S();return Ot(r,ho(),e)&&function Cn(t,e,n,r,i,o,a,s){const u=Jt(e,n);let l,c=e.inputs;!s&&null!=c&&(l=c[r])?(Nh(t,n,l,r,i),Ai(e)&&function p3(t,e){const n=yn(e,t);16&n[K]||(n[K]|=64)}(n,e.index)):3&e.type&&(r=function h3(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=a?a(i,e.value||"",r):i,o.setProperty(u,r,i))}(ce(),function je(){const t=z.lFrame;return Vv(t.tView,t.selectedIndex)}(),r,t,e,r[Z],n,!1),$o}function Hh(t,e,n,r,i){const a=i?"class":"style";Nh(t,n,e.inputs[a],a,r)}function xn(t,e,n,r){const i=S(),o=ce(),a=re+t,s=i[Z],u=o.firstCreatePass?function DR(t,e,n,r,i,o){const a=e.consts,u=No(e,t,2,r,Jr(a,i));return Oh(e,n,u,Jr(a,o)),null!==u.attrs&&Oc(u,u.attrs,!1),null!==u.mergedAttrs&&Oc(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(a,o,i,e,n,r):o.data[a],c=H_(o,i,u,s,e,t);i[a]=c;const l=Pu(u);return fr(u,!0),ey(s,c,u),32!=(32&u.flags)&&Bu()&&sc(o,i,c,u),0===function qb(){return z.lFrame.elementDepthCount}()&&bt(c,i),function Zb(){z.lFrame.elementDepthCount++}(),l&&(Sh(o,i,u),Dh(o,u,i)),null!==r&&Ih(i,u),xn}function An(){let t=_t();pd()?function gd(){z.lFrame.isParent=!1}():(t=t.parent,fr(t,!1));const e=t;(function Kb(t){return z.skipHydrationRootTNode===t})(e)&&function tO(){z.skipHydrationRootTNode=null}(),function Yb(){z.lFrame.elementDepthCount--}();const n=ce();return n.firstCreatePass&&(Vu(n,t),od(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function yO(t){return 0!=(8&t.flags)}(e)&&Hh(n,e,S(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function _O(t){return 0!=(16&t.flags)}(e)&&Hh(n,e,S(),e.stylesWithoutHost,!1),An}function gs(t,e,n,r){return xn(t,e,n,r),An(),gs}let H_=(t,e,n,r,i,o)=>(ei(!0),ic(r,i,function nm(){return z.lFrame.currentNamespace}()));function vs(t){return!!t&&"function"==typeof t.then}function G_(t){return!!t&&"function"==typeof t.subscribe}function Et(t,e,n,r){const i=S(),o=ce(),a=_t();return function W_(t,e,n,r,i,o,a){const s=Pu(r),c=t.firstCreatePass&&l_(t),l=e[Ke],f=c_(e);let d=!0;if(3&r.type||a){const g=Jt(r,e),m=a?a(g):g,y=f.length,v=a?E=>a(Re(E[r.index])):r.index;let w=null;if(!a&&s&&(w=function RR(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const a=i[o];if(a===n&&i[o+1]===r){const s=e[io],u=i[o+2];return s.length>u?s[u]:null}"string"==typeof a&&(o+=2)}return null}(t,e,i,r.index)),null!==w)(w.__ngLastListenerFn__||w).__ngNextListenerFn__=o,w.__ngLastListenerFn__=o,d=!1;else{o=q_(r,e,l,o,!1);const E=n.listen(m,i,o);f.push(o,E),c&&c.push(i,v,y,y+1)}}else o=q_(r,e,l,o,!1);const h=r.outputs;let p;if(d&&null!==h&&(p=h[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const x=e[p[m]][p[m+1]].subscribe(o),D=f.length;f.push(o,x),c&&c.push(i,r.index,D,-(D+1))}}}(o,i,i[Z],a,t,e,r),Et}function X_(t,e,n,r){try{return lr(6,e,n),!1!==n(r)}catch(i){return d_(t,i),!1}finally{lr(7,e,n)}}function q_(t,e,n,r,i){return function o(a){if(a===Function)return r;os(t.componentOffset>-1?yn(t.index,e):e);let u=X_(e,n,r,a),c=o.__ngNextListenerFn__;for(;c;)u=X_(e,n,c,a)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&a.preventDefault(),u}}function Z_(t=1){return function cO(t){return(z.lFrame.contextLView=function lO(t,e){for(;t>0;)e=e[ao],t--;return e}(t,z.lFrame.contextLView))[Ke]}(t)}function kc(t,e){return t<<17|e<<2}function ri(t){return t>>17&32767}function zh(t){return 2|t}function Ri(t){return(131068&t)>>2}function Wh(t,e){return-131069&t|e<<2}function Xh(t){return 1|t}function ow(t,e,n,r,i){const o=t[n+1],a=null===e;let s=r?ri(o):Ri(o),u=!1;for(;0!==s&&(!1===u||a);){const l=t[s+1];HR(t[s],e)&&(u=!0,t[s+1]=r?Xh(l):zh(l)),s=r?ri(l):Ri(l)}u&&(t[n+1]=r?zh(o):Xh(o))}function HR(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Eo(t,e)>=0}function qh(t,e,n){return function Zn(t,e,n,r){const i=S(),o=ce(),a=function Mr(t){const e=z.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);o.firstUpdatePass&&function hw(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[kt()],a=function dw(t,e){return e>=t.expandoStartIndex}(t,n);(function mw(t,e){return 0!=(t.flags&(e?8:16))})(o,r)&&null===e&&!a&&(e=!1),e=function YR(t,e,n,r){const i=function md(t){const e=z.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=ms(n=Zh(null,t,e,n,r),e.attrs,r),o=null);else{const a=e.directiveStylingLast;if(-1===a||t[a]!==i)if(n=Zh(i,t,e,n,r),null===o){let u=function KR(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ri(r))return t[ri(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=Zh(null,t,e,u[1],r),u=ms(u,e.attrs,r),function QR(t,e,n,r){t[ri(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else o=function JR(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=ms(r,t[o].hostAttrs,n);return ms(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function VR(t,e,n,r,i,o){let a=o?e.classBindings:e.styleBindings,s=ri(a),u=Ri(a);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||Eo(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const d=ri(t[s+1]);t[r+1]=kc(d,s),0!==d&&(t[d+1]=Wh(t[d+1],r)),t[s+1]=function kR(t,e){return 131071&t|e<<17}(t[s+1],r)}else t[r+1]=kc(s,0),0!==s&&(t[s+1]=Wh(t[s+1],r)),s=r;else t[r+1]=kc(u,0),0===s?s=r:t[u+1]=Wh(t[u+1],r),u=r;c&&(t[r+1]=zh(t[r+1])),ow(t,l,r,!0),ow(t,l,r,!1),function UR(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Eo(o,e)>=0&&(n[r+1]=Xh(n[r+1]))}(e,l,t,r,o),a=kc(s,u),o?e.classBindings=a:e.styleBindings=a}(i,o,e,n,a,r)}}(o,t,a,r),e!==Y&&Ot(i,a,e)&&function gw(t,e,n,r,i,o,a,s){if(!(3&e.type))return;const u=t.data,c=u[s+1],l=function BR(t){return 1==(1&t)}(c)?vw(u,e,n,i,Ri(c),a):void 0;Vc(l)||(Vc(o)||function LR(t){return 2==(2&t)}(c)&&(o=vw(u,null,n,i,s,a)),function MM(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:ti.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ti.Important),t.setStyle(n,r,i,o))}}(r,a,ku(kt(),n),i,o))}(o,o.data[kt()],i,i[Z],t,i[a+1]=function rN(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=ot(wn(t)))),t}(e,n),r,a)}(t,e,n,!1),qh}function Zh(t,e,n,r,i){let o=null;const a=n.directiveEnd;let s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(o=e[s],r=ms(r,o.hostAttrs,i),o!==t);)s++;return null!==t&&(n.directiveStylingLast=s),r}function ms(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?i=a:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),_n(t,a,!!n||e[++o]))}return void 0===t?null:t}function vw(t,e,n,r,i,o){const a=null===e;let s;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,f=null===l;let d=n[i+1];d===Y&&(d=f?he:void 0);let h=f?Od(d,r):l===r?d:void 0;if(c&&!Vc(h)&&(h=Od(u,r)),Vc(h)&&(s=h,a))return s;const p=t[i+1];i=a?ri(p):Ri(p)}if(null!==e){let u=o?e.residualClasses:e.residualStyles;null!=u&&(s=Od(u,r))}return s}function Vc(t){return void 0!==t}function Lr(t,e=""){const n=S(),r=ce(),i=t+re,o=r.firstCreatePass?No(r,i,1,e,null):r.data[i],a=yw(r,n,o,e,t);n[i]=a,Bu()&&sc(r,n,a,o),fr(o,!1)}let yw=(t,e,n,r,i)=>(ei(!0),function rc(t,e){return t.createText(e)}(e[Z],r));function Uc(t){return Yh("",t,""),Uc}function Yh(t,e,n){const r=S(),i=function Fo(t,e,n,r){return Ot(t,ho(),n)?e+q(n)+r:Y}(r,t,e,n);return i!==Y&&function Fr(t,e,n){const r=ku(e,t);!function Hm(t,e,n){t.setValue(e,n)}(t[Z],r,n)}(r,kt(),i),Yh}const Wo="en-US";let Uw=Wo;class Pi{}class d2{}class rp extends Pi{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new __(this);const i=mn(e);this._bootstrapComponents=Pr(i.bootstrap),this._r3Injector=Ry(e,n,[{provide:Pi,useValue:this},{provide:Ac,useValue:this.componentFactoryResolver},...r],ot(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class ip extends d2{constructor(e){super(),this.moduleType=e}create(e){return new rp(this.moduleType,e,[])}}class h2 extends Pi{constructor(e){super(),this.componentFactoryResolver=new __(this),this.instance=null;const n=new mc([...e.providers,{provide:Pi,useValue:this},{provide:Ac,useValue:this.componentFactoryResolver}],e.parent||vc(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function op(t,e,n=null){return new h2({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let I8=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=gy(0,n.type),i=r.length>0?op([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=U({token:t,providedIn:"environment",factory:()=>new t(V(Fn))})}return t})();function p2(t){t.getStandaloneInjector=e=>e.get(I8).getOrCreateStandaloneInjector(t)}function J8(){return this._results[Symbol.iterator]()}class sp{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new le)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=sp.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=J8)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function Nn(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function NO(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function t4(t,e,n,r=!0){const i=e[N];if(function CM(t,e,n,r){const i=mt+r,o=n.length;r>0&&(n[i-1][Xn]=e),r<o-mt?(e[Xn]=n[i],mm(n,mt+r,e)):(n.push(e),e[Xn]=null),e[Ue]=n;const a=e[Fa];null!==a&&n!==a&&function xM(t,e){const n=t[uo];e[Qe]!==e[Ue][Ue][Qe]&&(t[mv]=!0),null===n?t[uo]=[e]:n.push(e)}(a,e);const s=e[ur];null!==s&&s.insertView(t),e[K]|=128}(i,e,t,n),r){const o=Gd(n,t),a=e[Z],s=ac(a,t[cr]);null!==s&&function _M(t,e,n,r,i,o){r[Xe]=i,r[It]=e,Qa(t,r,n,1,i,o)}(i,t[It],a,e,s,o)}}let kr=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=i4}return t})();const n4=kr,r4=class extends n4{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function e4(t,e,n,r){const i=e.tView,s=Ic(t,i,n,4096&t[K]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);s[Fa]=t[e.index];const c=t[ur];return null!==c&&(s[ur]=c.createEmbeddedView(i)),Ph(i,s,n),s}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new cs(i)}};function i4(){return zc(_t(),S())}function zc(t,e){return 4&t.type?new r4(e,t,Mo(t,e)):null}let Kn=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=l4}return t})();function l4(){return R2(_t(),S())}const f4=Kn,M2=class extends f4{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Mo(this._hostTNode,this._hostLView)}get injector(){return new Bt(this._hostTNode,this._hostLView)}get parentInjector(){const e=Gu(this._hostTNode,this._hostLView);if(xd(e)){const n=Ga(e,this._hostLView),r=$a(e);return new Bt(n[N].data[r+8],n)}return new Bt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=T2(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-mt}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(s,i,false),s}createComponent(e,n,r,i,o){const a=e&&!function Wa(t){return"function"==typeof t}(e);let s;if(a)s=n;else{const g=n||{};s=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}const u=a?e:new ls(ue(e)),c=r||this.parentInjector;if(!o&&null==u.ngModule){const m=(a?c:this.parentInjector).get(Fn,null);m&&(o=m)}ue(u.componentType??{});const h=u.create(c,i,null,o);return this.insertImpl(h.hostView,s,false),h}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function zb(t){return Ft(t[Ue])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[Ue],l=new M2(c,c[It],c[Ue]);l.detach(l.indexOf(e))}}const a=this._adjustIndex(n),s=this._lContainer;return t4(s,i,a,!r),e.attachToViewContainerRef(),mm(up(s),a,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=T2(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=oc(this._lContainer,n);r&&(Xu(up(this._lContainer),n),Ud(r[N],r))}detach(e){const n=this._adjustIndex(e,-1),r=oc(this._lContainer,n);return r&&null!=Xu(up(this._lContainer),n)?new cs(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function T2(t){return t[8]}function up(t){return t[8]||(t[8]=[])}function R2(t,e){let n;const r=e[t.index];return Ft(r)?n=r:(n=s_(r,e,null,t),e[t.index]=n,bc(e,n)),N2(n,e,t,r),new M2(n,t,e)}let N2=function P2(t,e,n,r){if(t[cr])return;let i;i=8&n.type?Re(r):function d4(t,e){const n=t[Z],r=n.createComment(""),i=Jt(e,t);return bi(n,ac(n,i),r,function IM(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[cr]=i};class cp{constructor(e){this.queryList=e,this.matches=null}clone(){return new cp(this.queryList)}setDirty(){this.queryList.setDirty()}}class lp{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new lp(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==U2(e,n).matches&&this.queries[n].setDirty()}}class F2{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class fp{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new fp(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class dp{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new dp(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,n,g4(n,o)),this.matchTNodeWithReadOption(e,n,zu(n,e,o,!1,!1))}else r===kr?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,zu(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===En||i===Kn||i===kr&&4&n.type)this.addMatch(n.index,-2);else{const o=zu(n,e,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function g4(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function m4(t,e,n,r){return-1===n?function v4(t,e){return 11&t.type?Mo(t,e):4&t.type?zc(t,e):null}(e,t):-2===n?function y4(t,e,n){return n===En?Mo(e,t):n===kr?zc(e,t):n===Kn?R2(e,t):void 0}(t,e,r):Ii(t,t[N],n,e)}function L2(t,e,n,r){const i=e[ur].queries[r];if(null===i.matches){const o=t.data,a=n.matches,s=[];for(let u=0;u<a.length;u+=2){const c=a[u];s.push(c<0?null:m4(e,o[c],a[u+1],n.metadata.read))}i.matches=s}return i.matches}function hp(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const a=L2(t,e,i,n);for(let s=0;s<o.length;s+=2){const u=o[s];if(u>0)r.push(a[s/2]);else{const c=o[s+1],l=e[-u];for(let f=mt;f<l.length;f++){const d=l[f];d[Fa]===d[Ue]&&hp(d[N],d,c,r)}if(null!==l[uo]){const f=l[uo];for(let d=0;d<f.length;d++){const h=f[d];hp(h[N],h,c,r)}}}}}return r}function Xo(t){const e=S(),n=ce(),r=Yv();yd(r+1);const i=U2(n,r);if(t.dirty&&function $b(t){return 4==(4&t[K])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?hp(n,e,r,[]):L2(n,e,i,r);t.reset(o,TT),t.notifyOnChanges()}return!0}return!1}function Ds(t,e,n){const r=ce();r.firstCreatePass&&(function V2(t,e,n){null===t.queries&&(t.queries=new fp),t.queries.track(new dp(e,n))}(r,new F2(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function B2(t,e,n){const r=new sp(4==(4&n));(function l3(t,e,n,r){const i=c_(e);i.push(n),t.firstCreatePass&&l_(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[ur]&&(e[ur]=new lp),e[ur].queries.push(new cp(r))}(r,S(),e)}function qo(){return function _4(t,e){return t[ur].queries[e].queryList}(S(),Yv())}function U2(t,e){return t.queries.getByIndex(e)}const qc=new k("Application Initializer");let _p=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=P(qc,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(vs(o))n.push(o);else if(G_(o)){const a=new Promise((s,u)=>{o.subscribe({complete:s,error:u})});n.push(a)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),rE=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const Br=new k("LocaleId",{providedIn:"root",factory:()=>P(Br,ne.Optional|ne.SkipSelf)||function j4(){return typeof $localize<"u"&&$localize.locale||Wo}()});let iE=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new pn(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class z4{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let oE=(()=>{class t{compileModuleSync(n){return new ip(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=Pr(mn(n).declarations).reduce((a,s)=>{const u=ue(s);return u&&a.push(new ls(u)),a},[]);return new z4(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const cE=new k(""),Yc=new k("");let Ap,Cp=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ap||(function fP(t){Ap=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ie.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(V(Ie),V(xp),V(Yc))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),xp=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Ap?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),ii=null;const lE=new k("AllowMultipleToken"),Dp=new k("PlatformDestroyListeners"),Sp=new k("appBootstrapListener");class dE{constructor(e,n){this.name=e,this.token=n}}function pE(t,e,n=[]){const r=`Platform: ${e}`,i=new k(r);return(o=[])=>{let a=Ip();if(!a||a.injector.get(lE,!1)){const s=[...n,...o,{provide:i,useValue:!0}];t?t(s):function pP(t){if(ii&&!ii.get(lE,!1))throw new I(400,!1);(function fE(){!function Mb(t){Ov=t}(()=>{throw new I(600,!1)})})(),ii=t;const e=t.get(vE);(function hE(t){t.get(wy,null)?.forEach(n=>n())})(t)}(function gE(t=[],e){return Vt.create({name:e,providers:[{provide:nh,useValue:"platform"},{provide:Dp,useValue:new Set([()=>ii=null])},...t]})}(s,r))}return function vP(t){const e=Ip();if(!e)throw new I(401,!1);return e}()}}function Ip(){return ii?.get(vE)??null}let vE=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function mP(t="zone.js",e){return"noop"===t?new WT:"zone.js"===t?new Ie(e):t}(r?.ngZone,function mE(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function S8(t,e,n){return new rp(t,e,n)}(n.moduleType,this.injector,function CE(t){return[{provide:Ie,useFactory:t},{provide:ts,multi:!0,useFactory:()=>{const e=P(_P,{optional:!0});return()=>e.initialize()}},{provide:EE,useFactory:yP},{provide:ky,useFactory:By}]}(()=>i)),a=o.injector.get(Nr,null);return i.runOutsideAngular(()=>{const s=i.onError.subscribe({next:u=>{a.handleError(u)}});o.onDestroy(()=>{Kc(this._modules,o),s.unsubscribe()})}),function yE(t,e,n){try{const r=n();return vs(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,i,()=>{const s=o.injector.get(_p);return s.runInitializers(),s.donePromise.then(()=>(function Hw(t){On(t,"Expected localeId to be defined"),"string"==typeof t&&(Uw=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Br,Wo)||Wo),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,r=[]){const i=_E({},r);return function dP(t,e,n){const r=new ip(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(Fi);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new I(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new I(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Dp,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(V(Vt))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function _E(t,e){return Array.isArray(e)?e.reduce(_E,t):{...t,...e}}let Fi=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=P(EE),this.zoneIsStable=P(ky),this.componentTypes=[],this.components=[],this.isStable=P(iE).hasPendingTasks.pipe(Zt(n=>n?$(!1):this.zoneIsStable),function HI(t,e=Xr){return t=t??jI,Ze((n,r)=>{let i,o=!0;n.subscribe(Ye(r,a=>{const s=e(a);(o||!t(i,s))&&(o=!1,i=s,r.next(a))}))})}(),Xg()),this._injector=P(Fn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof Dy;if(!this._injector.get(_p).done)throw!i&&function ro(t){const e=ue(t)||vt(t)||Pt(t);return null!==e&&e.standalone}(n),new I(405,!1);let a;a=i?n:this._injector.get(Ac).resolveComponentFactory(n),this.componentTypes.push(a.componentType);const s=function hP(t){return t.isBoundToModule}(a)?void 0:this._injector.get(Pi),c=a.create(Vt.NULL,[],r||a.selector,s),l=c.location.nativeElement,f=c.injector.get(cE,null);return f?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),Kc(this.components,c),f?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new I(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Kc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Sp,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Kc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new I(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Kc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const EE=new k("",{providedIn:"root",factory:()=>P(Nr).handleError.bind(void 0)});function yP(){const t=P(Ie),e=P(Nr);return n=>t.runOutsideAngular(()=>e.handleError(n))}let _P=(()=>{class t{constructor(){this.zone=P(Ie),this.applicationRef=P(Fi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let Qc=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=CP}return t})();function CP(t){return function xP(t,e,n){if(Ai(t)&&!n){const r=yn(t.index,e);return new cs(r,r)}return 47&t.type?new cs(e[Qe],e):null}(_t(),S(),16==(16&t))}const LP=pE(null,"core",[]);let kP=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)(V(Fi))};static#t=this.\u0275mod=Mn({type:t});static#n=this.\u0275inj=vn({})}return t})(),Np=null;function oi(){return Np}class KP{}const rn=new k("DocumentToken");let Pp=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:function(){return P(JP)},providedIn:"platform"})}return t})();const QP=new k("Location Initialized");let JP=(()=>{class t extends Pp{constructor(){super(),this._doc=P(rn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return oi().getBaseHref(this._doc)}onPopState(n){const r=oi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=oi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function Fp(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function UE(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Vr(t){return t&&"?"!==t[0]?"?"+t:t}let ki=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:function(){return P(jE)},providedIn:"root"})}return t})();const HE=new k("appBaseHref");let jE=(()=>{class t extends ki{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P(rn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Fp(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Vr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const a=this.prepareExternalUrl(i+Vr(o));this._platformLocation.pushState(n,r,a)}replaceState(n,r,i,o){const a=this.prepareExternalUrl(i+Vr(o));this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(V(Pp),V(HE,8))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),e6=(()=>{class t extends ki{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Fp(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let a=this.prepareExternalUrl(i+Vr(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(n,r,a)}replaceState(n,r,i,o){let a=this.prepareExternalUrl(i+Vr(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(V(Pp),V(HE,8))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),Lp=(()=>{class t{constructor(n){this._subject=new le,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function r6(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(UE($E(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Vr(r))}normalize(n){return t.stripTrailingSlash(function n6(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,$E(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Vr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Vr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=Vr;static#t=this.joinWithSlash=Fp;static#n=this.stripTrailingSlash=UE;static#r=this.\u0275fac=function(r){return new(r||t)(V(ki))};static#i=this.\u0275prov=U({token:t,factory:function(){return function t6(){return new Lp(V(ki))}()},providedIn:"root"})}return t})();function $E(t){return t.replace(/\/index.html$/,"")}let tC=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new W6,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){nC("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){nC("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(b(Kn),b(kr))};static#t=this.\u0275dir=X({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class W6{constructor(){this.$implicit=null,this.ngIf=null}}function nC(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${ot(e)}'.`)}let oC=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Mn({type:t});static#n=this.\u0275inj=vn({})}return t})();const aC="browser";function sC(t){return t===aC}function uC(t){return"server"===t}let wF=(()=>{class t{static#e=this.\u0275prov=U({token:t,providedIn:"root",factory:()=>new EF(V(rn),window)})}return t})();class EF{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function CF(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const a=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(a)return a}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class WF extends KP{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Jp extends WF{static makeCurrent(){!function YP(t){Np||(Np=t)}(new Jp)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function XF(){return Rs=Rs||document.querySelector("base"),Rs?Rs.getAttribute("href"):null}();return null==n?null:function qF(t){gl=gl||document.createElement("a"),gl.setAttribute("href",t);const e=gl.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Rs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function H6(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let gl,Rs=null,YF=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})();const e0=new k("EventManagerPlugins");let hC=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new I(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(V(e0),V(Ie))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})();class pC{constructor(e){this._doc=e}}const t0="ng-app-id";let gC=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=uC(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${t0}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(t0),o;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(t0,this.appId),a}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const o=this.styleRef,a=o.get(r)?.elements;a?a.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(V(rn),V(yc),V(Ey,8),V(ni))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})();const n0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},r0=/%COMP%/g,e5=new k("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function mC(t,e){return e.map(n=>n.replace(r0,t))}let yC=(()=>{class t{constructor(n,r,i,o,a,s,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=s,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=uC(s),this.defaultRenderer=new o0(n,a,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===zn.ShadowDom&&(r={...r,encapsulation:zn.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof wC?i.applyToHost(n):i instanceof a0&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const a=this.doc,s=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(r.encapsulation){case zn.Emulated:o=new wC(u,c,r,this.appId,l,a,s,f);break;case zn.ShadowDom:return new i5(u,c,n,r,a,s,this.nonce,f);default:o=new a0(u,c,r,l,a,s,f)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(V(hC),V(gC),V(yc),V(e5),V(rn),V(ni),V(Ie),V(Ey))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})();class o0{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(n0[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(_C(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(_C(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new I(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=n0[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=n0[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(ti.DashCase|ti.Important)?e.style.setProperty(n,r,i&ti.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&ti.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=oi().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function _C(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class i5 extends o0{constructor(e,n,r,i,o,a,s,u){super(e,o,a,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=mC(i.id,i.styles);for(const l of c){const f=document.createElement("style");s&&f.setAttribute("nonce",s),f.textContent=l,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class a0 extends o0{constructor(e,n,r,i,o,a,s,u){super(e,o,a,s),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?mC(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class wC extends a0{constructor(e,n,r,i,o,a,s,u){const c=i+"-"+r.id;super(e,n,r,o,a,s,u,c),this.contentAttr=function t5(t){return"_ngcontent-%COMP%".replace(r0,t)}(c),this.hostAttr=function n5(t){return"_nghost-%COMP%".replace(r0,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let o5=(()=>{class t extends pC{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(V(rn))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})();const EC=["alt","control","meta","shift"],a5={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},s5={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let u5=(()=>{class t extends pC{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const o=t.parseEventName(r),a=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>oi().onAndCancel(n,o.domEventName,a))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let a="",s=r.indexOf("code");if(s>-1&&(r.splice(s,1),a="code."),EC.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),a+=c+".")}),a+=o,0!=r.length||0===o.length)return null;const u={};return u.domEventName=i,u.fullKey=a,u}static matchEventFullKeyCode(n,r){let i=a5[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),EC.forEach(a=>{a!==i&&(0,s5[a])(n)&&(o+=a+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)(V(rn))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})();const xC=[{provide:ni,useValue:aC},{provide:wy,useValue:function c5(){Jp.makeCurrent()},multi:!0},{provide:rn,useFactory:function f5(){return function FM(t){Xd=t}(document),document},deps:[]}],d5=pE(LP,"browser",xC),h5=new k(""),AC=[{provide:Yc,useClass:class ZF{addToWindow(e){Te.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new I(5103,!1);return o},Te.getAllAngularTestabilities=()=>e.getAllTestabilities(),Te.getAllAngularRootElements=()=>e.getAllRootElements(),Te.frameworkStabilizers||(Te.frameworkStabilizers=[]),Te.frameworkStabilizers.push(r=>{const i=Te.getAllAngularTestabilities();let o=i.length,a=!1;const s=function(u){a=a||u,o--,0==o&&r(a)};i.forEach(u=>{u.whenStable(s)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?oi().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:cE,useClass:Cp,deps:[Ie,xp,Yc]},{provide:Cp,useClass:Cp,deps:[Ie,xp,Yc]}],DC=[{provide:nh,useValue:"root"},{provide:Nr,useFactory:function l5(){return new Nr},deps:[]},{provide:e0,useClass:o5,multi:!0,deps:[rn,Ie,ni]},{provide:e0,useClass:u5,multi:!0,deps:[rn]},yC,gC,hC,{provide:Iy,useExisting:yC},{provide:class xF{},useClass:YF,deps:[]},[]];let p5=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:yc,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(V(h5,12))};static#t=this.\u0275mod=Mn({type:t});static#n=this.\u0275inj=vn({providers:[...DC,...AC],imports:[oC,kP]})}return t})(),SC=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)(V(rn))};static#t=this.\u0275prov=U({token:t,factory:function(r){let i=null;return i=r?new r:function v5(){return new SC(V(rn))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;let OC=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:function(r){let i=null;return i=r?new(r||t):V(MC),i},providedIn:"root"})}return t})(),MC=(()=>{class t extends OC{constructor(n){super(),this._doc=n}sanitize(n,r){if(null==r)return null;switch(n){case Pn.NONE:return r;case Pn.HTML:return hr(r,"HTML")?wn(r):ly(this._doc,String(r)).toString();case Pn.STYLE:return hr(r,"Style")?wn(r):r;case Pn.SCRIPT:if(hr(r,"Script"))return wn(r);throw new I(5200,!1);case Pn.URL:return hr(r,"URL")?wn(r):fc(String(r));case Pn.RESOURCE_URL:if(hr(r,"ResourceURL"))return wn(r);throw new I(5201,!1);default:throw new I(5202,!1)}}bypassSecurityTrustHtml(n){return function jM(t){return new LM(t)}(n)}bypassSecurityTrustStyle(n){return function $M(t){return new kM(t)}(n)}bypassSecurityTrustScript(n){return function GM(t){return new BM(t)}(n)}bypassSecurityTrustUrl(n){return function zM(t){return new VM(t)}(n)}bypassSecurityTrustResourceUrl(n){return function WM(t){return new UM(t)}(n)}static#e=this.\u0275fac=function(r){return new(r||t)(V(rn))};static#t=this.\u0275prov=U({token:t,factory:function(r){let i=null;return i=r?new r:function w5(t){return new MC(t.get(rn))}(V(Vt)),i},providedIn:"root"})}return t})();const{isArray:C5}=Array,{getPrototypeOf:x5,prototype:A5,keys:D5}=Object;const{isArray:I5}=Array;function u0(t){return se(e=>function b5(t,e){return I5(e)?t(...e):t(e)}(t,e))}function c0(...t){const e=ba(t),n=function $g(t){return te(Uf(t))?t.pop():void 0}(t),{args:r,keys:i}=function RC(t){if(1===t.length){const e=t[0];if(C5(e))return{args:e,keys:null};if(function S5(t){return t&&"object"==typeof t&&x5(t)===A5}(e)){const n=D5(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t);if(0===r.length)return dt([],e);const o=new Ve(function O5(t,e,n=Xr){return r=>{PC(e,()=>{const{length:i}=t,o=new Array(i);let a=i,s=i;for(let u=0;u<i;u++)PC(e,()=>{const c=dt(t[u],e);let l=!1;c.subscribe(Ye(r,f=>{o[u]=f,l||(l=!0,s--),s||r.next(n(o.slice()))},()=>{--a||r.complete()}))},r)},r)}}(r,e,i?a=>function NC(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}(i,a):Xr));return n?o.pipe(u0(n)):o}function PC(t,e,n){t?Dr(n,t,e):e()}const vl=Da(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Ns(...t){return function M5(){return eo(1)}()(dt(t,ba(t)))}function ml(t){return new Ve(e=>{St(t()).subscribe(e)})}function Jo(t,e){const n=te(t)?t:()=>t,r=i=>i.error(n());return new Ve(e?i=>e.schedule(r,0,i):r)}function l0(){return Ze((t,e)=>{let n=null;t._refCount++;const r=Ye(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class f0 extends Ve{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,bg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Xt;const n=this.getSubject();e.add(this.source.subscribe(Ye(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Xt.EMPTY)}return e}refCount(){return l0()(this)}}function on(t){return t<=0?()=>ar:Ze((e,n)=>{let r=0;e.subscribe(Ye(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function an(t,e){return Ze((n,r)=>{let i=0;n.subscribe(Ye(r,o=>t.call(e,o,i++)&&r.next(o)))})}function yl(t){return Ze((e,n)=>{let r=!1;e.subscribe(Ye(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function FC(t=R5){return Ze((e,n)=>{let r=!1;e.subscribe(Ye(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function R5(){return new vl}function Bi(t,e){const n=arguments.length>=2;return r=>r.pipe(t?an((i,o)=>t(i,o,r)):Xr,on(1),n?yl(e):FC(()=>new vl))}function Ps(t,e){return te(e)?it(t,e,1):it(t,1)}function Ct(t,e,n){const r=te(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ze((i,o)=>{var a;null===(a=r.subscribe)||void 0===a||a.call(r);let s=!0;i.subscribe(Ye(o,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),o.next(u)},()=>{var u;s=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var c;s=!1,null===(c=r.error)||void 0===c||c.call(r,u),o.error(u)},()=>{var u,c;s&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Xr}function Vi(t){return Ze((e,n)=>{let o,r=null,i=!1;r=e.subscribe(Ye(n,void 0,void 0,a=>{o=St(t(a,Vi(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function d0(t){return t<=0?()=>ar:Ze((e,n)=>{let r=[];e.subscribe(Ye(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function LC(t){return se(()=>t)}function h0(t){return Ze((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const Q="primary",Fs=Symbol("RouteTitle");class k5{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function ea(t){return new k5(t)}function B5(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const a=r[o],s=t[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function _r(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!kC(t[i],e[i]))return!1;return!0}function kC(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function BC(t){return t.length>0?t[t.length-1]:null}function si(t){return function E5(t){return!!t&&(t instanceof Ve||te(t.lift)&&te(t.subscribe))}(t)?t:vs(t)?dt(Promise.resolve(t)):$(t)}const U5={exact:function HC(t,e,n){if(!Ui(t.segments,e.segments)||!_l(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!HC(t.children[r],e.children[r],n))return!1;return!0},subset:jC},VC={exact:function H5(t,e){return _r(t,e)},subset:function j5(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>kC(t[n],e[n]))},ignored:()=>!0};function UC(t,e,n){return U5[n.paths](t.root,e.root,n.matrixParams)&&VC[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function jC(t,e,n){return $C(t,e,e.segments,n)}function $C(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Ui(i,n)||e.hasChildren()||!_l(i,n,r))}if(t.segments.length===n.length){if(!Ui(t.segments,n)||!_l(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!jC(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(Ui(t.segments,i)&&_l(t.segments,i,r)&&t.children[Q])&&$C(t.children[Q],e,o,r)}}function _l(t,e,n){return e.every((r,i)=>VC[n](t[i].parameters,r.parameters))}class ta{constructor(e=new Ae([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ea(this.queryParams)),this._queryParamMap}toString(){return z5.serialize(this)}}class Ae{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wl(this)}}class Ls{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=ea(this.parameters)),this._parameterMap}toString(){return WC(this)}}function Ui(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let ks=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:function(){return new p0},providedIn:"root"})}return t})();class p0{parse(e){const n=new nL(e);return new ta(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Bs(e.root,!0)}`,r=function q5(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${El(n)}=${El(i)}`).join("&"):`${El(n)}=${El(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function W5(t){return encodeURI(t)}(e.fragment)}`:""}`}}const z5=new p0;function wl(t){return t.segments.map(e=>WC(e)).join("/")}function Bs(t,e){if(!t.hasChildren())return wl(t);if(e){const n=t.children[Q]?Bs(t.children[Q],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==Q&&r.push(`${i}:${Bs(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function G5(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Q&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Q&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===Q?[Bs(t.children[Q],!1)]:[`${i}:${Bs(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Q]?`${wl(t)}/${n[0]}`:`${wl(t)}/(${n.join("//")})`}}function GC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function El(t){return GC(t).replace(/%3B/gi,";")}function g0(t){return GC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Cl(t){return decodeURIComponent(t)}function zC(t){return Cl(t.replace(/\+/g,"%20"))}function WC(t){return`${g0(t.path)}${function X5(t){return Object.keys(t).map(e=>`;${g0(e)}=${g0(t[e])}`).join("")}(t.parameters)}`}const Z5=/^[^\/()?;#]+/;function v0(t){const e=t.match(Z5);return e?e[0]:""}const Y5=/^[^\/()?;=#]+/,Q5=/^[^=?&#]+/,eL=/^[^&#]+/;class nL{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ae([],{}):new Ae([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Q]=new Ae(e,n)),r}parseSegment(){const e=v0(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new I(4009,!1);return this.capture(e),new Ls(Cl(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function K5(t){const e=t.match(Y5);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=v0(this.remaining);i&&(r=i,this.capture(r))}e[Cl(n)]=Cl(r)}parseQueryParam(e){const n=function J5(t){const e=t.match(Q5);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const a=function tL(t){const e=t.match(eL);return e?e[0]:""}(this.remaining);a&&(r=a,this.capture(r))}const i=zC(n),o=zC(r);if(e.hasOwnProperty(i)){let a=e[i];Array.isArray(a)||(a=[a],e[i]=a),a.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=v0(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new I(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Q);const a=this.parseChildren();n[o]=1===Object.keys(a).length?a[Q]:new Ae([],a),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new I(4011,!1)}}function XC(t){return t.segments.length>0?new Ae([],{[Q]:t}):t}function qC(t){const e={};for(const r of Object.keys(t.children)){const o=qC(t.children[r]);if(r===Q&&0===o.segments.length&&o.hasChildren())for(const[a,s]of Object.entries(o.children))e[a]=s;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function rL(t){if(1===t.numberOfChildren&&t.children[Q]){const e=t.children[Q];return new Ae(t.segments.concat(e.segments),e.children)}return t}(new Ae(t.segments,e))}function Hi(t){return t instanceof ta}function ZC(t){let e;const i=XC(function n(o){const a={};for(const u of o.children){const c=n(u);a[u.outlet]=c}const s=new Ae(o.url,a);return o===t&&(e=s),s}(t.root));return e??i}function YC(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return m0(i,i,i,n,r);const o=function oL(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new QC(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,a)=>{if("object"==typeof o&&null!=o){if(o.outlets){const s={};return Object.entries(o.outlets).forEach(([u,c])=>{s[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:s}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===a?(o.split("/").forEach((s,u)=>{0==u&&"."===s||(0==u&&""===s?n=!0:".."===s?e++:""!=s&&i.push(s))}),i):[...i,o]},[]);return new QC(n,e,r)}(e);if(o.toRoot())return m0(i,i,new Ae([],{}),n,r);const a=function aL(t,e,n){if(t.isAbsolute)return new Al(e,!0,0);if(!n)return new Al(e,!1,NaN);if(null===n.parent)return new Al(n,!0,0);const r=xl(t.commands[0])?0:1;return function sL(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new I(4005,!1);i=r.segments.length}return new Al(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),s=a.processChildren?Us(a.segmentGroup,a.index,o.commands):JC(a.segmentGroup,a.index,o.commands);return m0(i,a.segmentGroup,s,n,r)}function xl(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Vs(t){return"object"==typeof t&&null!=t&&t.outlets}function m0(t,e,n,r,i){let a,o={};r&&Object.entries(r).forEach(([u,c])=>{o[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),a=t===e?n:KC(t,e,n);const s=XC(qC(a));return new ta(s,o,i)}function KC(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:KC(o,e,n)}),new Ae(t.segments,r)}class QC{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&xl(r[0]))throw new I(4003,!1);const i=r.find(Vs);if(i&&i!==BC(r))throw new I(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Al{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function JC(t,e,n){if(t||(t=new Ae([],{})),0===t.segments.length&&t.hasChildren())return Us(t,e,n);const r=function cL(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const a=t.segments[i],s=n[r];if(Vs(s))break;const u=`${s}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!tx(u,c,a))return o;r+=2}else{if(!tx(u,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new Ae(t.segments.slice(0,r.pathIndex),{});return o.children[Q]=new Ae(t.segments.slice(r.pathIndex),t.children),Us(o,0,i)}return r.match&&0===i.length?new Ae(t.segments,{}):r.match&&!t.hasChildren()?y0(t,e,n):r.match?Us(t,0,i):y0(t,e,n)}function Us(t,e,n){if(0===n.length)return new Ae(t.segments,{});{const r=function uL(t){return Vs(t[0])?t[0].outlets:{[Q]:t}}(n),i={};if(Object.keys(r).some(o=>o!==Q)&&t.children[Q]&&1===t.numberOfChildren&&0===t.children[Q].segments.length){const o=Us(t.children[Q],e,n);return new Ae(t.segments,o.children)}return Object.entries(r).forEach(([o,a])=>{"string"==typeof a&&(a=[a]),null!==a&&(i[o]=JC(t.children[o],e,a))}),Object.entries(t.children).forEach(([o,a])=>{void 0===r[o]&&(i[o]=a)}),new Ae(t.segments,i)}}function y0(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Vs(o)){const u=lL(o.outlets);return new Ae(r,u)}if(0===i&&xl(n[0])){r.push(new Ls(t.segments[e].path,ex(n[0]))),i++;continue}const a=Vs(o)?o.outlets[Q]:`${o}`,s=i<n.length-1?n[i+1]:null;a&&s&&xl(s)?(r.push(new Ls(a,ex(s))),i+=2):(r.push(new Ls(a,{})),i++)}return new Ae(r,{})}function lL(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=y0(new Ae([],{}),0,r))}),e}function ex(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function tx(t,e,n){return t==n.path&&_r(e,n.parameters)}const Hs="imperative";class wr{constructor(e,n){this.id=e,this.url=n}}class Dl extends wr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ui extends wr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class js extends wr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class na extends wr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class Sl extends wr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class nx extends wr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fL extends wr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dL extends wr{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class hL extends wr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pL extends wr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gL{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class vL{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class mL{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yL{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _L{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wL{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rx{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class _0{}class w0{constructor(e){this.url=e}}class EL{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new $s,this.attachRef=null}}let $s=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new EL,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class ix{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=E0(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=E0(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=C0(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return C0(e,this._root).map(n=>n.value)}}function E0(t,e){if(t===e.value)return e;for(const n of e.children){const r=E0(t,n);if(r)return r}return null}function C0(t,e){if(t===e.value)return[e];for(const n of e.children){const r=C0(t,n);if(r.length)return r.unshift(e),r}return[]}class jr{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function ra(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class ox extends ix{constructor(e,n){super(e),this.snapshot=n,x0(this,e)}toString(){return this.snapshot.toString()}}function ax(t,e){const n=function CL(t,e){const a=new Il([],{},{},"",{},Q,e,null,{});return new ux("",new jr(a,[]))}(0,e),r=new pn([new Ls("",{})]),i=new pn({}),o=new pn({}),a=new pn({}),s=new pn(""),u=new ia(r,i,a,s,o,Q,e,n.root);return u.snapshot=n.root,new ox(new jr(u,[]),n)}class ia{constructor(e,n,r,i,o,a,s,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=a,this.component=s,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(se(c=>c[Fs]))??$(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(se(e=>ea(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(se(e=>ea(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function sx(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function xL(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Il{get title(){return this.data?.[Fs]}constructor(e,n,r,i,o,a,s,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ea(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ea(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ux extends ix{constructor(e,n){super(n),this.url=e,x0(this,n)}toString(){return cx(this._root)}}function x0(t,e){e.value._routerState=t,e.children.forEach(n=>x0(t,n))}function cx(t){const e=t.children.length>0?` { ${t.children.map(cx).join(", ")} } `:"";return`${t.value}${e}`}function A0(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,_r(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),_r(e.params,n.params)||t.paramsSubject.next(n.params),function V5(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!_r(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),_r(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function D0(t,e){const n=_r(t.params,e.params)&&function $5(t,e){return Ui(t,e)&&t.every((n,r)=>_r(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||D0(t.parent,e.parent))}let S0=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Q,this.activateEvents=new le,this.deactivateEvents=new le,this.attachEvents=new le,this.detachEvents=new le,this.parentContexts=P($s),this.location=P(Kn),this.changeDetector=P(Qc),this.environmentInjector=P(Fn),this.inputBinder=P(bl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new I(4013,!1);this._activatedRoute=n;const i=this.location,a=n.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,u=new AL(n,s,i.injector);this.activated=i.createComponent(a,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=X({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Rn]})}return t})();class AL{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ia?this.route:e===$s?this.childContexts:this.parent.get(e,n)}}const bl=new k("");let lx=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=c0([r.queryParams,r.params,r.data]).pipe(Zt(([o,a,s],u)=>(s={...o,...a,...s},0===u?$(s):Promise.resolve(s)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const a=function ZP(t){const e=ue(t);if(!e)return null;const n=new ls(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(a)for(const{templateName:s}of a.inputs)n.activatedComponentRef.setInput(s,o[s]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})();function Gs(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function SL(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Gs(t,r,i);return Gs(t,r)})}(t,e,n);return new jr(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const a=o.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(s=>Gs(t,s)),a}}const r=function IL(t){return new ia(new pn(t.url),new pn(t.params),new pn(t.queryParams),new pn(t.fragment),new pn(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>Gs(t,o));return new jr(r,i)}}const I0="ngNavigationCancelingError";function fx(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Hi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=dx(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function dx(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[I0]=!0,r.cancellationCode=e,n&&(r.url=n),r}function hx(t){return t&&t[I0]}let px=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=no({type:t,selectors:[["ng-component"]],standalone:!0,features:[p2],decls:1,vars:0,template:function(r,i){1&r&&gs(0,"router-outlet")},dependencies:[S0],encapsulation:2})}return t})();function b0(t){const e=t.children&&t.children.map(b0),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Q&&(n.component=px),n}function er(t){return t.outlet||Q}function zs(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class FL{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),A0(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=ra(n);e.children.forEach(o=>{const a=o.value.outlet;this.deactivateRoutes(o,i[a],r),delete i[a]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const a=r.getContext(i.outlet);a&&this.deactivateChildRoutes(e,n,a.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ra(e);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],i);if(r&&r.outlet){const a=r.outlet.detach(),s=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:s})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ra(e);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=ra(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new wL(o.value.snapshot))}),e.children.length&&this.forwardEvent(new yL(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(A0(i),i===o)if(i.component){const a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,a.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const s=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),A0(s.route.value),this.activateChildRoutes(e,null,a.children)}else{const s=zs(i.snapshot);a.attachRef=null,a.route=i,a.injector=s,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,r)}}class gx{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ol{constructor(e,n){this.component=e,this.route=n}}function LL(t,e,n){const r=t._root;return Ws(r,e?e._root:null,n,[r.value])}function oa(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function ZI(t){return null!==Du(t)}(t)?e.get(t):t:r}function Ws(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=ra(e);return t.children.forEach(a=>{(function BL(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,a=e?e.value:null,s=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const u=function VL(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ui(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ui(t.url,e.url)||!_r(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!D0(t,e)||!_r(t.queryParams,e.queryParams);default:return!D0(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new gx(r)):(o.data=a.data,o._resolvedData=a._resolvedData),Ws(t,e,o.component?s?s.children:null:n,r,i),u&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new Ol(s.outlet.component,a))}else a&&Xs(e,s,i),i.canActivateChecks.push(new gx(r)),Ws(t,null,o.component?s?s.children:null:n,r,i)})(a,o[a.value.outlet],n,r.concat([a.value]),i),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,s])=>Xs(s,n.getContext(a),i)),i}function Xs(t,e,n){const r=ra(t),i=t.value;Object.entries(r).forEach(([o,a])=>{Xs(a,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Ol(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function qs(t){return"function"==typeof t}function vx(t){return t instanceof vl||"EmptyError"===t?.name}const Ml=Symbol("INITIAL_VALUE");function aa(){return Zt(t=>c0(t.map(e=>e.pipe(on(1),function T5(...t){const e=ba(t);return Ze((n,r)=>{(e?Ns(t,n,e):Ns(t,n)).subscribe(r)})}(Ml)))).pipe(se(e=>{for(const n of e)if(!0!==n){if(n===Ml)return Ml;if(!1===n||n instanceof ta)return n}return!0}),an(e=>e!==Ml),on(1)))}function mx(t){return function JS(...t){return Dg(t)}(Ct(e=>{if(Hi(e))throw fx(0,e)}),se(e=>!0===e))}class Tl{constructor(e){this.segmentGroup=e||null}}class yx{constructor(e){this.urlTree=e}}function sa(t){return Jo(new Tl(t))}function _x(t){return Jo(new yx(t))}class o7{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new I(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return $(r);if(i.numberOfChildren>1||!i.children[Q])return Jo(new I(4e3,!1));i=i.children[Q]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new ta(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const s=o.substring(1);r[i]=n[s]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let a={};return Object.entries(n.children).forEach(([s,u])=>{a[s]=this.createSegmentGroup(e,u,r,i)}),new Ae(o,a)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new I(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const O0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function a7(t,e,n,r,i){const o=M0(t,e,n);return o.matched?(r=function OL(t,e){return t.providers&&!t._injector&&(t._injector=op(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function n7(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?$(i.map(a=>{const s=oa(a,t);return si(function zL(t){return t&&qs(t.canMatch)}(s)?s.canMatch(e,n):t.runInContext(()=>s(e,n)))})).pipe(aa(),mx()):$(!0)}(r,e,n).pipe(se(a=>!0===a?o:{...O0}))):$(o)}function M0(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...O0}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||B5)(n,t,e);if(!i)return{...O0};const o={};Object.entries(i.posParams??{}).forEach(([s,u])=>{o[s]=u.path});const a=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function wx(t,e,n,r){return n.length>0&&function c7(t,e,n){return n.some(r=>Rl(t,e,r)&&er(r)!==Q)}(t,n,r)?{segmentGroup:new Ae(e,u7(r,new Ae(n,t.children))),slicedSegments:[]}:0===n.length&&function l7(t,e,n){return n.some(r=>Rl(t,e,r))}(t,n,r)?{segmentGroup:new Ae(t.segments,s7(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ae(t.segments,t.children),slicedSegments:n}}function s7(t,e,n,r,i){const o={};for(const a of r)if(Rl(t,n,a)&&!i[er(a)]){const s=new Ae([],{});o[er(a)]=s}return{...i,...o}}function u7(t,e){const n={};n[Q]=e;for(const r of t)if(""===r.path&&er(r)!==Q){const i=new Ae([],{});n[er(r)]=i}return n}function Rl(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class p7{constructor(e,n,r,i,o,a,s){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=s,this.allowRedirects=!0,this.applyRedirects=new o7(this.urlSerializer,this.urlTree)}noMatchError(e){return new I(4002,!1)}recognize(){const e=wx(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Q).pipe(Vi(n=>{if(n instanceof yx)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Tl?this.noMatchError(n):n}),se(n=>{const r=new Il([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Q,this.rootComponentType,null,{}),i=new jr(r,n),o=new ux("",i),a=function iL(t,e,n=null,r=null){return YC(ZC(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),this.inheritParamsAndData(o._root),{state:o,tree:a}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Q).pipe(Vi(r=>{throw r instanceof Tl?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=sx(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return dt(i).pipe(Ps(o=>{const a=r.children[o],s=function NL(t,e){const n=t.filter(r=>er(r)===e);return n.push(...t.filter(r=>er(r)!==e)),n}(n,o);return this.processSegmentGroup(e,s,a,o)}),function P5(t,e){return Ze(function N5(t,e,n,r,i){return(o,a)=>{let s=n,u=e,c=0;o.subscribe(Ye(a,l=>{const f=c++;u=s?t(u,l,f):(s=!0,l),r&&a.next(u)},i&&(()=>{s&&a.next(u),a.complete()})))}}(t,e,arguments.length>=2,!0))}((o,a)=>(o.push(...a),o)),yl(null),function F5(t,e){const n=arguments.length>=2;return r=>r.pipe(t?an((i,o)=>t(i,o,r)):Xr,d0(1),n?yl(e):FC(()=>new vl))}(),it(o=>{if(null===o)return sa(r);const a=Ex(o);return function g7(t){t.sort((e,n)=>e.value.outlet===Q?-1:n.value.outlet===Q?1:e.value.outlet.localeCompare(n.value.outlet))}(a),$(a)}))}processSegment(e,n,r,i,o,a){return dt(n).pipe(Ps(s=>this.processSegmentAgainstRoute(s._injector??e,n,s,r,i,o,a).pipe(Vi(u=>{if(u instanceof Tl)return $(null);throw u}))),Bi(s=>!!s),Vi(s=>{if(vx(s))return function d7(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?$([]):sa(r);throw s}))}processSegmentAgainstRoute(e,n,r,i,o,a,s){return function f7(t,e,n,r){return!!(er(t)===r||r!==Q&&Rl(e,n,t))&&("**"===t.path||M0(e,t,n).matched)}(r,i,o,a)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,a,s):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,a):sa(i):sa(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,a){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,a):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?_x(o):this.applyRedirects.lineralizeSegments(r,o).pipe(it(a=>{const s=new Ae(a,{});return this.processSegment(e,n,s,a,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,a){const{matched:s,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=M0(n,i,o);if(!s)return sa(n);const f=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?_x(f):this.applyRedirects.lineralizeSegments(i,f).pipe(it(d=>this.processSegment(e,r,n,d.concat(c),a,!1)))}matchSegmentAgainstRoute(e,n,r,i,o,a){let s;if("**"===r.path){const u=i.length>0?BC(i).parameters:{};s=$({snapshot:new Il(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Cx(r),er(r),r.component??r._loadedComponent??null,r,xx(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else s=a7(n,r,i,e).pipe(se(({matched:u,consumedSegments:c,remainingSegments:l,parameters:f})=>u?{snapshot:new Il(c,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Cx(r),er(r),r.component??r._loadedComponent??null,r,xx(r)),consumedSegments:c,remainingSegments:l}:null));return s.pipe(Zt(u=>null===u?sa(n):this.getChildConfig(e=r._injector??e,r,i).pipe(Zt(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:f,consumedSegments:d,remainingSegments:h}=u,{segmentGroup:p,slicedSegments:g}=wx(n,d,h,c);if(0===g.length&&p.hasChildren())return this.processChildren(l,c,p).pipe(se(y=>null===y?null:[new jr(f,y)]));if(0===c.length&&0===g.length)return $([new jr(f,[])]);const m=er(r)===o;return this.processSegment(l,c,p,g,m?Q:o,!0).pipe(se(y=>[new jr(f,y)]))}))))}getChildConfig(e,n,r){return n.children?$({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?$({routes:n._loadedRoutes,injector:n._loadedInjector}):function t7(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?$(!0):$(i.map(a=>{const s=oa(a,t);return si(function HL(t){return t&&qs(t.canLoad)}(s)?s.canLoad(e,n):t.runInContext(()=>s(e,n)))})).pipe(aa(),mx())}(e,n,r).pipe(it(i=>i?this.configLoader.loadChildren(e,n).pipe(Ct(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function i7(t){return Jo(dx(!1,3))}())):$({routes:[],injector:e})}}function v7(t){const e=t.value.routeConfig;return e&&""===e.path}function Ex(t){const e=[],n=new Set;for(const r of t){if(!v7(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=Ex(r.children);e.push(new jr(r.value,i))}return e.filter(r=>!n.has(r))}function Cx(t){return t.data||{}}function xx(t){return t.resolve||{}}function Ax(t){return"string"==typeof t.title||null===t.title}function T0(t){return Zt(e=>{const n=t(e);return n?dt(n).pipe(se(()=>e)):$(e)})}const ua=new k("ROUTES");let R0=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=P(oE)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return $(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=si(n.loadComponent()).pipe(se(Dx),Ct(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),h0(()=>{this.componentLoaders.delete(n)})),i=new f0(r,()=>new qt).pipe(l0());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return $({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function x7(t,e,n,r){return si(t.loadChildren()).pipe(se(Dx),it(i=>i instanceof d2||Array.isArray(i)?$(i):dt(e.compileModuleAsync(i))),se(i=>{r&&r(t);let o,a,s=!1;return Array.isArray(i)?(a=i,!0):(o=i.create(n).injector,a=o.get(ua,[],{optional:!0,self:!0}).flat()),{routes:a.map(b0),injector:o}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(h0(()=>{this.childrenLoaders.delete(r)})),a=new f0(o,()=>new qt).pipe(l0());return this.childrenLoaders.set(r,a),a}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Dx(t){return function A7(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Nl=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new qt,this.transitionAbortSubject=new qt,this.configLoader=P(R0),this.environmentInjector=P(Fn),this.urlSerializer=P(ks),this.rootContexts=P($s),this.inputBindingEnabled=null!==P(bl,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>$(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new vL(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new gL(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new pn({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Hs,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(an(o=>0!==o.id),se(o=>({...o,extractedUrl:n.urlHandlingStrategy.extract(o.rawUrl)})),Zt(o=>{this.currentTransition=o;let a=!1,s=!1;return $(o).pipe(Ct(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Zt(u=>{const c=u.currentBrowserUrl.toString(),l=!n.navigated||u.extractedUrl.toString()!==c||c!==u.currentUrlTree.toString();if(!l&&"reload"!==(u.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const d="";return this.events.next(new na(u.id,this.urlSerializer.serialize(u.rawUrl),d,0)),u.resolve(null),ar}if(n.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return $(u).pipe(Zt(d=>{const h=this.transitions?.getValue();return this.events.next(new Dl(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions?.getValue()?ar:Promise.resolve(d)}),function m7(t,e,n,r,i,o){return it(a=>function h7(t,e,n,r,i,o,a="emptyOnly"){return new p7(t,e,n,r,i,a,o).recognize()}(t,e,n,r,a.extractedUrl,i,o).pipe(se(({state:s,tree:u})=>({...a,targetSnapshot:s,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Ct(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects};const h=new nx(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:d,extractedUrl:h,source:p,restoredState:g,extras:m}=u,y=new Dl(d,this.urlSerializer.serialize(h),p,g);this.events.next(y);const v=ax(0,this.rootComponentType).snapshot;return this.currentTransition=o={...u,targetSnapshot:v,urlAfterRedirects:h,extras:{...m,skipLocationChange:!1,replaceUrl:!1}},$(o)}{const d="";return this.events.next(new na(u.id,this.urlSerializer.serialize(u.extractedUrl),d,1)),u.resolve(null),ar}}),Ct(u=>{const c=new fL(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),se(u=>(this.currentTransition=o={...u,guards:LL(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},o)),function XL(t,e){return it(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:a}}=n;return 0===a.length&&0===o.length?$({...n,guardsResult:!0}):function qL(t,e,n,r){return dt(t).pipe(it(i=>function e7(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?$(o.map(s=>{const u=zs(e)??i,c=oa(s,u);return si(function GL(t){return t&&qs(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(Bi())})).pipe(aa()):$(!0)}(i.component,i.route,n,e,r)),Bi(i=>!0!==i,!0))}(a,r,i,t).pipe(it(s=>s&&function UL(t){return"boolean"==typeof t}(s)?function ZL(t,e,n,r){return dt(e).pipe(Ps(i=>Ns(function KL(t,e){return null!==t&&e&&e(new mL(t)),$(!0)}(i.route.parent,r),function YL(t,e){return null!==t&&e&&e(new _L(t)),$(!0)}(i.route,r),function JL(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(a=>function kL(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(a)).filter(a=>null!==a).map(a=>ml(()=>$(a.guards.map(u=>{const c=zs(a.node)??n,l=oa(u,c);return si(function $L(t){return t&&qs(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(Bi())})).pipe(aa())));return $(o).pipe(aa())}(t,i.path,n),function QL(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return $(!0);const i=r.map(o=>ml(()=>{const a=zs(e)??n,s=oa(o,a);return si(function jL(t){return t&&qs(t.canActivate)}(s)?s.canActivate(e,t):a.runInContext(()=>s(e,t))).pipe(Bi())}));return $(i).pipe(aa())}(t,i.route,n))),Bi(i=>!0!==i,!0))}(r,o,t,e):$(s)),se(s=>({...n,guardsResult:s})))})}(this.environmentInjector,u=>this.events.next(u)),Ct(u=>{if(o.guardsResult=u.guardsResult,Hi(u.guardsResult))throw fx(0,u.guardsResult);const c=new dL(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(c)}),an(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),T0(u=>{if(u.guards.canActivateChecks.length)return $(u).pipe(Ct(c=>{const l=new hL(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),Zt(c=>{let l=!1;return $(c).pipe(function y7(t,e){return it(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return $(n);let o=0;return dt(i).pipe(Ps(a=>function _7(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!Ax(i)&&(o[Fs]=i.title),function w7(t,e,n,r){const i=function E7(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return $({});const o={};return dt(i).pipe(it(a=>function C7(t,e,n,r){const i=zs(e)??r,o=oa(t,i);return si(o.resolve?o.resolve(e,n):i.runInContext(()=>o(e,n)))}(t[a],e,n,r).pipe(Bi(),Ct(s=>{o[a]=s}))),d0(1),LC(o),Vi(a=>vx(a)?ar:Jo(a)))}(o,t,e,r).pipe(se(a=>(t._resolvedData=a,t.data=sx(t,n).resolve,i&&Ax(i)&&(t.data[Fs]=i.title),null)))}(a.route,r,t,e)),Ct(()=>o++),d0(1),it(a=>o===i.length?$(n):ar))})}(n.paramsInheritanceStrategy,this.environmentInjector),Ct({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(c,"",2)}}))}),Ct(c=>{const l=new pL(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}))}),T0(u=>{const c=l=>{const f=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(l.routeConfig).pipe(Ct(d=>{l.component=d}),se(()=>{})));for(const d of l.children)f.push(...c(d));return f};return c0(c(u.targetSnapshot.root)).pipe(yl(),on(1))}),T0(()=>this.afterPreactivation()),se(u=>{const c=function DL(t,e,n){const r=Gs(t,e._root,n?n._root:void 0);return new ox(r,e)}(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o={...u,targetRouterState:c},o}),Ct(()=>{this.events.next(new _0)}),((t,e,n,r)=>se(i=>(new FL(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),on(1),Ct({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ui(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),n.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),function L5(t){return Ze((e,n)=>{St(t).subscribe(Ye(n,()=>n.complete(),Sa)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(Ct(u=>{throw u}))),h0(()=>{a||s||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Vi(u=>{if(s=!0,hx(u))this.events.next(new js(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),function bL(t){return hx(t)&&Hi(t.url)}(u)?this.events.next(new w0(u.url)):o.resolve(!1);else{this.events.next(new Sl(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(u))}catch(c){o.reject(c)}}return ar}))}))}cancelNavigationTransition(n,r,i){const o=new js(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Sx(t){return t!==Hs}let Ix=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Q);return r}getResolvedTitleForRoute(n){return n.data[Fs]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:function(){return P(D7)},providedIn:"root"})}return t})(),D7=(()=>{class t extends Ix{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(V(SC))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),S7=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:function(){return P(b7)},providedIn:"root"})}return t})();class I7{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let b7=(()=>{class t extends I7{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=function wt(t){return Sr(()=>{const e=t.prototype.constructor,n=e[Ir]||Id(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[Ir]||Id(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}(t)))(i||t)}}();static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Pl=new k("",{providedIn:"root",factory:()=>({})});let O7=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:function(){return P(M7)},providedIn:"root"})}return t})(),M7=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Zs=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Zs||{});function bx(t,e){t.events.pipe(an(n=>n instanceof ui||n instanceof js||n instanceof Sl||n instanceof na),se(n=>n instanceof ui||n instanceof na?Zs.COMPLETE:n instanceof js&&(0===n.code||1===n.code)?Zs.REDIRECTING:Zs.FAILED),an(n=>n!==Zs.REDIRECTING),on(1)).subscribe(()=>{e()})}function T7(t){throw t}function R7(t,e,n){return e.parse("/")}const N7={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},P7={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Sn=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=P(rE),this.isNgZoneEnabled=!1,this._events=new qt,this.options=P(Pl,{optional:!0})||{},this.pendingTasks=P(iE),this.errorHandler=this.options.errorHandler||T7,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||R7,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=P(O7),this.routeReuseStrategy=P(S7),this.titleStrategy=P(Ix),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=P(ua,{optional:!0})?.flat()??[],this.navigationTransitions=P(Nl),this.urlSerializer=P(ks),this.location=P(Lp),this.componentInputBindingEnabled=!!P(bl,{optional:!0}),this.eventsSubscription=new Xt,this.isNgZoneEnabled=P(Ie)instanceof Ie&&Ie.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ta,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ax(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(Ox(r)&&this._events.next(r));if(r instanceof Dl)Sx(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof na)this.rawUrlTree=i.rawUrl;else if(r instanceof nx){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof _0)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof js)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof w0){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Sx(i.source)};this.scheduleNavigation(o,Hs,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Sl&&this.restoreHistory(i,!0),r instanceof ui&&(this.navigated=!0),Ox(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Hs,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},a=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const s=this.parseUrl(n);this.scheduleNavigation(s,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(b0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:a,queryParamsHandling:s,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:a;let f,l=null;switch(s){case"merge":l={...this.currentUrlTree.queryParams,...o};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=o||null}null!==l&&(l=this.removeEmptyProps(l));try{f=ZC(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),f=this.currentUrlTree.root}return YC(f,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Hi(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Hs,null,r)}navigate(n,r={skipLocationChange:!1}){return function F7(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new I(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...N7}:!1===r?{...P7}:r,Hi(n))return UC(this.currentUrlTree,n,i);const o=this.parseUrl(n);return UC(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(n,r,i,o,a){if(this.disposed)return Promise.resolve(!1);let s,u,c;a?(s=a.resolve,u=a.reject,c=a.promise):c=new Promise((f,d)=>{s=f,u=d});const l=this.pendingTasks.add();return bx(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:o,resolve:s,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(f=>Promise.reject(f))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const a={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",a)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ox(t){return!(t instanceof _0||t instanceof w0)}class Mx{}let B7=(()=>{class t{constructor(n,r,i,o,a){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(an(n=>n instanceof ui),Ps(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=op(o.providers,n,`Route: ${o.path}`));const a=o._injector??n,s=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(s,o.children??o._loadedRoutes))}return dt(i).pipe(eo())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):$(null);const o=i.pipe(it(a=>null===a?$(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??n,a.routes))));return r.loadComponent&&!r._loadedComponent?dt([o,this.loader.loadComponent(r)]).pipe(eo()):o})}static#e=this.\u0275fac=function(r){return new(r||t)(V(Sn),V(oE),V(Fn),V(Mx),V(R0))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const P0=new k("");let Tx=(()=>{class t{constructor(n,r,i,o,a={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Dl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof ui?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof na&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof rx&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new rx(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function Qy(){throw new Error("invalid")}()};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})();function $r(t,e){return{\u0275kind:t,\u0275providers:e}}function Nx(){const t=P(Vt);return e=>{const n=t.get(Fi);if(e!==n.components[0])return;const r=t.get(Sn),i=t.get(Px);1===t.get(F0)&&r.initialNavigation(),t.get(Fx,null,ne.Optional)?.setUpPreloading(),t.get(P0,null,ne.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const Px=new k("",{factory:()=>new qt}),F0=new k("",{providedIn:"root",factory:()=>1}),Fx=new k("");function j7(t){return $r(0,[{provide:Fx,useExisting:B7},{provide:Mx,useExisting:t}])}const Lx=new k("ROUTER_FORROOT_GUARD"),G7=[Lp,{provide:ks,useClass:p0},Sn,$s,{provide:ia,useFactory:function Rx(t){return t.routerState.root},deps:[Sn]},R0,[]];function z7(){return new dE("Router",Sn)}let kx=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[G7,[],{provide:ua,multi:!0,useValue:n},{provide:Lx,useFactory:Z7,deps:[[Sn,new Zu,new Yu]]},{provide:Pl,useValue:r||{}},r?.useHash?{provide:ki,useClass:e6}:{provide:ki,useClass:jE},{provide:P0,useFactory:()=>{const t=P(wF),e=P(Ie),n=P(Pl),r=P(Nl),i=P(ks);return n.scrollOffset&&t.setOffset(n.scrollOffset),new Tx(i,r,t,e,n)}},r?.preloadingStrategy?j7(r.preloadingStrategy).\u0275providers:[],{provide:dE,multi:!0,useFactory:z7},r?.initialNavigation?Y7(r):[],r?.bindToComponentInputs?$r(8,[lx,{provide:bl,useExisting:lx}]).\u0275providers:[],[{provide:Bx,useFactory:Nx},{provide:Sp,multi:!0,useExisting:Bx}]]}}static forChild(n){return{ngModule:t,providers:[{provide:ua,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)(V(Lx,8))};static#t=this.\u0275mod=Mn({type:t});static#n=this.\u0275inj=vn({})}return t})();function Z7(t){return"guarded"}function Y7(t){return["disabled"===t.initialNavigation?$r(3,[{provide:qc,multi:!0,useFactory:()=>{const e=P(Sn);return()=>{e.setUpLocationChangeListener()}}},{provide:F0,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?$r(2,[{provide:F0,useValue:0},{provide:qc,multi:!0,deps:[Vt],useFactory:e=>{const n=e.get(QP,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(Sn),o=e.get(Px);bx(i,()=>{r(!0)}),e.get(Nl).afterPreactivation=()=>(r(!0),o.closed?$(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const Bx=new k(""),Q7=["cameraInput"],J7=["canvas"];function ek(t,e){1&t&&gs(0,"img",4),2&t&&$o("src",Z_().capturedImageSrc,hc)}let tk=(()=>{class t{constructor(n){this.sanitizer=n,this.previewSrc=null,this.capturedImageSrc=null}valChange(n){let r=n.target;if(r.files&&r.files[0]){let i=r.files[0];i&&this.displayCapturedImage(i)}}displayCapturedImage(n){const r=new FileReader;r.onload=()=>{this.capturedImageSrc=r.result},r.readAsDataURL(n)}saveImage(){if(this.capturedImageSrc){const n=this.dataURItoBlob(this.capturedImageSrc);console.log(n)}}dataURItoBlob(n){const r=atob(n.split(",")[1]),i=n.split(",")[0].split(":")[1].split(";")[0],o=new ArrayBuffer(r.length),a=new Uint8Array(o);for(let s=0;s<r.length;s++)a[s]=r.charCodeAt(s);return new Blob([o],{type:i})}deleteImage(){this.capturedImageSrc=null,this.camera&&(this.camera.nativeElement.value="")}valChange2(n){let r=n.target;if(r.files&&r.files[0]){let i=r.files[0],s=this.canvas.nativeElement,u=s.getContext("2d"),c=new Image;c.src=URL.createObjectURL(i),console.log("after create:"+c.src);let l=this.previewSrc;c.onload=function(){s.width=c.width,s.height=c.height,u.drawImage(c,0,0,c.width,c.height),l=s.toDataURL(),URL.revokeObjectURL(c.src),console.log("onload after revoke:"+c.src)}}else console.log("nothing")}changeFile(n){return new Promise((r,i)=>{const o=new FileReader;o.readAsDataURL(n),o.onload=()=>r(o.result),o.onerror=a=>i(a)})}clear(){this.camera.nativeElement.value="",this.canvas.nativeElement.getContext("2d").clearRect(0,0,this.canvas.nativeElement.width,this.canvas.nativeElement.height)}static#e=this.\u0275fac=function(r){return new(r||t)(b(OC))};static#t=this.\u0275cmp=no({type:t,selectors:[["app-photo-test"]],viewQuery:function(r,i){if(1&r&&(Ds(Q7,5),Ds(J7,5)),2&r){let o;Xo(o=qo())&&(i.camera=o.first),Xo(o=qo())&&(i.canvas=o.first)}},decls:9,vars:1,consts:[["for","cameraInput",1,"abacus-btn","btn-text"],["type","file","accept","image/*","capture","environment","id","cameraInput",2,"display","none",3,"change"],[3,"click"],["alt","Captured Image","class","captured-image",3,"src",4,"ngIf"],["alt","Captured Image",1,"captured-image",3,"src"]],template:function(r,i){1&r&&(xn(0,"div")(1,"label",0),Lr(2,"Start Camera"),An(),xn(3,"input",1),Et("change",function(a){return i.valChange(a)}),An(),xn(4,"button",2),Et("click",function(){return i.saveImage()}),Lr(5,"Save Image"),An(),xn(6,"button",2),Et("click",function(){return i.deleteImage()}),Lr(7,"Clear"),An()(),function B_(t,e,n,r,i,o,a,s){const u=S(),c=ce(),l=t+re,f=c.firstCreatePass?function wR(t,e,n,r,i,o,a,s,u){const c=e.consts,l=No(e,t,4,a||null,Jr(c,s));Oh(e,n,l,Jr(c,u)),Vu(e,l);const f=l.tView=bh(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),f.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,a):c.data[l];fr(f,!1);const d=V_(c,u,f,t);Bu()&&sc(c,u,d,f),bt(d,u),bc(u,u[l]=s_(d,u,d,f)),Pu(f)&&Sh(c,u,f),null!=a&&Ih(u,f,s)}(8,ek,1,1,"img",3)),2&r&&(as(8),$o("ngIf",i.capturedImageSrc))},dependencies:[tC],styles:[".canvas[_ngcontent-%COMP%]{overflow:hidden;object-fit:contain}.preview-img[_ngcontent-%COMP%]{width:100%;max-height:100vh;object-fit:contain}.captured-image[_ngcontent-%COMP%]{max-height:50vh;max-width:auto;width:auto}.abacus-btn[_ngcontent-%COMP%]{z-index:1500;padding:.5rem;gap:.125rem;background:#2390B2;border:1px solid #2390B2;box-shadow:0 6px 10px #00000024,0 1px 18px #0000001f,0 3px 5px -1px #0003;border-radius:50px}.abacus-btn[_ngcontent-%COMP%]:active{box-shadow:none}.btn-text[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:400;font-size:1.2rem;line-height:1.5rem;color:#fff}"]})}return t})();function Vx(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(c){return void n(c)}s.done?e(u):Promise.resolve(u).then(r,i)}function tr(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(u){Vx(o,r,i,a,s,"next",u)}function s(u){Vx(o,r,i,a,s,"throw",u)}a(void 0)})}}function L0(){return(L0=tr(function*({image:t,formats:e}){if(!t)throw new Error("image property is not provided");if("BarcodeDetector"in window)return(yield new window.BarcodeDetector({formats:e}).detect(t)).map(i=>({format:i.format,rawValue:i.rawValue}));throw new Error("Barcode Detection API is not supported in this browser")})).apply(this,arguments)}var B0={},Fl={},sn={};Object.defineProperty(sn,"__esModule",{value:!0}),sn.default=function t(e,n){(function rk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.data=e,this.text=n.text||e,this.options=n},Object.defineProperty(Fl,"__esModule",{value:!0}),Fl.CODE39=void 0;var ok=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),sk=function uk(t){return t&&t.__esModule?t:{default:t}}(sn),dk=function(t){function e(n,r){return function ck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=n.toUpperCase(),r.mod43&&(n+=function gk(t){return Hx[t]}(function vk(t){for(var e=0,n=0;n<t.length;n++)e+=jx(t[n]);return e%=43}(n))),function lk(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return function fk(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),ok(e,[{key:"encode",value:function(){for(var r=V0("*"),i=0;i<this.data.length;i++)r+=V0(this.data[i])+"0";return{data:r+=V0("*"),text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)}}]),e}(sk.default),Hx=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],hk=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function V0(t){return function pk(t){return hk[t].toString(2)}(jx(t))}function jx(t){return Hx.indexOf(t)}Fl.CODE39=dk;var Ys,Er={},U0={},ca={},Le={};function H0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(Le,"__esModule",{value:!0});var $x=Le.SET_A=0,Gx=Le.SET_B=1,zx=Le.SET_C=2;Le.SHIFT=98;var mk=Le.START_A=103,yk=Le.START_B=104,_k=Le.START_C=105;Le.MODULO=103,Le.STOP=106,Le.FNC1=207,Le.SET_BY_CODE=(H0(Ys={},mk,$x),H0(Ys,yk,Gx),H0(Ys,_k,zx),Ys),Le.SWAP={101:$x,100:Gx,99:zx},Le.A_START_CHAR=String.fromCharCode(208),Le.B_START_CHAR=String.fromCharCode(209),Le.C_START_CHAR=String.fromCharCode(210),Le.A_CHARS="[\0-_\xc8-\xcf]",Le.B_CHARS="[ -\x7f\xc8-\xcf]",Le.C_CHARS="(\xcf*[0-9]{2}\xcf*)",Le.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011],Object.defineProperty(ca,"__esModule",{value:!0});var wk=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Ck=function xk(t){return t&&t.__esModule?t:{default:t}}(sn),In=Le,Ik=function(t){function e(n,r){!function Ak(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function Dk(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n.substring(1),r));return i.bytes=n.split("").map(function(o){return o.charCodeAt(0)}),i}return function Sk(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),wk(e,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var r=this.bytes,i=r.shift()-105,o=In.SET_BY_CODE[i];if(void 0===o)throw new RangeError("The encoding does not start with a start character.");!0===this.shouldEncodeAsEan128()&&r.unshift(In.FNC1);var a=e.next(r,1,o);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:e.getBar(i)+a.result+e.getBar((a.checksum+i)%In.MODULO)+e.getBar(In.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var r=this.options.ean128||!1;return"string"==typeof r&&(r="true"===r.toLowerCase()),r}}],[{key:"getBar",value:function(r){return In.BARS[r]?In.BARS[r].toString():""}},{key:"correctIndex",value:function(r,i){if(i===In.SET_A){var o=r.shift();return o<32?o+64:o-32}return i===In.SET_B?r.shift()-32:10*(r.shift()-48)+r.shift()-48}},{key:"next",value:function(r,i,o){if(!r.length)return{result:"",checksum:0};var a=void 0,s=void 0;if(r[0]>=200){s=r.shift()-105;var u=In.SWAP[s];void 0!==u?a=e.next(r,i+1,u):((o===In.SET_A||o===In.SET_B)&&s===In.SHIFT&&(r[0]=o===In.SET_A?r[0]>95?r[0]-96:r[0]:r[0]<32?r[0]+96:r[0]),a=e.next(r,i+1,o))}else s=e.correctIndex(r,o),a=e.next(r,i+1,o);return{result:e.getBar(s)+a.result,checksum:s*i+a.checksum}}}]),e}(Ck.default);ca.default=Ik;var j0={};Object.defineProperty(j0,"__esModule",{value:!0});var ci=Le,Wx=function(e){return e.match(new RegExp("^"+ci.A_CHARS+"*"))[0].length},Xx=function(e){return e.match(new RegExp("^"+ci.B_CHARS+"*"))[0].length},qx=function(e){return e.match(new RegExp("^"+ci.C_CHARS+"*"))[0]};function $0(t,e){var n=e?ci.A_CHARS:ci.B_CHARS,r=t.match(new RegExp("^("+n+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(r)return r[1]+String.fromCharCode(204)+Zx(t.substring(r[1].length));var i=t.match(new RegExp("^"+n+"+"))[0];return i.length===t.length?t:i+String.fromCharCode(e?205:206)+$0(t.substring(i.length),!e)}function Zx(t){var e=qx(t),n=e.length;if(n===t.length)return t;t=t.substring(n);var r=Wx(t)>=Xx(t);return e+String.fromCharCode(r?206:205)+$0(t,r)}j0.default=function(t){var e=void 0;if(qx(t).length>=2)e=ci.C_START_CHAR+Zx(t);else{var r=Wx(t)>Xx(t);e=(r?ci.A_START_CHAR:ci.B_START_CHAR)+$0(t,r)}return e.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(i,o){return String.fromCharCode(203)+o})},Object.defineProperty(U0,"__esModule",{value:!0});var Ok=Yx(ca),Tk=Yx(j0);function Yx(t){return t&&t.__esModule?t:{default:t}}function G0(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var Pk=function(t){function e(n,r){if(function Rk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),/^[\x00-\x7F\xC8-\xD3]+$/.test(n))var i=G0(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,(0,Tk.default)(n),r));else i=G0(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return G0(i)}return function Nk(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(Ok.default);U0.default=Pk;var z0={};Object.defineProperty(z0,"__esModule",{value:!0});var Fk=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),kk=function Bk(t){return t&&t.__esModule?t:{default:t}}(ca),Kx=Le,jk=function(t){function e(n,r){return function Vk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function Uk(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Kx.A_START_CHAR+n,r))}return function Hk(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),Fk(e,[{key:"valid",value:function(){return new RegExp("^"+Kx.A_CHARS+"+$").test(this.data)}}]),e}(kk.default);z0.default=jk;var W0={};Object.defineProperty(W0,"__esModule",{value:!0});var $k=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),zk=function Wk(t){return t&&t.__esModule?t:{default:t}}(ca),Qx=Le,Yk=function(t){function e(n,r){return function Xk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function qk(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Qx.B_START_CHAR+n,r))}return function Zk(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),$k(e,[{key:"valid",value:function(){return new RegExp("^"+Qx.B_CHARS+"+$").test(this.data)}}]),e}(zk.default);W0.default=Yk;var X0={};Object.defineProperty(X0,"__esModule",{value:!0});var Kk=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Jk=function eB(t){return t&&t.__esModule?t:{default:t}}(ca),Jx=Le,iB=function(t){function e(n,r){return function tB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function nB(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Jx.C_START_CHAR+n,r))}return function rB(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),Kk(e,[{key:"valid",value:function(){return new RegExp("^"+Jx.C_CHARS+"+$").test(this.data)}}]),e}(Jk.default);X0.default=iB,Object.defineProperty(Er,"__esModule",{value:!0}),Er.CODE128C=Er.CODE128B=Er.CODE128A=Er.CODE128=void 0;var aB=Ll(U0),uB=Ll(z0),lB=Ll(W0),dB=Ll(X0);function Ll(t){return t&&t.__esModule?t:{default:t}}Er.CODE128=aB.default,Er.CODE128A=uB.default,Er.CODE128B=lB.default,Er.CODE128C=dB.default;var un={},q0={},Vn={};Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.SIDE_BIN="101",Vn.MIDDLE_BIN="01010",Vn.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},Vn.EAN2_STRUCTURE=["LL","LG","GL","GG"],Vn.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],Vn.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"];var kl={},ji={};Object.defineProperty(ji,"__esModule",{value:!0});var hB=Vn;ji.default=function(e,n,r){var i=e.split("").map(function(a,s){return hB.BINARIES[n[s]]}).map(function(a,s){return a?a[e[s]]:""});if(r){var o=e.length-1;i=i.map(function(a,s){return s<o?a+r:a})}return i.join("")},Object.defineProperty(kl,"__esModule",{value:!0});var gB=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),la=Vn,eA=tA(ji);function tA(t){return t&&t.__esModule?t:{default:t}}var CB=function(t){function e(n,r){!function _B(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function wB(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.fontSize=!r.flat&&r.fontSize>10*r.width?10*r.width:r.fontSize,i.guardHeight=r.height+i.fontSize/2+r.textMargin,i}return function EB(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),gB(e,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(r,i){return this.text.substr(r,i)}},{key:"leftEncode",value:function(r,i){return(0,eA.default)(r,i)}},{key:"rightText",value:function(r,i){return this.text.substr(r,i)}},{key:"rightEncode",value:function(r,i){return(0,eA.default)(r,i)}},{key:"encodeGuarded",value:function(){var r={fontSize:this.fontSize},i={height:this.guardHeight};return[{data:la.SIDE_BIN,options:i},{data:this.leftEncode(),text:this.leftText(),options:r},{data:la.MIDDLE_BIN,options:i},{data:this.rightEncode(),text:this.rightText(),options:r},{data:la.SIDE_BIN,options:i}]}},{key:"encodeFlat",value:function(){return{data:[la.SIDE_BIN,this.leftEncode(),la.MIDDLE_BIN,this.rightEncode(),la.SIDE_BIN].join(""),text:this.text}}}]),e}(tA(sn).default);kl.default=CB,Object.defineProperty(q0,"__esModule",{value:!0});var xB=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Ks=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0===a?void 0:a.call(r)},AB=Vn,SB=function IB(t){return t&&t.__esModule?t:{default:t}}(kl),nA=function(e){return(10-e.substr(0,12).split("").map(function(r){return+r}).reduce(function(r,i,o){return o%2?r+3*i:r+i},0)%10)%10},TB=function(t){function e(n,r){(function bB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),-1!==n.search(/^[0-9]{12}$/)&&(n+=nA(n));var i=function OB(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.lastChar=r.lastChar,i}return function MB(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),xB(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{13}$/)&&+this.data[12]===nA(this.data)}},{key:"leftText",value:function(){return Ks(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var r=this.data.substr(1,6),i=AB.EAN13_STRUCTURE[this.data[0]];return Ks(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,r,i)}},{key:"rightText",value:function(){return Ks(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var r=this.data.substr(7,6);return Ks(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,r,"RRRRRR")}},{key:"encodeGuarded",value:function(){var r=Ks(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(r.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(r.push({data:"00"}),r.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),r}}]),e}(SB.default);q0.default=TB;var Z0={};Object.defineProperty(Z0,"__esModule",{value:!0});var RB=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Bl=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0===a?void 0:a.call(r)},PB=function FB(t){return t&&t.__esModule?t:{default:t}}(kl),rA=function(e){return(10-e.substr(0,7).split("").map(function(r){return+r}).reduce(function(r,i,o){return o%2?r+i:r+3*i},0)%10)%10},VB=function(t){function e(n,r){return function LB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),-1!==n.search(/^[0-9]{7}$/)&&(n+=rA(n)),function kB(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return function BB(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),RB(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{8}$/)&&+this.data[7]===rA(this.data)}},{key:"leftText",value:function(){return Bl(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var r=this.data.substr(0,4);return Bl(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,r,"LLLL")}},{key:"rightText",value:function(){return Bl(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var r=this.data.substr(4,4);return Bl(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,r,"RRRR")}}]),e}(PB.default);Z0.default=VB;var Y0={};Object.defineProperty(Y0,"__esModule",{value:!0});var UB=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),HB=Vn,$B=iA(ji);function iA(t){return t&&t.__esModule?t:{default:t}}var YB=function(t){function e(n,r){return function WB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function XB(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return function qB(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),UB(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{5}$/)}},{key:"encode",value:function(){var r=HB.EAN5_STRUCTURE[function(e){return e.split("").map(function(r){return+r}).reduce(function(r,i,o){return o%2?r+9*i:r+3*i},0)%10}(this.data)];return{data:"1011"+(0,$B.default)(this.data,r,"01"),text:this.text}}}]),e}(iA(sn).default);Y0.default=YB;var K0={};Object.defineProperty(K0,"__esModule",{value:!0});var KB=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),QB=Vn,e9=oA(ji);function oA(t){return t&&t.__esModule?t:{default:t}}var a9=function(t){function e(n,r){return function r9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function i9(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return function o9(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),KB(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{2}$/)}},{key:"encode",value:function(){var r=QB.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,e9.default)(this.data,r,"01"),text:this.text}}}]),e}(oA(sn).default);K0.default=a9;var Qs={};Object.defineProperty(Qs,"__esModule",{value:!0});var s9=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Qs.checksum=Q0;var fa=aA(ji);function aA(t){return t&&t.__esModule?t:{default:t}}var p9=function(t){function e(n,r){(function f9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),-1!==n.search(/^[0-9]{11}$/)&&(n+=Q0(n));var i=function d9(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.displayValue=r.displayValue,i.fontSize=r.fontSize>10*r.width?10*r.width:r.fontSize,i.guardHeight=r.height+i.fontSize/2+r.textMargin,i}return function h9(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),s9(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{12}$/)&&this.data[11]==Q0(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var r="";return r+="101",r+=(0,fa.default)(this.data.substr(0,6),"LLLLLL"),r+="01010",r+=(0,fa.default)(this.data.substr(6,6),"RRRRRR"),{data:r+="101",text:this.text}}},{key:"guardedEncoding",value:function(){var r=[];return this.displayValue&&r.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),r.push({data:"101"+(0,fa.default)(this.data[0],"L"),options:{height:this.guardHeight}}),r.push({data:(0,fa.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),r.push({data:"01010",options:{height:this.guardHeight}}),r.push({data:(0,fa.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),r.push({data:(0,fa.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&r.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),r}}]),e}(aA(sn).default);function Q0(t){var n,e=0;for(n=1;n<11;n+=2)e+=parseInt(t[n]);for(n=0;n<11;n+=2)e+=3*parseInt(t[n]);return(10-e%10)%10}Qs.default=p9;var J0={};Object.defineProperty(J0,"__esModule",{value:!0});var g9=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),m9=sA(ji),_9=sA(sn),w9=Qs;function sA(t){return t&&t.__esModule?t:{default:t}}function e1(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var x9=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],A9=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],D9=function(t){function e(n,r){!function E9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=e1(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));if(i.isValid=!1,-1!==n.search(/^[0-9]{6}$/))i.middleDigits=n,i.upcA=uA(n,"0"),i.text=r.text||""+i.upcA[0]+n+i.upcA[i.upcA.length-1],i.isValid=!0;else{if(-1===n.search(/^[01][0-9]{7}$/))return e1(i);if(i.middleDigits=n.substring(1,n.length-1),i.upcA=uA(i.middleDigits,n[0]),i.upcA[i.upcA.length-1]!==n[n.length-1])return e1(i);i.isValid=!0}return i.displayValue=r.displayValue,i.fontSize=r.fontSize>10*r.width?10*r.width:r.fontSize,i.guardHeight=r.height+i.fontSize/2+r.textMargin,i}return function C9(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),g9(e,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var r="";return r+="101",r+=this.encodeMiddleDigits(),{data:r+="010101",text:this.text}}},{key:"guardedEncoding",value:function(){var r=[];return this.displayValue&&r.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),r.push({data:"101",options:{height:this.guardHeight}}),r.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),r.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&r.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),r}},{key:"encodeMiddleDigits",value:function(){var r=this.upcA[0],o=A9[parseInt(this.upcA[this.upcA.length-1])][parseInt(r)];return(0,m9.default)(this.middleDigits,o)}}]),e}(_9.default);function uA(t,e){for(var n=parseInt(t[t.length-1]),r=x9[n],i="",o=0,a=0;a<r.length;a++){var s=r[a];i+="X"===s?t[o++]:s}return(i=""+e+i)+(0,w9.checksum)(i)}J0.default=D9,Object.defineProperty(un,"__esModule",{value:!0}),un.UPCE=un.UPC=un.EAN2=un.EAN5=un.EAN8=un.EAN13=void 0;var I9=da(q0),O9=da(Z0),T9=da(Y0),N9=da(K0),F9=da(Qs),k9=da(J0);function da(t){return t&&t.__esModule?t:{default:t}}un.EAN13=I9.default,un.EAN8=O9.default,un.EAN5=T9.default,un.EAN2=N9.default,un.UPC=F9.default,un.UPCE=k9.default;var ha={},Vl={},Js={};Object.defineProperty(Js,"__esModule",{value:!0}),Js.START_BIN="1010",Js.END_BIN="11101",Js.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"],Object.defineProperty(Vl,"__esModule",{value:!0});var B9=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Ul=Js,U9=function H9(t){return t&&t.__esModule?t:{default:t}}(sn),z9=function(t){function e(){return function j9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function $9(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function G9(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),B9(e,[{key:"valid",value:function(){return-1!==this.data.search(/^([0-9]{2})+$/)}},{key:"encode",value:function(){var r=this,i=this.data.match(/.{2}/g).map(function(o){return r.encodePair(o)}).join("");return{data:Ul.START_BIN+i+Ul.END_BIN,text:this.text}}},{key:"encodePair",value:function(r){var i=Ul.BINARIES[r[1]];return Ul.BINARIES[r[0]].split("").map(function(o,a){return("1"===o?"111":"1")+("1"===i[a]?"000":"0")}).join("")}}]),e}(U9.default);Vl.default=z9;var t1={};Object.defineProperty(t1,"__esModule",{value:!0});var W9=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),q9=function Z9(t){return t&&t.__esModule?t:{default:t}}(Vl),cA=function(e){var n=e.substr(0,13).split("").map(function(r){return parseInt(r,10)}).reduce(function(r,i,o){return r+i*(3-o%2*2)},0);return 10*Math.ceil(n/10)-n},J9=function(t){function e(n,r){return function Y9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),-1!==n.search(/^[0-9]{13}$/)&&(n+=cA(n)),function K9(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return function Q9(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),W9(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{14}$/)&&+this.data[13]===cA(this.data)}}]),e}(q9.default);t1.default=J9,Object.defineProperty(ha,"__esModule",{value:!0}),ha.ITF14=ha.ITF=void 0;var tV=lA(Vl),rV=lA(t1);function lA(t){return t&&t.__esModule?t:{default:t}}ha.ITF=tV.default,ha.ITF14=rV.default;var Un={},$i={};Object.defineProperty($i,"__esModule",{value:!0});var iV=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),aV=function sV(t){return t&&t.__esModule?t:{default:t}}(sn),fV=function(t){function e(n,r){return function uV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function cV(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return function lV(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),iV(e,[{key:"encode",value:function(){for(var r="110",i=0;i<this.data.length;i++){var a=parseInt(this.data[i]).toString(2);a=dV(a,4-a.length);for(var s=0;s<a.length;s++)r+="0"==a[s]?"100":"110"}return{data:r+="1001",text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]+$/)}}]),e}(aV.default);function dV(t,e){for(var n=0;n<e;n++)t="0"+t;return t}$i.default=fV;var n1={},Gi={};Object.defineProperty(Gi,"__esModule",{value:!0}),Gi.mod10=function hV(t){for(var e=0,n=0;n<t.length;n++){var r=parseInt(t[n]);e+=(n+t.length)%2==0?r:2*r%10+Math.floor(2*r/10)}return(10-e%10)%10},Gi.mod11=function pV(t){for(var e=0,n=[2,3,4,5,6,7],r=0;r<t.length;r++){var i=parseInt(t[t.length-1-r]);e+=n[r%n.length]*i}return(11-e%11)%11},Object.defineProperty(n1,"__esModule",{value:!0});var vV=function yV(t){return t&&t.__esModule?t:{default:t}}($i),mV=Gi,CV=function(t){function e(n,r){return function _V(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function wV(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n+(0,mV.mod10)(n),r))}return function EV(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(vV.default);n1.default=CV;var r1={};Object.defineProperty(r1,"__esModule",{value:!0});var AV=function SV(t){return t&&t.__esModule?t:{default:t}}($i),DV=Gi,MV=function(t){function e(n,r){return function IV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function bV(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n+(0,DV.mod11)(n),r))}return function OV(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(AV.default);r1.default=MV;var i1={};Object.defineProperty(i1,"__esModule",{value:!0});var RV=function NV(t){return t&&t.__esModule?t:{default:t}}($i),fA=Gi,kV=function(t){function e(n,r){return function PV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n+=(0,fA.mod10)(n),n+=(0,fA.mod10)(n),function FV(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return function LV(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(RV.default);i1.default=kV;var o1={};Object.defineProperty(o1,"__esModule",{value:!0});var VV=function UV(t){return t&&t.__esModule?t:{default:t}}($i),dA=Gi,GV=function(t){function e(n,r){return function HV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n+=(0,dA.mod11)(n),n+=(0,dA.mod10)(n),function jV(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return function $V(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(VV.default);o1.default=GV,Object.defineProperty(Un,"__esModule",{value:!0}),Un.MSI1110=Un.MSI1010=Un.MSI11=Un.MSI10=Un.MSI=void 0;var WV=eu($i),qV=eu(n1),YV=eu(r1),QV=eu(i1),eU=eu(o1);function eu(t){return t&&t.__esModule?t:{default:t}}Un.MSI=WV.default,Un.MSI10=qV.default,Un.MSI11=YV.default,Un.MSI1010=QV.default,Un.MSI1110=eU.default;var Hl={};Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.pharmacode=void 0;var tU=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),rU=function iU(t){return t&&t.__esModule?t:{default:t}}(sn),uU=function(t){function e(n,r){!function oU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function aU(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.number=parseInt(n,10),i}return function sU(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),tU(e,[{key:"encode",value:function(){for(var r=this.number,i="";!isNaN(r)&&0!=r;)r%2==0?(i="11100"+i,r=(r-2)/2):(i="100"+i,r=(r-1)/2);return{data:i=i.slice(0,-2),text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),e}(rU.default);Hl.pharmacode=uU;var jl={};Object.defineProperty(jl,"__esModule",{value:!0}),jl.codabar=void 0;var cU=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),fU=function dU(t){return t&&t.__esModule?t:{default:t}}(sn),vU=function(t){function e(n,r){(function hU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),0===n.search(/^[0-9\-\$\:\.\+\/]+$/)&&(n="A"+n+"A");var i=function pU(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n.toUpperCase(),r));return i.text=i.options.text||i.text.replace(/[A-D]/g,""),i}return function gU(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),cU(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)}},{key:"encode",value:function(){for(var r=[],i=this.getEncodings(),o=0;o<this.data.length;o++)r.push(i[this.data.charAt(o)]),o!==this.data.length-1&&r.push("0");return{text:this.text,data:r.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),e}(fU.default);jl.codabar=vU;var $l={};Object.defineProperty($l,"__esModule",{value:!0}),$l.GenericBarcode=void 0;var mU=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),_U=function wU(t){return t&&t.__esModule?t:{default:t}}(sn),AU=function(t){function e(n,r){return function EU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function CU(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return function xU(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),mU(e,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),e}(_U.default);$l.GenericBarcode=AU,Object.defineProperty(B0,"__esModule",{value:!0}),B0.default={CODE39:Fl.CODE39,CODE128:Er.CODE128,CODE128A:Er.CODE128A,CODE128B:Er.CODE128B,CODE128C:Er.CODE128C,EAN13:un.EAN13,EAN8:un.EAN8,EAN5:un.EAN5,EAN2:un.EAN2,UPC:un.UPC,UPCE:un.UPCE,ITF14:ha.ITF14,ITF:ha.ITF,MSI:Un.MSI,MSI10:Un.MSI10,MSI11:Un.MSI11,MSI1010:Un.MSI1010,MSI1110:Un.MSI1110,pharmacode:Hl.pharmacode,codabar:jl.codabar,GenericBarcode:$l.GenericBarcode};var ga={};Object.defineProperty(ga,"__esModule",{value:!0});var OU=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};ga.default=function(t,e){return OU({},t,e)};var a1={};Object.defineProperty(a1,"__esModule",{value:!0}),a1.default=function MU(t){var e=[];return function n(r){if(Array.isArray(r))for(var i=0;i<r.length;i++)n(r[i]);else r.text=r.text||"",r.data=r.data||"",e.push(r)}(t),e};var s1={};Object.defineProperty(s1,"__esModule",{value:!0}),s1.default=function TU(t){return t.marginTop=t.marginTop||t.margin,t.marginBottom=t.marginBottom||t.margin,t.marginRight=t.marginRight||t.margin,t.marginLeft=t.marginLeft||t.margin,t};var u1={},c1={},zl={};Object.defineProperty(zl,"__esModule",{value:!0}),zl.default=function RU(t){var e=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var n in e)e.hasOwnProperty(n)&&"string"==typeof t[n=e[n]]&&(t[n]=parseInt(t[n],10));return"string"==typeof t.displayValue&&(t.displayValue="false"!=t.displayValue),t};var Wl={};Object.defineProperty(Wl,"__esModule",{value:!0}),Wl.default={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}},Object.defineProperty(c1,"__esModule",{value:!0});var FU=gA(zl),pA=gA(Wl);function gA(t){return t&&t.__esModule?t:{default:t}}c1.default=function kU(t){var e={};for(var n in pA.default)pA.default.hasOwnProperty(n)&&(t.hasAttribute("jsbarcode-"+n.toLowerCase())&&(e[n]=t.getAttribute("jsbarcode-"+n.toLowerCase())),t.hasAttribute("data-"+n.toLowerCase())&&(e[n]=t.getAttribute("data-"+n.toLowerCase())));return e.value=t.getAttribute("jsbarcode-value")||t.getAttribute("data-value"),(0,FU.default)(e)};var l1={},f1={},bn={};Object.defineProperty(bn,"__esModule",{value:!0}),bn.getTotalWidthOfEncodings=bn.calculateEncodingAttributes=bn.getBarcodePadding=bn.getEncodingHeight=bn.getMaximumHeightOfEncodings=void 0;var VU=function UU(t){return t&&t.__esModule?t:{default:t}}(ga);function vA(t,e){return e.height+(e.displayValue&&t.text.length>0?e.fontSize+e.textMargin:0)+e.marginTop+e.marginBottom}function mA(t,e,n){if(n.displayValue&&e<t){if("center"==n.textAlign)return Math.floor((t-e)/2);if("left"==n.textAlign)return 0;if("right"==n.textAlign)return Math.floor(t-e)}return 0}function GU(t,e,n){var r;if(n)r=n;else{if(!(typeof document<"u"))return 0;r=document.createElement("canvas").getContext("2d")}r.font=e.fontOptions+" "+e.fontSize+"px "+e.font;var i=r.measureText(t);return i?i.width:0}bn.getMaximumHeightOfEncodings=function $U(t){for(var e=0,n=0;n<t.length;n++)t[n].height>e&&(e=t[n].height);return e},bn.getEncodingHeight=vA,bn.getBarcodePadding=mA,bn.calculateEncodingAttributes=function HU(t,e,n){for(var r=0;r<t.length;r++){var a,i=t[r],o=(0,VU.default)(e,i.options);a=o.displayValue?GU(i.text,o,n):0;var s=i.data.length*o.width;i.width=Math.ceil(Math.max(a,s)),i.height=vA(i,o),i.barcodePadding=mA(a,s,o)}},bn.getTotalWidthOfEncodings=function jU(t){for(var e=0,n=0;n<t.length;n++)e+=t[n].width;return e},Object.defineProperty(f1,"__esModule",{value:!0});var zU=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),XU=function qU(t){return t&&t.__esModule?t:{default:t}}(ga),d1=bn,YU=function(){function t(e,n,r){(function ZU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.canvas=e,this.encodings=n,this.options=r}return zU(t,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var n=0;n<this.encodings.length;n++){var r=(0,XU.default)(this.options,this.encodings[n].options);this.drawCanvasBarcode(r,this.encodings[n]),this.drawCanvasText(r,this.encodings[n]),this.moveCanvasDrawing(this.encodings[n])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var n=this.canvas.getContext("2d");n.save(),(0,d1.calculateEncodingAttributes)(this.encodings,this.options,n);var r=(0,d1.getTotalWidthOfEncodings)(this.encodings),i=(0,d1.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=r+this.options.marginLeft+this.options.marginRight,this.canvas.height=i,n.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(n.fillStyle=this.options.background,n.fillRect(0,0,this.canvas.width,this.canvas.height)),n.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(n,r){var a,i=this.canvas.getContext("2d"),o=r.data;a="top"==n.textPosition?n.marginTop+n.fontSize+n.textMargin:n.marginTop,i.fillStyle=n.lineColor;for(var s=0;s<o.length;s++){var u=s*n.width+r.barcodePadding;"1"===o[s]?i.fillRect(u,a,n.width,n.height):o[s]&&i.fillRect(u,a,n.width,n.height*o[s])}}},{key:"drawCanvasText",value:function(n,r){var a,s,i=this.canvas.getContext("2d");n.displayValue&&(s="top"==n.textPosition?n.marginTop+n.fontSize-n.textMargin:n.height+n.textMargin+n.marginTop+n.fontSize,i.font=n.fontOptions+" "+n.fontSize+"px "+n.font,"left"==n.textAlign||r.barcodePadding>0?(a=0,i.textAlign="left"):"right"==n.textAlign?(a=r.width-1,i.textAlign="right"):(a=r.width/2,i.textAlign="center"),i.fillText(r.text,a,s))}},{key:"moveCanvasDrawing",value:function(n){this.canvas.getContext("2d").translate(n.width,0)}},{key:"restoreCanvas",value:function(){this.canvas.getContext("2d").restore()}}]),t}();f1.default=YU;var h1={};Object.defineProperty(h1,"__esModule",{value:!0});var KU=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),JU=function eH(t){return t&&t.__esModule?t:{default:t}}(ga),p1=bn,Xl="http://www.w3.org/2000/svg",nH=function(){function t(e,n,r){(function tH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.svg=e,this.encodings=n,this.options=r,this.document=r.xmlDocument||document}return KU(t,[{key:"render",value:function(){var n=this.options.marginLeft;this.prepareSVG();for(var r=0;r<this.encodings.length;r++){var i=this.encodings[r],o=(0,JU.default)(this.options,i.options),a=this.createGroup(n,o.marginTop,this.svg);this.setGroupOptions(a,o),this.drawSvgBarcode(a,o,i),this.drawSVGText(a,o,i),n+=i.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,p1.calculateEncodingAttributes)(this.encodings,this.options);var n=(0,p1.getTotalWidthOfEncodings)(this.encodings),r=(0,p1.getMaximumHeightOfEncodings)(this.encodings),i=n+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(i,r),this.options.background&&this.drawRect(0,0,i,r,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(n,r,i){var a,o=i.data;a="top"==r.textPosition?r.fontSize+r.textMargin:0;for(var s=0,u=0,c=0;c<o.length;c++)u=c*r.width+i.barcodePadding,"1"===o[c]?s++:s>0&&(this.drawRect(u-r.width*s,a,r.width*s,r.height,n),s=0);s>0&&this.drawRect(u-r.width*(s-1),a,r.width*s,r.height,n)}},{key:"drawSVGText",value:function(n,r,i){var a,s,o=this.document.createElementNS(Xl,"text");r.displayValue&&(o.setAttribute("style","font:"+r.fontOptions+" "+r.fontSize+"px "+r.font),s="top"==r.textPosition?r.fontSize-r.textMargin:r.height+r.textMargin+r.fontSize,"left"==r.textAlign||i.barcodePadding>0?(a=0,o.setAttribute("text-anchor","start")):"right"==r.textAlign?(a=i.width-1,o.setAttribute("text-anchor","end")):(a=i.width/2,o.setAttribute("text-anchor","middle")),o.setAttribute("x",a),o.setAttribute("y",s),o.appendChild(this.document.createTextNode(i.text)),n.appendChild(o))}},{key:"setSvgAttributes",value:function(n,r){var i=this.svg;i.setAttribute("width",n+"px"),i.setAttribute("height",r+"px"),i.setAttribute("x","0px"),i.setAttribute("y","0px"),i.setAttribute("viewBox","0 0 "+n+" "+r),i.setAttribute("xmlns",Xl),i.setAttribute("version","1.1"),i.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(n,r,i){var o=this.document.createElementNS(Xl,"g");return o.setAttribute("transform","translate("+n+", "+r+")"),i.appendChild(o),o}},{key:"setGroupOptions",value:function(n,r){n.setAttribute("style","fill:"+r.lineColor+";")}},{key:"drawRect",value:function(n,r,i,o,a){var s=this.document.createElementNS(Xl,"rect");return s.setAttribute("x",n),s.setAttribute("y",r),s.setAttribute("width",i),s.setAttribute("height",o),a.appendChild(s),s}}]),t}();h1.default=nH;var g1={};Object.defineProperty(g1,"__esModule",{value:!0});var rH=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),oH=function(){function t(e,n,r){(function iH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.object=e,this.encodings=n,this.options=r}return rH(t,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),t}();g1.default=oH,Object.defineProperty(l1,"__esModule",{value:!0});var sH=v1(f1),cH=v1(h1),fH=v1(g1);function v1(t){return t&&t.__esModule?t:{default:t}}l1.default={CanvasRenderer:sH.default,SVGRenderer:cH.default,ObjectRenderer:fH.default};var va={};function m1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y1(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _1(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(va,"__esModule",{value:!0});var dH=function(t){function e(n,r){m1(this,e);var i=y1(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.name="InvalidInputException",i.symbology=n,i.input=r,i.message='"'+i.input+'" is not a valid input for '+i.symbology,i}return _1(e,Error),e}(),hH=function(t){function e(){m1(this,e);var n=y1(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.name="InvalidElementException",n.message="Not supported type to render on",n}return _1(e,Error),e}(),pH=function(t){function e(){m1(this,e);var n=y1(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.name="NoElementException",n.message="No element to render on.",n}return _1(e,Error),e}();va.InvalidInputException=dH,va.InvalidElementException=hH,va.NoElementException=pH,Object.defineProperty(u1,"__esModule",{value:!0});var gH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w1=yA(c1),nu=yA(l1),yH=va;function yA(t){return t&&t.__esModule?t:{default:t}}u1.default=function E1(t){if("string"==typeof t)return function _H(t){var e=document.querySelectorAll(t);if(0!==e.length){for(var n=[],r=0;r<e.length;r++)n.push(E1(e[r]));return n}}(t);if(Array.isArray(t)){for(var e=[],n=0;n<t.length;n++)e.push(E1(t[n]));return e}if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLImageElement)return function wH(t){var e=document.createElement("canvas");return{element:e,options:(0,w1.default)(t),renderer:nu.default.CanvasRenderer,afterRender:function(){t.setAttribute("src",e.toDataURL())}}}(t);if(t&&t.nodeName&&"svg"===t.nodeName.toLowerCase()||typeof SVGElement<"u"&&t instanceof SVGElement)return{element:t,options:(0,w1.default)(t),renderer:nu.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement)return{element:t,options:(0,w1.default)(t),renderer:nu.default.CanvasRenderer};if(t&&t.getContext)return{element:t,renderer:nu.default.CanvasRenderer};if(t&&"object"===(typeof t>"u"?"undefined":gH(t))&&!t.nodeName)return{element:t,renderer:nu.default.ObjectRenderer};throw new yH.InvalidElementException};var C1={};Object.defineProperty(C1,"__esModule",{value:!0});var EH=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),xH=function(){function t(e){(function CH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.api=e}return EH(t,[{key:"handleCatch",value:function(n){if("InvalidInputException"!==n.name)throw n;if(this.api._options.valid===this.api._defaults.valid)throw n.message;this.api._options.valid(!1),this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(n){try{var r=n.apply(void 0,arguments);return this.api._options.valid(!0),r}catch(i){return this.handleCatch(i),this.api}}}]),t}();C1.default=xH;var zi=li(B0),ru=li(ga),_A=li(a1),wA=li(s1),OH=li(u1),TH=li(zl),NH=li(C1),EA=va,CA=li(Wl);function li(t){return t&&t.__esModule?t:{default:t}}var Gr=function(){},x1=function(e,n,r){var i=new Gr;if(typeof e>"u")throw Error("No element to render on was provided.");return i._renderProperties=(0,OH.default)(e),i._encodings=[],i._options=CA.default,i._errorHandler=new NH.default(i),typeof n<"u"&&((r=r||{}).format||(r.format=DA()),i.options(r)[r.format](n,r).render()),i};for(var xA in x1.getModule=function(t){return zi.default[t]},zi.default)zi.default.hasOwnProperty(xA)&&FH(zi.default,xA);function FH(t,e){Gr.prototype[e]=Gr.prototype[e.toUpperCase()]=Gr.prototype[e.toLowerCase()]=function(n,r){var i=this;return i._errorHandler.wrapBarcodeCall(function(){r.text=typeof r.text>"u"?void 0:""+r.text;var o=(0,ru.default)(i._options,r);o=(0,TH.default)(o);var s=AA(n,t[e],o);return i._encodings.push(s),i})}}function AA(t,e,n){var r=new e(t=""+t,n);if(!r.valid())throw new EA.InvalidInputException(r.constructor.name,t);var i=r.encode();i=(0,_A.default)(i);for(var o=0;o<i.length;o++)i[o].options=(0,ru.default)(n,i[o].options);return i}function DA(){return zi.default.CODE128?"CODE128":Object.keys(zi.default)[0]}function A1(t,e,n){e=(0,_A.default)(e);for(var r=0;r<e.length;r++)e[r].options=(0,ru.default)(n,e[r].options),(0,wA.default)(e[r].options);(0,wA.default)(n),new(0,t.renderer)(t.element,e,n).render(),t.afterRender&&t.afterRender()}Gr.prototype.options=function(t){return this._options=(0,ru.default)(this._options,t),this},Gr.prototype.blank=function(t){var e=new Array(t+1).join("0");return this._encodings.push({data:e}),this},Gr.prototype.init=function(){var t;if(this._renderProperties)for(var e in Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]),this._renderProperties){var n=(0,ru.default)(this._options,(t=this._renderProperties[e]).options);"auto"==n.format&&(n.format=DA()),this._errorHandler.wrapBarcodeCall(function(){var o=AA(n.value,zi.default[n.format.toUpperCase()],n);A1(t,o,n)})}},Gr.prototype.render=function(){if(!this._renderProperties)throw new EA.NoElementException;if(Array.isArray(this._renderProperties))for(var t=0;t<this._renderProperties.length;t++)A1(this._renderProperties[t],this._encodings,this._options);else A1(this._renderProperties,this._encodings,this._options);return this},Gr.prototype._defaults=CA.default,typeof window<"u"&&(window.JsBarcode=x1),typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(t,e){var n=[];return jQuery(this).each(function(){n.push(this)}),x1(n,t,e)});var t,BH=(t=function(n,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])})(n,r)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),VH=function(t){function e(n,r){var i=this.constructor,o=t.call(this,n,r)||this;return Object.defineProperty(o,"name",{value:i.name,enumerable:!1,configurable:!0}),function kH(t,e){var n=Object.setPrototypeOf;n?n(t,e):t.__proto__=e}(o,i.prototype),function SA(t,e){void 0===e&&(e=t.constructor);var n=Error.captureStackTrace;n&&n(t,e)}(o),o}return BH(e,t),e}(Error),HH=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jH=function(t){function e(n){void 0===n&&(n=void 0);var r=t.call(this,n)||this;return r.message=n,r}return HH(e,t),e.prototype.getKind=function(){return this.constructor.kind},e.kind="Exception",e}(VH);const cn=jH;var $H=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),GH=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $H(e,t),e.kind="ArgumentException",e}(cn);const et=GH;var zH=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),WH=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return zH(e,t),e.kind="IllegalArgumentException",e}(cn);const F=WH;var XH=function(){function t(e){if(this.binarizer=e,null===e)throw new F("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,n){return this.binarizer.getBlackRow(e,n)},t.prototype.getBlackMatrix=function(){return null==this.matrix&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,n,r,i){var o=this.binarizer.getLuminanceSource().crop(e,n,r,i);return new t(this.binarizer.createBinarizer(o))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t}();const IA=XH;var qH=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ZH=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return qH(e,t),e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(cn);const tt=ZH;var YH=function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t}();const KH=YH;var QH=function(){function t(){}return t.arraycopy=function(e,n,r,i,o){for(;o--;)r[i++]=e[n++]},t.currentTimeMillis=function(){return Date.now()},t}();const Fe=QH;var JH=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ej=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return JH(e,t),e.kind="IndexOutOfBoundsException",e}(cn);const D1=ej;var tj=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nj=function(t){function e(n,r){void 0===n&&(n=void 0),void 0===r&&(r=void 0);var i=t.call(this,r)||this;return i.index=n,i.message=r,i}return tj(e,t),e.kind="ArrayIndexOutOfBoundsException",e}(D1);const bA=nj;var ij=function(){function t(){}return t.fill=function(e,n){for(var r=0,i=e.length;r<i;r++)e[r]=n},t.fillWithin=function(e,n,r,i){t.rangeCheck(e.length,n,r);for(var o=n;o<r;o++)e[o]=i},t.rangeCheck=function(e,n,r){if(n>r)throw new F("fromIndex("+n+") > toIndex("+r+")");if(n<0)throw new bA(n);if(r>e)throw new bA(r)},t.asList=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e},t.create=function(e,n,r){return Array.from({length:e}).map(function(o){return Array.from({length:n}).fill(r)})},t.createInt32Array=function(e,n,r){return Array.from({length:e}).map(function(o){return Int32Array.from({length:n}).fill(r)})},t.equals=function(e,n){if(!(e&&n&&e.length&&n.length&&e.length===n.length))return!1;for(var r=0,i=e.length;r<i;r++)if(e[r]!==n[r])return!1;return!0},t.hashCode=function(e){var n,r;if(null===e)return 0;var i=1;try{for(var o=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),a=o.next();!a.done;a=o.next())i=31*i+a.value}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i},t.fillUint8Array=function(e,n){for(var r=0;r!==e.length;r++)e[r]=n},t.copyOf=function(e,n){return e.slice(0,n)},t.copyOfUint8Array=function(e,n){if(e.length<=n){var r=new Uint8Array(n);return r.set(e),r}return e.slice(0,n)},t.copyOfRange=function(e,n,r){var i=r-n,o=new Int32Array(i);return Fe.arraycopy(e,n,o,0,i),o},t.binarySearch=function(e,n,r){void 0===r&&(r=t.numberComparator);for(var i=0,o=e.length-1;i<=o;){var a=o+i>>1,s=r(n,e[a]);if(s>0)i=a+1;else{if(!(s<0))return a;o=a-1}}return-i-1},t.numberComparator=function(e,n){return e-n},t}();const rt=ij;var oj=function(){function t(){}return t.numberOfTrailingZeros=function(e){var n;if(0===e)return 32;var r=31;return 0!=(n=e<<16)&&(r-=16,e=n),0!=(n=e<<8)&&(r-=8,e=n),0!=(n=e<<4)&&(r-=4,e=n),0!=(n=e<<2)&&(r-=2,e=n),r-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(0===e)return 32;var n=1;return e>>>16||(n+=16,e<<=16),e>>>24||(n+=8,e<<=8),e>>>28||(n+=4,e<<=4),e>>>30||(n+=2,e<<=2),n-(e>>>31)},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=(e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135,63&(e+=e>>>8)+(e>>>16)},t.truncDivision=function(e,n){return Math.trunc(e/n)},t.parseInt=function(e,n){return void 0===n&&(n=void 0),parseInt(e,n)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}();const J=oj;var aj=function(){function t(e,n){void 0===e?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,this.bits=null==n?t.makeArray(e):n)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>32*this.bits.length){var n=t.makeArray(e);Fe.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}},t.prototype.get=function(e){return 0!=(this.bits[Math.floor(e/32)]&1<<(31&e))},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(31&e)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(31&e)},t.prototype.getNextSet=function(e){var n=this.size;if(e>=n)return n;var r=this.bits,i=Math.floor(e/32),o=r[i];o&=~((1<<(31&e))-1);for(var a=r.length;0===o;){if(++i===a)return n;o=r[i]}var s=32*i+J.numberOfTrailingZeros(o);return s>n?n:s},t.prototype.getNextUnset=function(e){var n=this.size;if(e>=n)return n;var r=this.bits,i=Math.floor(e/32),o=~r[i];o&=~((1<<(31&e))-1);for(var a=r.length;0===o;){if(++i===a)return n;o=~r[i]}var s=32*i+J.numberOfTrailingZeros(o);return s>n?n:s},t.prototype.setBulk=function(e,n){this.bits[Math.floor(e/32)]=n},t.prototype.setRange=function(e,n){if(n<e||e<0||n>this.size)throw new F;if(n!==e){n--;for(var r=Math.floor(e/32),i=Math.floor(n/32),o=this.bits,a=r;a<=i;a++)o[a]|=(2<<(a<i?31:31&n))-(1<<(a>r?0:31&e))}},t.prototype.clear=function(){for(var e=this.bits.length,n=this.bits,r=0;r<e;r++)n[r]=0},t.prototype.isRange=function(e,n,r){if(n<e||e<0||n>this.size)throw new F;if(n===e)return!0;n--;for(var i=Math.floor(e/32),o=Math.floor(n/32),a=this.bits,s=i;s<=o;s++){var l=(2<<(s<o?31:31&n))-(1<<(s>i?0:31&e))&4294967295;if((a[s]&l)!==(r?l:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++},t.prototype.appendBits=function(e,n){if(n<0||n>32)throw new F("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(var r=n;r>0;r--)this.appendBit(1==(e>>r-1&1))},t.prototype.appendBitArray=function(e){var n=e.size;this.ensureCapacity(this.size+n);for(var r=0;r<n;r++)this.appendBit(e.get(r))},t.prototype.xor=function(e){if(this.size!==e.size)throw new F("Sizes don't match");for(var n=this.bits,r=0,i=n.length;r<i;r++)n[r]^=e.bits[r]},t.prototype.toBytes=function(e,n,r,i){for(var o=0;o<i;o++){for(var a=0,s=0;s<8;s++)this.get(e)&&(a|=1<<7-s),e++;n[r+o]=a}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),r=n+1,i=this.bits,o=0;o<r;o++){var a=i[o];e[n-o]=a=(a=(a=(a=(a=a>>1&1431655765|(1431655765&a)<<1)>>2&858993459|(858993459&a)<<2)>>4&252645135|(252645135&a)<<4)>>8&16711935|(16711935&a)<<8)>>16&65535|(65535&a)<<16}if(this.size!==32*r){var s=32*r-this.size,u=e[0]>>>s;for(o=1;o<r;o++){var c=e[o];e[o-1]=u|=c<<32-s,u=c>>>s}e[r-1]=u}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){return e instanceof t&&(this.size===e.size&&rt.equals(this.bits,e.bits))},t.prototype.hashCode=function(){return 31*this.size+rt.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",n=0,r=this.size;n<r;n++)7&n||(e+=" "),e+=this.get(n)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var e=[],n=0,r=this.size;n<r;n++)e.push(this.get(n));return e},t}();const ht=aj;var OA=function(t){return t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",t[t.ASSUME_GS1=8]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS",t}(OA||{});const me=OA;var sj=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),uj=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return sj(e,t),e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(cn);const M=uj;var Se=function(t){return t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR",t}(Se||{}),lj=function(){function t(e,n,r){for(var i,o,a=[],s=3;s<arguments.length;s++)a[s-3]=arguments[s];this.valueIdentifier=e,this.name=r,this.values="number"==typeof n?Int32Array.from([n]):n,this.otherEncodingNames=a,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(r,this);for(var u=this.values,c=0,l=u.length;c!==l;c++)t.VALUES_TO_ECI.set(u[c],this);try{for(var d=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(a),h=d.next();!h.done;h=d.next())t.NAME_TO_ECI.set(h.value,this)}catch(g){i={error:g}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new M("incorect value");var n=t.VALUES_TO_ECI.get(e);if(void 0===n)throw new M("incorect value");return n},t.getCharacterSetECIByName=function(e){var n=t.NAME_TO_ECI.get(e);if(void 0===n)throw new M("incorect value");return n},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.getName()===n.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(Se.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(Se.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(Se.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(Se.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(Se.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(Se.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(Se.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(Se.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(Se.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(Se.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(Se.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(Se.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(Se.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(Se.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(Se.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(Se.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(Se.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(Se.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(Se.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(Se.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(Se.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(Se.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(Se.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(Se.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(Se.Big5,28,"Big5"),t.GB18030=new t(Se.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(Se.EUC_KR,30,"EUC_KR","EUC-KR"),t}();const ut=lj;var fj=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dj=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return fj(e,t),e.kind="UnsupportedOperationException",e}(cn);const ql=dj;var hj=function(){function t(){}return t.decode=function(e,n){var r=this.encodingName(n);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&"ISO-8859-1"===e},t.encode=function(e,n){var r=this.encodingName(n);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder>"u"?this.encodeFallback(e):(new TextEncoder).encode(e)},t.isBrowser=function(){return typeof window<"u"&&"[object Window]"==={}.toString.call(window)},t.encodingName=function(e){return"string"==typeof e?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof ut?e:ut.getCharacterSetECIByName(e)},t.decodeFallback=function(e,n){var r=this.encodingCharacterSet(n);if(t.isDecodeFallbackSupported(r)){for(var i="",o=0,a=e.length;o<a;o++){var s=e[o].toString(16);s.length<2&&(s="0"+s),i+="%"+s}return decodeURIComponent(i)}if(r.equals(ut.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new ql("Encoding "+this.encodingName(n)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(ut.UTF8)||e.equals(ut.ISO8859_1)||e.equals(ut.ASCII)},t.encodeFallback=function(e){for(var r=btoa(unescape(encodeURIComponent(e))).split(""),i=[],o=0;o<r.length;o++)i.push(r[o].charCodeAt(0));return new Uint8Array(i)},t}();const Hn=hj;var pj=function(){function t(){}return t.castAsNonUtf8Char=function(e,n){void 0===n&&(n=null);var r=n?n.getName():this.ISO88591;return Hn.decode(new Uint8Array([e]),r)},t.guessEncoding=function(e,n){if(null!=n&&void 0!==n.get(me.CHARACTER_SET))return n.get(me.CHARACTER_SET).toString();for(var r=e.length,i=!0,o=!0,a=!0,s=0,u=0,c=0,l=0,f=0,d=0,h=0,p=0,g=0,m=0,y=0,v=e.length>3&&239===e[0]&&187===e[1]&&191===e[2],w=0;w<r&&(i||o||a);w++){var E=255&e[w];a&&(s>0?128&E?s--:a=!1:128&E&&(64&E?(s++,32&E?(s++,16&E?(s++,8&E?a=!1:l++):c++):u++):a=!1)),i&&(E>127&&E<160?i=!1:E>159&&(E<192||215===E||247===E)&&y++),o&&(f>0?E<64||127===E||E>252?o=!1:f--:128===E||160===E||E>239?o=!1:E>160&&E<224?(d++,p=0,++h>g&&(g=h)):E>127?(f++,h=0,++p>m&&(m=p)):(h=0,p=0))}return a&&s>0&&(a=!1),o&&f>0&&(o=!1),a&&(v||u+c+l>0)?t.UTF8:o&&(t.ASSUME_SHIFT_JIS||g>=3||m>=3)?t.SHIFT_JIS:i&&o?2===g&&2===d||10*y>=r?t.SHIFT_JIS:t.ISO88591:i?t.ISO88591:o?t.SHIFT_JIS:a?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=-1;return e.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function o(s,u,c,l,f,d){if("%%"===s)return"%";if(void 0!==n[++i]){s=l?parseInt(l.substr(1)):void 0;var p,h=f?parseInt(f.substr(1)):void 0;switch(d){case"s":p=n[i];break;case"c":p=n[i][0];break;case"f":p=parseFloat(n[i]).toFixed(s);break;case"p":p=parseFloat(n[i]).toPrecision(s);break;case"e":p=parseFloat(n[i]).toExponential(s);break;case"x":p=parseInt(n[i]).toString(h||16);break;case"d":p=parseFloat(parseInt(n[i],h||10).toPrecision(s)).toFixed(0)}p="object"==typeof p?JSON.stringify(p):(+p).toString(h);for(var g=parseInt(c),m=c&&c[0]+""=="0"?"0":" ";p.length<g;)p=void 0!==u?p+m:m+p;return p}})},t.getBytes=function(e,n){return Hn.encode(e,n)},t.getCharCode=function(e,n){return void 0===n&&(n=0),e.charCodeAt(n)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=ut.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=ut.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=ut.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t}();const ae=pj;var gj=function(){function t(e){void 0===e&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return this.value+="string"==typeof e?e.toString():this.encoding?ae.castAsNonUtf8Char(e,this.encoding):String.fromCharCode(e),this},t.prototype.appendChars=function(e,n,r){for(var i=n;n<n+r;i++)this.append(e[i]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+1)},t.prototype.substring=function(e,n){return this.value.substring(e,n)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,n){this.value=this.value.substring(0,e)+n+this.value.substring(e)},t}();const ee=gj;var vj=function(){function t(e,n,r,i){if(this.width=e,this.height=n,this.rowSize=r,this.bits=i,null==n&&(n=e),this.height=n,e<1||n<1)throw new F("Both dimensions must be greater than 0");null==r&&(r=Math.floor((e+31)/32)),this.rowSize=r,null==i&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var n=e.length,r=e[0].length,i=new t(r,n),o=0;o<n;o++)for(var a=e[o],s=0;s<r;s++)a[s]&&i.set(s,o);return i},t.parseFromString=function(e,n,r){if(null===e)throw new F("stringRepresentation cannot be null");for(var i=new Array(e.length),o=0,a=0,s=-1,u=0,c=0;c<e.length;)if("\n"===e.charAt(c)||"\r"===e.charAt(c)){if(o>a){if(-1===s)s=o-a;else if(o-a!==s)throw new F("row lengths do not match");a=o,u++}c++}else if(e.substring(c,c+n.length)===n)c+=n.length,i[o]=!0,o++;else{if(e.substring(c,c+r.length)!==r)throw new F("illegal character encountered: "+e.substring(c));c+=r.length,i[o]=!1,o++}if(o>a){if(-1===s)s=o-a;else if(o-a!==s)throw new F("row lengths do not match");u++}for(var l=new t(s,u),f=0;f<o;f++)i[f]&&l.set(Math.floor(f%s),Math.floor(f/s));return l},t.prototype.get=function(e,n){var r=n*this.rowSize+Math.floor(e/32);return 0!=(this.bits[r]>>>(31&e)&1)},t.prototype.set=function(e,n){var r=n*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(31&e)&4294967295},t.prototype.unset=function(e,n){var r=n*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(31&e)&4294967295)},t.prototype.flip=function(e,n){var r=n*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(31&e)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new F("input matrix dimensions do not match");for(var n=new ht(Math.floor(this.width/32)+1),r=this.rowSize,i=this.bits,o=0,a=this.height;o<a;o++)for(var s=o*r,u=e.getRow(o,n).getBitArray(),c=0;c<r;c++)i[s+c]^=u[c]},t.prototype.clear=function(){for(var e=this.bits,n=e.length,r=0;r<n;r++)e[r]=0},t.prototype.setRegion=function(e,n,r,i){if(n<0||e<0)throw new F("Left and top must be nonnegative");if(i<1||r<1)throw new F("Height and width must be at least 1");var o=e+r,a=n+i;if(a>this.height||o>this.width)throw new F("The region must fit inside the matrix");for(var s=this.rowSize,u=this.bits,c=n;c<a;c++)for(var l=c*s,f=e;f<o;f++)u[l+Math.floor(f/32)]|=1<<(31&f)&4294967295},t.prototype.getRow=function(e,n){null==n||n.getSize()<this.width?n=new ht(this.width):n.clear();for(var r=this.rowSize,i=this.bits,o=e*r,a=0;a<r;a++)n.setBulk(32*a,i[o+a]);return n},t.prototype.setRow=function(e,n){Fe.arraycopy(n.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),n=this.getHeight(),r=new ht(e),i=new ht(e),o=0,a=Math.floor((n+1)/2);o<a;o++)r=this.getRow(o,r),i=this.getRow(n-1-o,i),r.reverse(),i.reverse(),this.setRow(o,i),this.setRow(n-1-o,r)},t.prototype.getEnclosingRectangle=function(){for(var n=this.height,r=this.rowSize,i=this.bits,o=this.width,a=n,s=-1,u=-1,c=0;c<n;c++)for(var l=0;l<r;l++){var f=i[c*r+l];if(0!==f){if(c<a&&(a=c),c>u&&(u=c),32*l<o){for(var d=0;!(f<<31-d&4294967295);)d++;32*l+d<o&&(o=32*l+d)}if(32*l+31>s){for(d=31;!(f>>>d);)d--;32*l+d>s&&(s=32*l+d)}}}return s<o||u<a?null:Int32Array.from([o,a,s-o+1,u-a+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,n=this.bits,r=0;r<n.length&&0===n[r];)r++;if(r===n.length)return null;for(var i=r/e,o=r%e*32,a=n[r],s=0;!(a<<31-s&4294967295);)s++;return Int32Array.from([o+=s,i])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,n=this.bits,r=n.length-1;r>=0&&0===n[r];)r--;if(r<0)return null;for(var i=Math.floor(r/e),o=32*Math.floor(r%e),a=n[r],s=31;!(a>>>s);)s--;return Int32Array.from([o+=s,i])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){return e instanceof t&&(this.width===e.width&&this.height===e.height&&this.rowSize===e.rowSize&&rt.equals(this.bits,e.bits))},t.prototype.hashCode=function(){var e=this.width;return 31*(e=31*(e=31*(e=31*e+this.width)+this.height)+this.rowSize)+rt.hashCode(this.bits)},t.prototype.toString=function(e,n,r){return void 0===e&&(e="X "),void 0===n&&(n="  "),void 0===r&&(r="\n"),this.buildToString(e,n,r)},t.prototype.buildToString=function(e,n,r){for(var i=new ee,o=0,a=this.height;o<a;o++){for(var s=0,u=this.width;s<u;s++)i.append(this.get(s,o)?e:n);i.append(r)}return i.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t}();const ln=vj;var mj=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yj=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return mj(e,t),e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(cn);const A=yj;var _j=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wj=function(t){function e(n){var r=t.call(this,n)||this;return r.luminances=e.EMPTY,r.buckets=new Int32Array(e.LUMINANCE_BUCKETS),r}return _j(e,t),e.prototype.getBlackRow=function(n,r){var i=this.getLuminanceSource(),o=i.getWidth();null==r||r.getSize()<o?r=new ht(o):r.clear(),this.initArrays(o);for(var a=i.getRow(n,this.luminances),s=this.buckets,u=0;u<o;u++)s[(255&a[u])>>e.LUMINANCE_SHIFT]++;var c=e.estimateBlackPoint(s);if(o<3)for(u=0;u<o;u++)(255&a[u])<c&&r.set(u);else{var l=255&a[0],f=255&a[1];for(u=1;u<o-1;u++){var d=255&a[u+1];(4*f-l-d)/2<c&&r.set(u),l=f,f=d}}return r},e.prototype.getBlackMatrix=function(){var n=this.getLuminanceSource(),r=n.getWidth(),i=n.getHeight(),o=new ln(r,i);this.initArrays(r);for(var a=this.buckets,s=1;s<5;s++)for(var u=Math.floor(i*s/5),c=n.getRow(u,this.luminances),l=Math.floor(4*r/5),f=Math.floor(r/5);f<l;f++)a[(255&c[f])>>e.LUMINANCE_SHIFT]++;var h=e.estimateBlackPoint(a),p=n.getMatrix();for(s=0;s<i;s++){var g=s*r;for(f=0;f<r;f++)(255&p[g+f])<h&&o.set(f,s)}return o},e.prototype.createBinarizer=function(n){return new e(n)},e.prototype.initArrays=function(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));for(var r=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)r[i]=0},e.estimateBlackPoint=function(n){for(var r=n.length,i=0,o=0,a=0,s=0;s<r;s++)n[s]>a&&(o=s,a=n[s]),n[s]>i&&(i=n[s]);var u=0,c=0;for(s=0;s<r;s++){var l=s-o;(f=n[s]*l*l)>c&&(u=s,c=f)}if(o>u){var d=o;o=u,u=d}if(u-o<=r/16)throw new A;var h=u-1,p=-1;for(s=u-1;s>o;s--){var f,g=s-o;(f=g*g*(u-s)*(i-n[s]))>p&&(h=s,p=f)}return h<<e.LUMINANCE_SHIFT},e.LUMINANCE_SHIFT=8-(e.LUMINANCE_BITS=5),e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(KH);const Ej=wj;var Cj=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xj=function(t){function e(n){var r=t.call(this,n)||this;return r.matrix=null,r}return Cj(e,t),e.prototype.getBlackMatrix=function(){if(null!==this.matrix)return this.matrix;var n=this.getLuminanceSource(),r=n.getWidth(),i=n.getHeight();if(r>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var o=n.getMatrix(),a=r>>e.BLOCK_SIZE_POWER;r&e.BLOCK_SIZE_MASK&&a++;var s=i>>e.BLOCK_SIZE_POWER;i&e.BLOCK_SIZE_MASK&&s++;var u=e.calculateBlackPoints(o,a,s,r,i),c=new ln(r,i);e.calculateThresholdForBlock(o,a,s,r,i,u,c),this.matrix=c}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(n){return new e(n)},e.calculateThresholdForBlock=function(n,r,i,o,a,s,u){for(var c=a-e.BLOCK_SIZE,l=o-e.BLOCK_SIZE,f=0;f<i;f++){var d=f<<e.BLOCK_SIZE_POWER;d>c&&(d=c);for(var h=e.cap(f,2,i-3),p=0;p<r;p++){var g=p<<e.BLOCK_SIZE_POWER;g>l&&(g=l);for(var m=e.cap(p,2,r-3),y=0,v=-2;v<=2;v++){var w=s[h+v];y+=w[m-2]+w[m-1]+w[m]+w[m+1]+w[m+2]}e.thresholdBlock(n,g,d,y/25,o,u)}}},e.cap=function(n,r,i){return n<r?r:n>i?i:n},e.thresholdBlock=function(n,r,i,o,a,s){for(var u=0,c=i*a+r;u<e.BLOCK_SIZE;u++,c+=a)for(var l=0;l<e.BLOCK_SIZE;l++)(255&n[c+l])<=o&&s.set(r+l,i+u)},e.calculateBlackPoints=function(n,r,i,o,a){for(var s=a-e.BLOCK_SIZE,u=o-e.BLOCK_SIZE,c=new Array(i),l=0;l<i;l++){c[l]=new Int32Array(r);var f=l<<e.BLOCK_SIZE_POWER;f>s&&(f=s);for(var d=0;d<r;d++){var h=d<<e.BLOCK_SIZE_POWER;h>u&&(h=u);for(var p=0,g=255,m=0,y=0,v=f*o+h;y<e.BLOCK_SIZE;y++,v+=o){for(var w=0;w<e.BLOCK_SIZE;w++){var E=255&n[v+w];p+=E,E<g&&(g=E),E>m&&(m=E)}if(m-g>e.MIN_DYNAMIC_RANGE)for(y++,v+=o;y<e.BLOCK_SIZE;y++,v+=o)for(w=0;w<e.BLOCK_SIZE;w++)p+=255&n[v+w]}var x=p>>2*e.BLOCK_SIZE_POWER;if(m-g<=e.MIN_DYNAMIC_RANGE&&(x=g/2,l>0&&d>0)){var D=(c[l-1][d]+2*c[l][d-1]+c[l-1][d-1])/4;g<D&&(x=D)}c[l][d]=x}}return c},e.BLOCK_SIZE_MASK=(e.BLOCK_SIZE=1<<(e.BLOCK_SIZE_POWER=3))-1,e.MINIMUM_DIMENSION=5*e.BLOCK_SIZE,e.MIN_DYNAMIC_RANGE=24,e}(Ej);const MA=xj;var Aj=function(){function t(e,n){this.width=e,this.height=n}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,n,r,i){throw new ql("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new ql("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new ql("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),n=new ee,r=0;r<this.height;r++){for(var i=this.getRow(r,e),o=0;o<this.width;o++){var a=255&i[o];n.append(a<64?"#":a<128?"+":a<192?".":" ")}n.append("\n")}return n.toString()},t}();const iu=Aj;var Dj=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sj=function(t){function e(n){var r=t.call(this,n.getWidth(),n.getHeight())||this;return r.delegate=n,r}return Dj(e,t),e.prototype.getRow=function(n,r){for(var i=this.delegate.getRow(n,r),o=this.getWidth(),a=0;a<o;a++)i[a]=255-(255&i[a]);return i},e.prototype.getMatrix=function(){for(var n=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(r),o=0;o<r;o++)i[o]=255-(255&n[o]);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(n,r,i,o){return new e(this.delegate.crop(n,r,i,o))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(iu);const Zl=Sj;var Ij=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bj=function(t){function e(n){var r=t.call(this,n.width,n.height)||this;return r.canvas=n,r.tempCanvasElement=null,r.buffer=e.makeBufferFromCanvasImageData(n),r}return Ij(e,t),e.makeBufferFromCanvasImageData=function(n){var r=n.getContext("2d").getImageData(0,0,n.width,n.height);return e.toGrayscaleBuffer(r.data,n.width,n.height)},e.toGrayscaleBuffer=function(n,r,i){var o=new Uint8ClampedArray(r*i);if(e.FRAME_INDEX=!e.FRAME_INDEX)for(var a=0,s=0,u=n.length;a<u;a+=4,s++){o[s]=0===n[a+3]?255:306*n[a]+601*n[a+1]+117*n[a+2]+512>>10}else{a=0,s=0;for(var p=n.length;a<p;a+=4,s++)void 0,o[s]=255-(0===n[a+3]?255:306*n[a]+601*n[a+1]+117*n[a+2]+512>>10)}return o},e.prototype.getRow=function(n,r){if(n<0||n>=this.getHeight())throw new F("Requested row is outside the image: "+n);var i=this.getWidth(),o=n*i;return null===r?r=this.buffer.slice(o,o+i):(r.length<i&&(r=new Uint8ClampedArray(i)),r.set(this.buffer.slice(o,o+i))),r},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,r,i,o){return t.prototype.crop.call(this,n,r,i,o),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(null===this.tempCanvasElement){var n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement},e.prototype.rotate=function(n){var r=this.getTempCanvasElement(),i=r.getContext("2d"),o=n*e.DEGREE_TO_RADIANS,a=this.canvas.width,s=this.canvas.height,u=Math.ceil(Math.abs(Math.cos(o))*a+Math.abs(Math.sin(o))*s),c=Math.ceil(Math.abs(Math.sin(o))*a+Math.abs(Math.cos(o))*s);return r.width=u,r.height=c,i.translate(u/2,c/2),i.rotate(o),i.drawImage(this.canvas,a/-2,s/-2),this.buffer=e.makeBufferFromCanvasImageData(r),this},e.prototype.invert=function(){return new Zl(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(iu),Oj=function(){function t(e,n,r){this.deviceId=e,this.label=n,this.kind="videoinput",this.groupId=r||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t}(),$t=function(t,e,n,r){return new(n||(n=Promise))(function(o,a){function s(l){try{c(r.next(l))}catch(f){a(f)}}function u(l){try{c(r.throw(l))}catch(f){a(f)}}function c(l){l.done?o(l.value):function i(o){return o instanceof n?o:new n(function(a){a(o)})}(l.value).then(s,u)}c((r=r.apply(t,e||[])).next())})},Gt=function(t,e){var r,i,o,a,n={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(l){return function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=2&c[0]?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(!(o=(o=n.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){n=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(6===c[0]&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},ma=function(){function t(e,n,r){void 0===n&&(n=500),this.reader=e,this.timeBetweenScansMillis=n,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!(!this.isMediaDevicesSuported||!navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return $t(this,void 0,void 0,function(){var e,n,r,i,o,a,f,d;return Gt(this,function(h){switch(h.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=h.sent(),n=[];try{for(r=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),i=r.next();!i.done;i=r.next())"videoinput"===(a="video"===(o=i.value).kind?"videoinput":o.kind)&&n.push({deviceId:o.deviceId||o.id,label:o.label||"Video device "+(n.length+1),kind:a,groupId:o.groupId})}catch(p){f={error:p}}finally{try{i&&!i.done&&(d=r.return)&&d.call(r)}finally{if(f)throw f.error}}return[2,n]}})})},t.prototype.getVideoInputDevices=function(){return $t(this,void 0,void 0,function(){return Gt(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return[2,n.sent().map(function(r){return new Oj(r.deviceId,r.label)})]}})})},t.prototype.findDeviceById=function(e){return $t(this,void 0,void 0,function(){var n;return Gt(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return(n=r.sent())?[2,n.find(function(i){return i.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,n){return $t(this,void 0,void 0,function(){return Gt(this,function(r){switch(r.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,n)];case 1:return[2,r.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,n){return $t(this,void 0,void 0,function(){return Gt(this,function(o){switch(o.label){case 0:return this.reset(),[4,this.decodeOnceFromConstraints({video:e?{deviceId:{exact:e}}:{facingMode:"environment"}},n)];case 1:return[2,o.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,n){return $t(this,void 0,void 0,function(){var r;return Gt(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return r=i.sent(),[4,this.decodeOnceFromStream(r,n)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,n){return $t(this,void 0,void 0,function(){var r;return Gt(this,function(o){switch(o.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,n)];case 1:return r=o.sent(),[4,this.decodeOnce(r)];case 2:return[2,o.sent()]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,n,r){return $t(this,void 0,void 0,function(){return Gt(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,n,r)];case 1:return[2,i.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,n,r){return $t(this,void 0,void 0,function(){return Gt(this,function(a){switch(a.label){case 0:return[4,this.decodeFromConstraints({video:e?{deviceId:{exact:e}}:{facingMode:"environment"}},n,r)];case 1:return[2,a.sent()]}})})},t.prototype.decodeFromConstraints=function(e,n,r){return $t(this,void 0,void 0,function(){var i;return Gt(this,function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=o.sent(),[4,this.decodeFromStream(i,n,r)];case 2:return[2,o.sent()]}})})},t.prototype.decodeFromStream=function(e,n,r){return $t(this,void 0,void 0,function(){var i;return Gt(this,function(o){switch(o.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,n)];case 1:return i=o.sent(),[4,this.decodeContinuously(i,r)];case 2:return[2,o.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,n){return $t(this,void 0,void 0,function(){var r;return Gt(this,function(i){switch(i.label){case 0:return r=this.prepareVideoElement(n),this.addVideoSource(r,e),this.videoElement=r,this.stream=e,[4,this.playVideoOnLoadAsync(r)];case 1:return i.sent(),[2,r]}})})},t.prototype.playVideoOnLoadAsync=function(e){var n=this;return new Promise(function(r,i){return n.playVideoOnLoad(e,function(){return r()})})},t.prototype.playVideoOnLoad=function(e,n){var r=this;this.videoEndedListener=function(){return r.stopStreams()},this.videoCanPlayListener=function(){return r.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",n),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return $t(this,void 0,void 0,function(){return Gt(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,n){var r=document.getElementById(e);if(!r)throw new et("element with id '"+e+"' not found");if(r.nodeName.toLowerCase()!==n.toLowerCase())throw new et("element with id '"+e+"' must be an "+n+" element");return r},t.prototype.decodeFromImage=function(e,n){if(!e&&!n)throw new et("either imageElement with a src set or an url must be provided");return n&&!e?this.decodeFromImageUrl(n):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,n){if(!e&&!n)throw new et("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,n,r){if(void 0===e&&void 0===n)throw new et("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrlContinuously(n,r):this.decodeFromVideoElementContinuously(e,r)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new et("An image element must be provided.");this.reset();var n=this.prepareImageElement(e);return this.imageElement=n,this.isImageLoaded(n)?this.decodeOnce(n,!1,!0):this._decodeOnLoadImage(n)},t.prototype.decodeFromVideoElement=function(e){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(n)},t.prototype.decodeFromVideoElementContinuously=function(e,n){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,n)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new et("A video element must be provided.");this.reset();var n=this.prepareVideoElement(e);return this.videoElement=n,n},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new et("An URL must be provided.");this.reset();var n=this.prepareImageElement();this.imageElement=n;var r=this._decodeOnLoadImage(n);return n.src=e,r},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new et("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),r=this.decodeFromVideoElement(n);return n.src=e,r},t.prototype.decodeFromVideoUrlContinuously=function(e,n){if(!e)throw new et("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(r,n);return r.src=e,i},t.prototype._decodeOnLoadImage=function(e){var n=this;return new Promise(function(r,i){n.imageLoadedListener=function(){return n.decodeOnce(e,!1,!0).then(r,i)},e.addEventListener("load",n.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return $t(this,void 0,void 0,function(){return Gt(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),[4,this.decodeOnce(e)];case 2:return[2,n.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,n){return $t(this,void 0,void 0,function(){return Gt(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),this.decodeContinuously(e,n),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||0===e.naturalWidth)},t.prototype.prepareImageElement=function(e){var n;return typeof e>"u"&&((n=document.createElement("img")).width=200,n.height=200),"string"==typeof e&&(n=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(n=e),n},t.prototype.prepareVideoElement=function(e){var n;return!e&&typeof document<"u"&&((n=document.createElement("video")).width=200,n.height=200),"string"==typeof e&&(n=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(n=e),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n},t.prototype.decodeOnce=function(e,n,r){var i=this;void 0===n&&(n=!0),void 0===r&&(r=!0),this._stopAsyncDecode=!1;var o=function(a,s){if(i._stopAsyncDecode)return s(new A("Video stream has ended before any code could be detected.")),void(i._stopAsyncDecode=void 0);try{a(i.decode(e))}catch(d){if(n&&d instanceof A||(d instanceof tt||d instanceof M)&&r)return setTimeout(o,i._timeBetweenDecodingAttempts,a,s);s(d)}};return new Promise(function(a,s){return o(a,s)})},t.prototype.decodeContinuously=function(e,n){var r=this;this._stopContinuousDecode=!1;var i=function(){if(r._stopContinuousDecode)r._stopContinuousDecode=void 0;else try{var o=r.decode(e);n(o,null),setTimeout(i,r.timeBetweenScansMillis)}catch(u){n(null,u),(u instanceof tt||u instanceof M||u instanceof A)&&setTimeout(i,r._timeBetweenDecodingAttempts)}};i()},t.prototype.decode=function(e){var n=this.createBinaryBitmap(e);return this.decodeBitmap(n)},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e),e instanceof HTMLVideoElement?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);var r=this.getCaptureCanvas(e),i=new bj(r),o=new MA(i);return new IA(o)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var n=this.getCaptureCanvas(e),r=void 0;try{r=n.getContext("2d",{willReadFrequently:!0})}catch{r=n.getContext("2d")}this.captureCanvasContext=r}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var n=this.createCaptureCanvas(e);this.captureCanvas=n}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,n,r){void 0===n&&(n={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),void 0===r&&(r=this.captureCanvasContext),r.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)},t.prototype.drawImageOnCanvas=function(e,n,r){void 0===n&&(n={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),void 0===r&&(r=this.captureCanvasContext),r.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r,i,n=document.createElement("canvas");return typeof e<"u"&&(e instanceof HTMLVideoElement?(r=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),n.style.width=r+"px",n.style.height=i+"px",n.width=r,n.height=i,n},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),!1===this._stopAsyncDecode&&this.stopAsyncDecode(),!1===this._stopContinuousDecode&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(void 0!==this.imageLoadedListener&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,n){try{e.srcObject=n}catch{e.src=URL.createObjectURL(n)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t}(),Tj=function(){function t(e,n,r,i,o,a){void 0===r&&(r=null==n?0:8*n.length),void 0===a&&(a=Fe.currentTimeMillis()),this.text=e,this.rawBytes=n,this.numBits=r,this.resultPoints=i,this.format=o,this.timestamp=a,this.text=e,this.rawBytes=n,this.numBits=null==r?null==n?0:8*n.length:r,this.resultPoints=i,this.format=o,this.resultMetadata=null,this.timestamp=null==a?Fe.currentTimeMillis():a}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,n){null===this.resultMetadata&&(this.resultMetadata=new Map),this.resultMetadata.set(e,n)},t.prototype.putAllMetadata=function(e){null!==e&&(this.resultMetadata=null===this.resultMetadata?e:new Map(e))},t.prototype.addResultPoints=function(e){var n=this.resultPoints;if(null===n)this.resultPoints=e;else if(null!==e&&e.length>0){var r=new Array(n.length+e.length);Fe.arraycopy(n,0,r,0,n.length),Fe.arraycopy(e,0,r,n.length,e.length),this.resultPoints=r}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t}();const Mt=Tj;var TA=function(t){return t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",t}(TA||{});const B=TA;var RA=function(t){return t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY",t}(RA||{});const xt=RA;var Rj=function(){function t(e,n,r,i,o,a){void 0===o&&(o=-1),void 0===a&&(a=-1),this.rawBytes=e,this.text=n,this.byteSegments=r,this.ecLevel=i,this.structuredAppendSequenceNumber=o,this.structuredAppendParity=a,this.numBits=null==e?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t}();const Yl=Rj;var Nj=function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(0===e)throw new F;return this.logTable[e]},t.addOrSubtract=function(e,n){return e^n},t}();const ou=Nj;var Pj=function(){function t(e,n){if(0===n.length)throw new F;this.field=e;var r=n.length;if(r>1&&0===n[0]){for(var i=1;i<r&&0===n[i];)i++;i===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-i),Fe.arraycopy(n,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return 0===this.coefficients[0]},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(0===e)return this.getCoefficient(0);var r,n=this.coefficients;if(1===e){r=0;for(var i=0,o=n.length;i!==o;i++)r=ou.addOrSubtract(r,n[i]);return r}r=n[0];var s=n.length,u=this.field;for(i=1;i<s;i++)r=ou.addOrSubtract(u.multiply(e,r),n[i]);return r},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new F("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var n=this.coefficients,r=e.coefficients;if(n.length>r.length){var i=n;n=r,r=i}var o=new Int32Array(r.length),a=r.length-n.length;Fe.arraycopy(r,0,o,0,a);for(var s=a;s<r.length;s++)o[s]=ou.addOrSubtract(n[s-a],r[s]);return new t(this.field,o)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new F("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var n=this.coefficients,r=n.length,i=e.coefficients,o=i.length,a=new Int32Array(r+o-1),s=this.field,u=0;u<r;u++)for(var c=n[u],l=0;l<o;l++)a[u+l]=ou.addOrSubtract(a[u+l],s.multiply(c,i[l]));return new t(s,a)},t.prototype.multiplyScalar=function(e){if(0===e)return this.field.getZero();if(1===e)return this;for(var n=this.coefficients.length,r=this.field,i=new Int32Array(n),o=this.coefficients,a=0;a<n;a++)i[a]=r.multiply(o[a],e);return new t(r,i)},t.prototype.multiplyByMonomial=function(e,n){if(e<0)throw new F;if(0===n)return this.field.getZero();for(var r=this.coefficients,i=r.length,o=new Int32Array(i+e),a=this.field,s=0;s<i;s++)o[s]=a.multiply(r[s],n);return new t(a,o)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new F("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new F("Divide by 0");for(var n=this.field,r=n.getZero(),i=this,o=e.getCoefficient(e.getDegree()),a=n.inverse(o);i.getDegree()>=e.getDegree()&&!i.isZero();){var s=i.getDegree()-e.getDegree(),u=n.multiply(i.getCoefficient(i.getDegree()),a),c=e.multiplyByMonomial(s,u),l=n.buildMonomial(s,u);r=r.addOrSubtract(l),i=i.addOrSubtract(c)}return[r,i]},t.prototype.toString=function(){for(var e="",n=this.getDegree();n>=0;n--){var r=this.getCoefficient(n);if(0!==r){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),0===n||1!==r){var i=this.field.log(r);0===i?e+="1":1===i?e+="a":(e+="a^",e+=i)}0!==n&&(1===n?e+="x":(e+="x^",e+=n))}}return e},t}();const fi=Pj;var Fj=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lj=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Fj(e,t),e.kind="ArithmeticException",e}(cn);const NA=Lj;var kj=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bj=function(t){function e(n,r,i){var o=t.call(this)||this;o.primitive=n,o.size=r,o.generatorBase=i;for(var a=new Int32Array(r),s=1,u=0;u<r;u++)a[u]=s,(s*=2)>=r&&(s^=n,s&=r-1);o.expTable=a;var c=new Int32Array(r);for(u=0;u<r-1;u++)c[a[u]]=u;return o.logTable=c,o.zero=new fi(o,Int32Array.from([0])),o.one=new fi(o,Int32Array.from([1])),o}return kj(e,t),e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(n,r){if(n<0)throw new F;if(0===r)return this.zero;var i=new Int32Array(n+1);return i[0]=r,new fi(this,i)},e.prototype.inverse=function(n){if(0===n)throw new NA;return this.expTable[this.size-this.logTable[n]-1]},e.prototype.multiply=function(n,r){return 0===n||0===r?0:this.expTable[(this.logTable[n]+this.logTable[r])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+J.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(n){return n===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(ou);const fn=Bj;var Vj=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Uj=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Vj(e,t),e.kind="ReedSolomonException",e}(cn);const Kl=Uj;var Hj=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jj=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Hj(e,t),e.kind="IllegalStateException",e}(cn);const Cr=jj;var $j=function(){function t(e){this.field=e}return t.prototype.decode=function(e,n){for(var r=this.field,i=new fi(r,e),o=new Int32Array(n),a=!0,s=0;s<n;s++){var u=i.evaluateAt(r.exp(s+r.getGeneratorBase()));o[o.length-1-s]=u,0!==u&&(a=!1)}if(!a){var c=new fi(r,o),l=this.runEuclideanAlgorithm(r.buildMonomial(n,1),c,n),d=l[1],h=this.findErrorLocations(l[0]),p=this.findErrorMagnitudes(d,h);for(s=0;s<h.length;s++){var g=e.length-1-r.log(h[s]);if(g<0)throw new Kl("Bad error location");e[g]=fn.addOrSubtract(e[g],p[s])}}},t.prototype.runEuclideanAlgorithm=function(e,n,r){if(e.getDegree()<n.getDegree()){var i=e;e=n,n=i}for(var o=this.field,a=e,s=n,u=o.getZero(),c=o.getOne();s.getDegree()>=(r/2|0);){var l=a,f=u;if(u=c,(a=s).isZero())throw new Kl("r_{i-1} was zero");s=l;for(var d=o.getZero(),h=a.getCoefficient(a.getDegree()),p=o.inverse(h);s.getDegree()>=a.getDegree()&&!s.isZero();){var g=s.getDegree()-a.getDegree(),m=o.multiply(s.getCoefficient(s.getDegree()),p);d=d.addOrSubtract(o.buildMonomial(g,m)),s=s.addOrSubtract(a.multiplyByMonomial(g,m))}if(c=d.multiply(u).addOrSubtract(f),s.getDegree()>=a.getDegree())throw new Cr("Division algorithm failed to reduce polynomial?")}var y=c.getCoefficient(0);if(0===y)throw new Kl("sigmaTilde(0) was zero");var v=o.inverse(y);return[c.multiplyScalar(v),s.multiplyScalar(v)]},t.prototype.findErrorLocations=function(e){var n=e.getDegree();if(1===n)return Int32Array.from([e.getCoefficient(1)]);for(var r=new Int32Array(n),i=0,o=this.field,a=1;a<o.getSize()&&i<n;a++)0===e.evaluateAt(a)&&(r[i]=o.inverse(a),i++);if(i!==n)throw new Kl("Error locator degree does not match number of roots");return r},t.prototype.findErrorMagnitudes=function(e,n){for(var r=n.length,i=new Int32Array(r),o=this.field,a=0;a<r;a++){for(var s=o.inverse(n[a]),u=1,c=0;c<r;c++)if(a!==c){var l=o.multiply(n[c],s);u=o.multiply(u,1&l?-2&l:1|l)}i[a]=o.multiply(e.evaluateAt(s),o.inverse(u)),0!==o.getGeneratorBase()&&(i[a]=o.multiply(i[a],s))}return i},t}();const Ql=$j;var Tt=function(t){return t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY",t}(Tt||{}),Gj=function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var n=e.getBits(),r=this.extractBits(n),i=this.correctBits(r),o=t.convertBoolArrayToByteArray(i),a=t.getEncodedData(i),s=new Yl(o,a,null,null);return s.setNumBits(i.length),s},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var n=e.length,r=Tt.UPPER,i=Tt.UPPER,o="",a=0;a<n;)if(i===Tt.BINARY){if(n-a<5)break;var s=t.readCode(e,a,5);if(a+=5,0===s){if(n-a<11)break;s=t.readCode(e,a,11)+31,a+=11}for(var u=0;u<s;u++){if(n-a<8){a=n;break}var c=t.readCode(e,a,8);o+=ae.castAsNonUtf8Char(c),a+=8}i=r}else{var l=i===Tt.DIGIT?4:5;if(n-a<l)break;c=t.readCode(e,a,l),a+=l;var f=t.getCharacter(i,c);f.startsWith("CTRL_")?(r=i,i=t.getTable(f.charAt(5)),"L"===f.charAt(6)&&(r=i)):(o+=f,i=r)}return o},t.getTable=function(e){switch(e){case"L":return Tt.LOWER;case"P":return Tt.PUNCT;case"M":return Tt.MIXED;case"D":return Tt.DIGIT;case"B":return Tt.BINARY;default:return Tt.UPPER}},t.getCharacter=function(e,n){switch(e){case Tt.UPPER:return t.UPPER_TABLE[n];case Tt.LOWER:return t.LOWER_TABLE[n];case Tt.MIXED:return t.MIXED_TABLE[n];case Tt.PUNCT:return t.PUNCT_TABLE[n];case Tt.DIGIT:return t.DIGIT_TABLE[n];default:throw new Cr("Bad table")}},t.prototype.correctBits=function(e){var n,r;this.ddata.getNbLayers()<=2?(r=6,n=fn.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,n=fn.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,n=fn.AZTEC_DATA_10):(r=12,n=fn.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),o=e.length/r;if(o<i)throw new M;for(var a=e.length%r,s=new Int32Array(o),u=0;u<o;u++,a+=r)s[u]=t.readCode(e,a,r);try{new Ql(n).decode(s,o-i)}catch(m){throw new M(m)}var l=(1<<r)-1,f=0;for(u=0;u<i;u++){if(0===(d=s[u])||d===l)throw new M;(1===d||d===l-1)&&f++}var h=new Array(i*r-f),p=0;for(u=0;u<i;u++){var d;if(1===(d=s[u])||d===l-1)h.fill(d>1,p,p+r-1),p+=r-1;else for(var g=r-1;g>=0;--g)h[p++]=0!=(d&1<<g)}return h},t.prototype.extractBits=function(e){var n=this.ddata.isCompact(),r=this.ddata.getNbLayers(),i=(n?11:14)+4*r,o=new Int32Array(i),a=new Array(this.totalBitsInLayer(r,n));if(n)for(var s=0;s<o.length;s++)o[s]=s;else{var u=i+1+2*J.truncDivision(J.truncDivision(i,2)-1,15),c=i/2,l=J.truncDivision(u,2);for(s=0;s<c;s++){var f=s+J.truncDivision(s,15);o[c-s-1]=l-f-1,o[c+s]=l+f+1}}s=0;for(var d=0;s<r;s++){for(var h=4*(r-s)+(n?9:12),p=2*s,g=i-1-p,m=0;m<h;m++)for(var y=2*m,v=0;v<2;v++)a[d+y+v]=e.get(o[p+v],o[p+m]),a[d+2*h+y+v]=e.get(o[p+m],o[g-v]),a[d+4*h+y+v]=e.get(o[g-v],o[g-m]),a[d+6*h+y+v]=e.get(o[g-m],o[p+v]);d+=8*h}return a},t.readCode=function(e,n,r){for(var i=0,o=n;o<n+r;o++)i<<=1,e[o]&&(i|=1);return i},t.readByte=function(e,n){var r=e.length-n;return r>=8?t.readCode(e,n,8):t.readCode(e,n,r)<<8-r},t.convertBoolArrayToByteArray=function(e){for(var n=new Uint8Array((e.length+7)/8),r=0;r<n.length;r++)n[r]=t.readByte(e,8*r);return n},t.prototype.totalBitsInLayer=function(e,n){return((n?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","\t","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~","\x7f","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r","\r\n",". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t}();const PA=Gj;var zj=function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,n,r,i){var o=e-r,a=n-i;return Math.sqrt(o*o+a*a)},t.sum=function(e){for(var n=0,r=0,i=e.length;r!==i;r++)n+=e[r];return n},t}();const pe=zj;var Wj=function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}();const S1=Wj;var Xj=function(){function t(e,n){this.x=e,this.y=n}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){return e instanceof t&&(this.x===e.x&&this.y===e.y)},t.prototype.hashCode=function(){return 31*S1.floatToIntBits(this.x)+S1.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var o,a,s,n=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]);if(r>=n&&r>=i?(a=e[0],o=e[1],s=e[2]):i>=r&&i>=n?(a=e[1],o=e[0],s=e[2]):(a=e[2],o=e[0],s=e[1]),this.crossProductZ(o,a,s)<0){var u=o;o=s,s=u}e[0]=o,e[1]=a,e[2]=s},t.distance=function(e,n){return pe.distance(e.x,e.y,n.x,n.y)},t.crossProductZ=function(e,n,r){var i=n.x,o=n.y;return(r.x-i)*(e.y-o)-(r.y-o)*(e.x-i)},t}();const L=Xj;var qj=function(){function t(e,n){this.bits=e,this.points=n}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}();const I1=qj;var Zj=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yj=function(t){function e(n,r,i,o,a){var s=t.call(this,n,r)||this;return s.compact=i,s.nbDatablocks=o,s.nbLayers=a,s}return Zj(e,t),e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(I1);const Kj=Yj;var Qj=function(){function t(e,n,r,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),null==n&&(n=t.INIT_SIZE),null==r&&(r=e.getWidth()/2|0),null==i&&(i=e.getHeight()/2|0);var o=n/2|0;if(this.leftInit=r-o,this.rightInit=r+o,this.upInit=i-o,this.downInit=i+o,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new A}return t.prototype.detect=function(){for(var e=this.leftInit,n=this.rightInit,r=this.upInit,i=this.downInit,o=!1,a=!0,s=!1,u=!1,c=!1,l=!1,f=!1,d=this.width,h=this.height;a;){a=!1;for(var p=!0;(p||!u)&&n<d;)(p=this.containsBlackPoint(r,i,n,!1))?(n++,a=!0,u=!0):u||n++;if(n>=d){o=!0;break}for(var g=!0;(g||!c)&&i<h;)(g=this.containsBlackPoint(e,n,i,!0))?(i++,a=!0,c=!0):c||i++;if(i>=h){o=!0;break}for(var m=!0;(m||!l)&&e>=0;)(m=this.containsBlackPoint(r,i,e,!1))?(e--,a=!0,l=!0):l||e--;if(e<0){o=!0;break}for(var y=!0;(y||!f)&&r>=0;)(y=this.containsBlackPoint(e,n,r,!0))?(r--,a=!0,f=!0):f||r--;if(r<0){o=!0;break}a&&(s=!0)}if(!o&&s){for(var v=n-e,w=null,E=1;null===w&&E<v;E++)w=this.getBlackPointOnSegment(e,i-E,e+E,i);if(null==w)throw new A;var x=null;for(E=1;null===x&&E<v;E++)x=this.getBlackPointOnSegment(e,r+E,e+E,r);if(null==x)throw new A;var D=null;for(E=1;null===D&&E<v;E++)D=this.getBlackPointOnSegment(n,r+E,n-E,r);if(null==D)throw new A;var O=null;for(E=1;null===O&&E<v;E++)O=this.getBlackPointOnSegment(n,i-E,n-E,i);if(null==O)throw new A;return this.centerEdges(O,w,D,x)}throw new A},t.prototype.getBlackPointOnSegment=function(e,n,r,i){for(var o=pe.round(pe.distance(e,n,r,i)),a=(r-e)/o,s=(i-n)/o,u=this.image,c=0;c<o;c++){var l=pe.round(e+c*a),f=pe.round(n+c*s);if(u.get(l,f))return new L(l,f)}return null},t.prototype.centerEdges=function(e,n,r,i){var o=e.getX(),a=e.getY(),s=n.getX(),u=n.getY(),c=r.getX(),l=r.getY(),f=i.getX(),d=i.getY(),h=t.CORR;return o<this.width/2?[new L(f-h,d+h),new L(s+h,u+h),new L(c-h,l-h),new L(o+h,a-h)]:[new L(f+h,d+h),new L(s+h,u-h),new L(c-h,l+h),new L(o-h,a-h)]},t.prototype.containsBlackPoint=function(e,n,r,i){var o=this.image;if(i){for(var a=e;a<=n;a++)if(o.get(a,r))return!0}else for(var s=e;s<=n;s++)if(o.get(r,s))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t}();const b1=Qj;var Jj=function(){function t(){}return t.checkAndNudgePoints=function(e,n){for(var r=e.getWidth(),i=e.getHeight(),o=!0,a=0;a<n.length&&o;a+=2){var s=Math.floor(n[a]),u=Math.floor(n[a+1]);if(s<-1||s>r||u<-1||u>i)throw new A;o=!1,-1===s?(n[a]=0,o=!0):s===r&&(n[a]=r-1,o=!0),-1===u?(n[a+1]=0,o=!0):u===i&&(n[a+1]=i-1,o=!0)}for(o=!0,a=n.length-2;a>=0&&o;a-=2){if(s=Math.floor(n[a]),u=Math.floor(n[a+1]),s<-1||s>r||u<-1||u>i)throw new A;o=!1,-1===s?(n[a]=0,o=!0):s===r&&(n[a]=r-1,o=!0),-1===u?(n[a+1]=0,o=!0):u===i&&(n[a+1]=i-1,o=!0)}},t}();const FA=Jj;var e$=function(){function t(e,n,r,i,o,a,s,u,c){this.a11=e,this.a21=n,this.a31=r,this.a12=i,this.a22=o,this.a32=a,this.a13=s,this.a23=u,this.a33=c}return t.quadrilateralToQuadrilateral=function(e,n,r,i,o,a,s,u,c,l,f,d,h,p,g,m){var y=t.quadrilateralToSquare(e,n,r,i,o,a,s,u);return t.squareToQuadrilateral(c,l,f,d,h,p,g,m).times(y)},t.prototype.transformPoints=function(e){for(var n=e.length,r=this.a11,i=this.a12,o=this.a13,a=this.a21,s=this.a22,u=this.a23,c=this.a31,l=this.a32,f=this.a33,d=0;d<n;d+=2){var h=e[d],p=e[d+1],g=o*h+u*p+f;e[d]=(r*h+a*p+c)/g,e[d+1]=(i*h+s*p+l)/g}},t.prototype.transformPointsWithValues=function(e,n){for(var r=this.a11,i=this.a12,o=this.a13,a=this.a21,s=this.a22,u=this.a23,c=this.a31,l=this.a32,f=this.a33,d=e.length,h=0;h<d;h++){var p=e[h],g=n[h],m=o*p+u*g+f;e[h]=(r*p+a*g+c)/m,n[h]=(i*p+s*g+l)/m}},t.squareToQuadrilateral=function(e,n,r,i,o,a,s,u){var c=e-r+o-s,l=n-i+a-u;if(0===c&&0===l)return new t(r-e,o-r,e,i-n,a-i,n,0,0,1);var f=r-o,d=s-o,h=i-a,p=u-a,g=f*p-d*h,m=(c*p-d*l)/g,y=(f*l-c*h)/g;return new t(r-e+m*r,s-e+y*s,e,i-n+m*i,u-n+y*u,n,m,y,1)},t.quadrilateralToSquare=function(e,n,r,i,o,a,s,u){return t.squareToQuadrilateral(e,n,r,i,o,a,s,u).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t}();const LA=e$;var t$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),n$=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return t$(e,t),e.prototype.sampleGrid=function(n,r,i,o,a,s,u,c,l,f,d,h,p,g,m,y,v,w,E){var x=LA.quadrilateralToQuadrilateral(o,a,s,u,c,l,f,d,h,p,g,m,y,v,w,E);return this.sampleGridWithTransform(n,r,i,x)},e.prototype.sampleGridWithTransform=function(n,r,i,o){if(r<=0||i<=0)throw new A;for(var a=new ln(r,i),s=new Float32Array(2*r),u=0;u<i;u++){for(var c=s.length,l=u+.5,f=0;f<c;f+=2)s[f]=f/2+.5,s[f+1]=l;o.transformPoints(s),FA.checkAndNudgePoints(n,s);try{for(f=0;f<c;f+=2)n.get(Math.floor(s[f]),Math.floor(s[f+1]))&&a.set(f/2,u)}catch{throw new A}}return a},e}(FA);const r$=n$;var i$=function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new r$,t}();const O1=i$;var dn=function(){function t(e,n){this.x=e,this.y=n}return t.prototype.toResultPoint=function(){return new L(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t}(),o$=function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var n=this.getMatrixCenter(),r=this.getBullsEyeCorners(n);if(e){var i=r[0];r[0]=r[2],r[2]=i}this.extractParameters(r);var o=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),a=this.getMatrixCornerPoints(r);return new Kj(o,a,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!(this.isValidPoint(e[0])&&this.isValidPoint(e[1])&&this.isValidPoint(e[2])&&this.isValidPoint(e[3])))throw new A;var n=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],n),this.sampleLine(e[1],e[2],n),this.sampleLine(e[2],e[3],n),this.sampleLine(e[3],e[0],n)]);this.shift=this.getRotation(r,n);for(var i=0,o=0;o<4;o++){var a=r[(this.shift+o)%4];this.compact?(i<<=7,i+=a>>1&127):(i<<=10,i+=(a>>2&992)+(a>>1&31))}var s=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=1+(s>>6),this.nbDataBlocks=1+(63&s)):(this.nbLayers=1+(s>>11),this.nbDataBlocks=1+(2047&s))},t.prototype.getRotation=function(e,n){var r=0;e.forEach(function(o,a,s){r=(o>>n-2<<1)+(1&o)+(r<<3)}),r=((1&r)<<11)+(r>>1);for(var i=0;i<4;i++)if(J.bitCount(r^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new A},t.prototype.getCorrectedParameterData=function(e,n){var r,i;n?(r=7,i=2):(r=10,i=4);for(var o=r-i,a=new Int32Array(r),s=r-1;s>=0;--s)a[s]=15&e,e>>=4;try{new Ql(fn.AZTEC_PARAM).decode(a,o)}catch{throw new A}var c=0;for(s=0;s<i;s++)c=(c<<4)+a[s];return c},t.prototype.getBullsEyeCorners=function(e){var n=e,r=e,i=e,o=e,a=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var s=this.getFirstDifferent(n,a,1,-1),u=this.getFirstDifferent(r,a,1,1),c=this.getFirstDifferent(i,a,-1,1),l=this.getFirstDifferent(o,a,-1,-1);if(this.nbCenterLayers>2){var f=this.distancePoint(l,s)*this.nbCenterLayers/(this.distancePoint(o,n)*(this.nbCenterLayers+2));if(f<.75||f>1.25||!this.isWhiteOrBlackRectangle(s,u,c,l))break}n=s,r=u,i=c,o=l,a=!a}if(5!==this.nbCenterLayers&&7!==this.nbCenterLayers)throw new A;this.compact=5===this.nbCenterLayers;var d=new L(n.getX()+.5,n.getY()-.5),h=new L(r.getX()+.5,r.getY()+.5),p=new L(i.getX()-.5,i.getY()+.5),g=new L(o.getX()-.5,o.getY()-.5);return this.expandSquare([d,h,p,g],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,n,r,i;try{e=(o=new b1(this.image).detect())[0],n=o[1],r=o[2],i=o[3]}catch{var a=this.image.getWidth()/2,s=this.image.getHeight()/2;e=this.getFirstDifferent(new dn(a+7,s-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new dn(a+7,s+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new dn(a-7,s+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new dn(a-7,s-7),!1,-1,-1).toResultPoint()}var u=pe.round((e.getX()+i.getX()+n.getX()+r.getX())/4),c=pe.round((e.getY()+i.getY()+n.getY()+r.getY())/4);try{var o;e=(o=new b1(this.image,15,u,c).detect())[0],n=o[1],r=o[2],i=o[3]}catch{e=this.getFirstDifferent(new dn(u+7,c-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new dn(u+7,c+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new dn(u-7,c+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new dn(u-7,c-7),!1,-1,-1).toResultPoint()}return u=pe.round((e.getX()+i.getX()+n.getX()+r.getX())/4),c=pe.round((e.getY()+i.getY()+n.getY()+r.getY())/4),new dn(u,c)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,n,r,i,o){var a=O1.getInstance(),s=this.getDimension(),u=s/2-this.nbCenterLayers,c=s/2+this.nbCenterLayers;return a.sampleGrid(e,s,s,u,u,c,u,c,c,u,c,n.getX(),n.getY(),r.getX(),r.getY(),i.getX(),i.getY(),o.getX(),o.getY())},t.prototype.sampleLine=function(e,n,r){for(var i=0,o=this.distanceResultPoint(e,n),a=o/r,s=e.getX(),u=e.getY(),c=a*(n.getX()-e.getX())/o,l=a*(n.getY()-e.getY())/o,f=0;f<r;f++)this.image.get(pe.round(s+f*c),pe.round(u+f*l))&&(i|=1<<r-f-1);return i},t.prototype.isWhiteOrBlackRectangle=function(e,n,r,i){e=new dn(e.getX()-3,e.getY()+3),n=new dn(n.getX()-3,n.getY()-3),r=new dn(r.getX()+3,r.getY()-3),i=new dn(i.getX()+3,i.getY()+3);var a=this.getColor(i,e);if(0===a)return!1;var s=this.getColor(e,n);return s===a&&(s=this.getColor(n,r))===a&&(s=this.getColor(r,i))===a},t.prototype.getColor=function(e,n){for(var r=this.distancePoint(e,n),i=(n.getX()-e.getX())/r,o=(n.getY()-e.getY())/r,a=0,s=e.getX(),u=e.getY(),c=this.image.get(e.getX(),e.getY()),l=Math.ceil(r),f=0;f<l;f++)u+=o,this.image.get(pe.round(s+=i),pe.round(u))!==c&&a++;var d=a/r;return d>.1&&d<.9?0:d<=.1===c?1:-1},t.prototype.getFirstDifferent=function(e,n,r,i){for(var o=e.getX()+r,a=e.getY()+i;this.isValid(o,a)&&this.image.get(o,a)===n;)o+=r,a+=i;for(o-=r,a-=i;this.isValid(o,a)&&this.image.get(o,a)===n;)o+=r;for(o-=r;this.isValid(o,a)&&this.image.get(o,a)===n;)a+=i;return new dn(o,a-=i)},t.prototype.expandSquare=function(e,n,r){var i=r/(2*n),o=e[0].getX()-e[2].getX(),a=e[0].getY()-e[2].getY(),s=(e[0].getX()+e[2].getX())/2,u=(e[0].getY()+e[2].getY())/2,c=new L(s+i*o,u+i*a),l=new L(s-i*o,u-i*a);return o=e[1].getX()-e[3].getX(),a=e[1].getY()-e[3].getY(),s=(e[1].getX()+e[3].getX())/2,u=(e[1].getY()+e[3].getY())/2,[c,new L(s+i*o,u+i*a),l,new L(s-i*o,u-i*a)]},t.prototype.isValid=function(e,n){return e>=0&&e<this.image.getWidth()&&n>0&&n<this.image.getHeight()},t.prototype.isValidPoint=function(e){var n=pe.round(e.getX()),r=pe.round(e.getY());return this.isValid(n,r)},t.prototype.distancePoint=function(e,n){return pe.distance(e.getX(),e.getY(),n.getX(),n.getY())},t.prototype.distanceResultPoint=function(e,n){return pe.distance(e.getX(),e.getY(),n.getX(),n.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(J.truncDivision(this.nbLayers-4,8)+1)+15},t}();const a$=o$;var s$=function(){function t(){}return t.prototype.decode=function(e,n){void 0===n&&(n=null);var r=null,i=new a$(e.getBlackMatrix()),o=null,a=null;try{o=(s=i.detectMirror(!1)).getPoints(),this.reportFoundResultPoints(n,o),a=(new PA).decode(s)}catch(f){r=f}if(null==a)try{var s;o=(s=i.detectMirror(!0)).getPoints(),this.reportFoundResultPoints(n,o),a=(new PA).decode(s)}catch(f){throw r??f}var u=new Mt(a.getText(),a.getRawBytes(),a.getNumBits(),o,B.AZTEC,Fe.currentTimeMillis()),c=a.getByteSegments();null!=c&&u.putMetadata(xt.BYTE_SEGMENTS,c);var l=a.getECLevel();return null!=l&&u.putMetadata(xt.ERROR_CORRECTION_LEVEL,l),u},t.prototype.reportFoundResultPoints=function(e,n){if(null!=e){var r=e.get(me.NEED_RESULT_POINT_CALLBACK);null!=r&&n.forEach(function(i,o,a){r.foundPossibleResultPoint(i)})}},t.prototype.reset=function(){},t}();const Jl=s$;var u$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c$=(function(t){u$(function e(n){return void 0===n&&(n=500),t.call(this,new Jl,n)||this},t)}(ma),function(){function t(){}return t.prototype.decode=function(e,n){try{return this.doDecode(e,n)}catch{if(n&&!0===n.get(me.TRY_HARDER)&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),o=this.doDecode(i,n),a=o.getResultMetadata(),s=270;null!==a&&!0===a.get(xt.ORIENTATION)&&(s+=a.get(xt.ORIENTATION)%360),o.putMetadata(xt.ORIENTATION,s);var u=o.getResultPoints();if(null!==u)for(var c=i.getHeight(),l=0;l<u.length;l++)u[l]=new L(c-u[l].getY()-1,u[l].getX());return o}throw new A}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,n){var u,r=e.getWidth(),i=e.getHeight(),o=new ht(r),a=n&&!0===n.get(me.TRY_HARDER),s=Math.max(1,i>>(a?8:5));u=a?i:15;for(var c=Math.trunc(i/2),l=0;l<u;l++){var f=Math.trunc((l+1)/2),h=c+s*(0==(1&l)?f:-f);if(h<0||h>=i)break;try{o=e.getBlackRow(h,o)}catch{continue}for(var p=function(v){if(1===v&&(o.reverse(),n&&!0===n.get(me.NEED_RESULT_POINT_CALLBACK))){var w=new Map;n.forEach(function(D,O){return w.set(O,D)}),w.delete(me.NEED_RESULT_POINT_CALLBACK),n=w}try{var E=g.decodeRow(h,o,n);if(1===v){E.putMetadata(xt.ORIENTATION,180);var x=E.getResultPoints();null!==x&&(x[0]=new L(r-x[0].getX()-1,x[0].getY()),x[1]=new L(r-x[1].getX()-1,x[1].getY()))}return{value:E}}catch{}},g=this,m=0;m<2;m++){var y=p(m);if("object"==typeof y)return y.value}}throw new A},t.recordPattern=function(e,n,r){for(var i=r.length,o=0;o<i;o++)r[o]=0;var a=e.getSize();if(n>=a)throw new A;for(var s=!e.get(n),u=0,c=n;c<a;){if(e.get(c)!==s)r[u]++;else{if(++u===i)break;r[u]=1,s=!s}c++}if(u!==i&&(u!==i-1||c!==a))throw new A},t.recordPatternInReverse=function(e,n,r){for(var i=r.length,o=e.get(n);n>0&&i>=0;)e.get(--n)!==o&&(i--,o=!o);if(i>=0)throw new A;t.recordPattern(e,n+1,r)},t.patternMatchVariance=function(e,n,r){for(var i=e.length,o=0,a=0,s=0;s<i;s++)o+=e[s],a+=n[s];if(o<a)return Number.POSITIVE_INFINITY;var u=o/a;r*=u;for(var c=0,l=0;l<i;l++){var f=e[l],d=n[l]*u,h=f>d?f-d:d-f;if(h>r)return Number.POSITIVE_INFINITY;c+=h}return c/o},t}());const ct=c$;var l$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),f$=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l$(e,t),e.findStartPattern=function(n){for(var r=n.getSize(),i=n.getNextSet(0),o=0,a=Int32Array.from([0,0,0,0,0,0]),s=i,u=!1,l=i;l<r;l++)if(n.get(l)!==u)a[o]++;else{if(5===o){for(var f=e.MAX_AVG_VARIANCE,d=-1,h=e.CODE_START_A;h<=e.CODE_START_C;h++){var p=ct.patternMatchVariance(a,e.CODE_PATTERNS[h],e.MAX_INDIVIDUAL_VARIANCE);p<f&&(f=p,d=h)}if(d>=0&&n.isRange(Math.max(0,s-(l-s)/2),s,!1))return Int32Array.from([s,l,d]);s+=a[0]+a[1],(a=a.slice(2,a.length))[o-1]=0,a[o]=0,o--}else o++;a[o]=1,u=!u}throw new A},e.decodeCode=function(n,r,i){ct.recordPattern(n,i,r);for(var o=e.MAX_AVG_VARIANCE,a=-1,s=0;s<e.CODE_PATTERNS.length;s++){var c=this.patternMatchVariance(r,e.CODE_PATTERNS[s],e.MAX_INDIVIDUAL_VARIANCE);c<o&&(o=c,a=s)}if(a>=0)return a;throw new A},e.prototype.decodeRow=function(n,r,i){var l,o=i&&!0===i.get(me.ASSUME_GS1),a=e.findStartPattern(r),s=a[2],u=0,c=new Uint8Array(20);switch(c[u++]=s,s){case e.CODE_START_A:l=e.CODE_CODE_A;break;case e.CODE_START_B:l=e.CODE_CODE_B;break;case e.CODE_START_C:l=e.CODE_CODE_C;break;default:throw new M}for(var f=!1,d=!1,h="",p=a[0],g=a[1],m=Int32Array.from([0,0,0,0,0,0]),y=0,v=0,w=s,E=0,x=!0,D=!1,O=!1;!f;){var R=d;switch(d=!1,y=v,v=e.decodeCode(r,m,g),c[u++]=v,v!==e.CODE_STOP&&(x=!0),v!==e.CODE_STOP&&(w+=++E*v),p=g,g+=m.reduce(function(_g,wg){return _g+wg},0),v){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new M}switch(l){case e.CODE_CODE_A:if(v<64)h+=String.fromCharCode(O===D?" ".charCodeAt(0)+v:" ".charCodeAt(0)+v+128),O=!1;else if(v<96)h+=String.fromCharCode(O===D?v-64:v+64),O=!1;else switch(v!==e.CODE_STOP&&(x=!1),v){case e.CODE_FNC_1:o&&(h+=0===h.length?"]C1":String.fromCharCode(29));break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!D&&O?(D=!0,O=!1):D&&O?(D=!1,O=!1):O=!0;break;case e.CODE_SHIFT:d=!0,l=e.CODE_CODE_B;break;case e.CODE_CODE_B:l=e.CODE_CODE_B;break;case e.CODE_CODE_C:l=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0}break;case e.CODE_CODE_B:if(v<96)h+=String.fromCharCode(O===D?" ".charCodeAt(0)+v:" ".charCodeAt(0)+v+128),O=!1;else switch(v!==e.CODE_STOP&&(x=!1),v){case e.CODE_FNC_1:o&&(h+=0===h.length?"]C1":String.fromCharCode(29));break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!D&&O?(D=!0,O=!1):D&&O?(D=!1,O=!1):O=!0;break;case e.CODE_SHIFT:d=!0,l=e.CODE_CODE_A;break;case e.CODE_CODE_A:l=e.CODE_CODE_A;break;case e.CODE_CODE_C:l=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0}break;case e.CODE_CODE_C:if(v<100)v<10&&(h+="0"),h+=v;else switch(v!==e.CODE_STOP&&(x=!1),v){case e.CODE_FNC_1:o&&(h+=0===h.length?"]C1":String.fromCharCode(29));break;case e.CODE_CODE_A:l=e.CODE_CODE_A;break;case e.CODE_CODE_B:l=e.CODE_CODE_B;break;case e.CODE_STOP:f=!0}}R&&(l=l===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var j=g-p;if(g=r.getNextUnset(g),!r.isRange(g,Math.min(r.getSize(),g+(g-p)/2),!1))throw new A;if((w-=E*y)%103!==y)throw new tt;var H=h.length;if(0===H)throw new A;H>0&&x&&(h=h.substring(0,l===e.CODE_CODE_C?H-2:H-1));for(var ze=(a[1]+a[0])/2,de=p+j/2,We=c.length,Gn=new Uint8Array(We),wi=0;wi<We;wi++)Gn[wi]=c[wi];var yg=[new L(ze,n),new L(de,n)];return new Mt(h,Gn,0,yg,B.CODE_128,(new Date).getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(ct);const kA=f$;var d$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),M1=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},h$=function(t){function e(n,r){void 0===n&&(n=!1),void 0===r&&(r=!1);var i=t.call(this)||this;return i.usingCheckDigit=n,i.extendedMode=r,i.decodeRowResult="",i.counters=new Int32Array(9),i}return d$(e,t),e.prototype.decodeRow=function(n,r,i){var o,a,s,u,c=this.counters;c.fill(0),this.decodeRowResult="";var h,p,l=e.findAsteriskPattern(r,c),f=r.getNextSet(l[1]),d=r.getSize();do{e.recordPattern(r,f,c);var g=e.toNarrowWidePattern(c);if(g<0)throw new A;h=e.patternToChar(g),this.decodeRowResult+=h,p=f;try{for(var m=(o=void 0,M1(c)),y=m.next();!y.done;y=m.next())f+=y.value}catch(We){o={error:We}}finally{try{y&&!y.done&&(a=m.return)&&a.call(m)}finally{if(o)throw o.error}}f=r.getNextSet(f)}while("*"!==h);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var H,w=0;try{for(var E=M1(c),x=E.next();!x.done;x=E.next())w+=x.value}catch(We){s={error:We}}finally{try{x&&!x.done&&(u=E.return)&&u.call(E)}finally{if(s)throw s.error}}if(f!==d&&2*(f-p-w)<w)throw new A;if(this.usingCheckDigit){for(var O=this.decodeRowResult.length-1,R=0,j=0;j<O;j++)R+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(j));if(this.decodeRowResult.charAt(O)!==e.ALPHABET_STRING.charAt(R%43))throw new tt;this.decodeRowResult=this.decodeRowResult.substring(0,O)}if(0===this.decodeRowResult.length)throw new A;H=this.extendedMode?e.decodeExtended(this.decodeRowResult):this.decodeRowResult;var de=p+w/2;return new Mt(H,null,0,[new L((l[1]+l[0])/2,n),new L(de,n)],B.CODE_39,(new Date).getTime())},e.findAsteriskPattern=function(n,r){for(var i=n.getSize(),o=n.getNextSet(0),a=0,s=o,u=!1,c=r.length,l=o;l<i;l++)if(n.get(l)!==u)r[a]++;else{if(a===c-1){if(this.toNarrowWidePattern(r)===e.ASTERISK_ENCODING&&n.isRange(Math.max(0,s-Math.floor((l-s)/2)),s,!1))return[s,l];s+=r[0]+r[1],r.copyWithin(0,2,2+a-1),r[a-1]=0,r[a]=0,a--}else a++;r[a]=1,u=!u}throw new A},e.toNarrowWidePattern=function(n){var r,i,s,o=n.length,a=0;do{var u=2147483647;try{for(var c=(r=void 0,M1(n)),l=c.next();!l.done;l=c.next())(f=l.value)<u&&f>a&&(u=f)}catch(g){r={error:g}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}a=u,s=0;for(var d=0,h=0,p=0;p<o;p++)(f=n[p])>a&&(h|=1<<o-1-p,s++,d+=f);if(3===s){for(p=0;p<o&&s>0;p++){var f;if((f=n[p])>a&&(s--,2*f>=d))return-1}return h}}while(s>3);return-1},e.patternToChar=function(n){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===n)return e.ALPHABET_STRING.charAt(r);if(n===e.ASTERISK_ENCODING)return"*";throw new A},e.decodeExtended=function(n){for(var r=n.length,i="",o=0;o<r;o++){var a=n.charAt(o);if("+"===a||"$"===a||"%"===a||"/"===a){var s=n.charAt(o+1),u="\0";switch(a){case"+":if(!(s>="A"&&s<="Z"))throw new M;u=String.fromCharCode(s.charCodeAt(0)+32);break;case"$":if(!(s>="A"&&s<="Z"))throw new M;u=String.fromCharCode(s.charCodeAt(0)-64);break;case"%":if(s>="A"&&s<="E")u=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")u=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")u=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")u=String.fromCharCode(s.charCodeAt(0)+43);else if("U"===s)u="\0";else if("V"===s)u="@";else if("W"===s)u="`";else{if("X"!==s&&"Y"!==s&&"Z"!==s)throw new M;u="\x7f"}break;case"/":if(s>="A"&&s<="O")u=String.fromCharCode(s.charCodeAt(0)-32);else{if("Z"!==s)throw new M;u=":"}}i+=u,o++}else i+=a}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(ct);const BA=h$;var p$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),T1=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},g$=function(t){function e(){var n=t.call(this)||this;return n.decodeRowResult="",n.counters=new Int32Array(6),n}return p$(e,t),e.prototype.decodeRow=function(n,r,i){var o,a,s,u,h,p,c=this.findAsteriskPattern(r),l=r.getNextSet(c[1]),f=r.getSize(),d=this.counters;d.fill(0),this.decodeRowResult="";do{e.recordPattern(r,l,d);var g=this.toPattern(d);if(g<0)throw new A;h=this.patternToChar(g),this.decodeRowResult+=h,p=l;try{for(var m=(o=void 0,T1(d)),y=m.next();!y.done;y=m.next())l+=y.value}catch(j){o={error:j}}finally{try{y&&!y.done&&(a=m.return)&&a.call(m)}finally{if(o)throw o.error}}l=r.getNextSet(l)}while("*"!==h);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var w=0;try{for(var E=T1(d),x=E.next();!x.done;x=E.next())w+=x.value}catch(j){s={error:j}}finally{try{x&&!x.done&&(u=E.return)&&u.call(E)}finally{if(s)throw s.error}}if(l===f||!r.get(l))throw new A;if(this.decodeRowResult.length<2)throw new A;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var D=this.decodeExtended(this.decodeRowResult),R=p+w/2;return new Mt(D,null,0,[new L((c[1]+c[0])/2,n),new L(R,n)],B.CODE_93,(new Date).getTime())},e.prototype.findAsteriskPattern=function(n){var r=n.getSize(),i=n.getNextSet(0);this.counters.fill(0);for(var o=this.counters,a=i,s=!1,u=o.length,c=0,l=i;l<r;l++)if(n.get(l)!==s)o[c]++;else{if(c===u-1){if(this.toPattern(o)===e.ASTERISK_ENCODING)return new Int32Array([a,l]);a+=o[0]+o[1],o.copyWithin(0,2,2+c-1),o[c-1]=0,o[c]=0,c--}else c++;o[c]=1,s=!s}throw new A},e.prototype.toPattern=function(n){var r,i,o=0;try{for(var a=T1(n),s=a.next();!s.done;s=a.next())o+=s.value}catch(p){r={error:p}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}for(var c=0,l=n.length,f=0;f<l;f++){var d=Math.round(9*n[f]/o);if(d<1||d>4)return-1;if(1&f)c<<=d;else for(var h=0;h<d;h++)c=c<<1|1}return c},e.prototype.patternToChar=function(n){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===n)return e.ALPHABET_STRING.charAt(r);throw new A},e.prototype.decodeExtended=function(n){for(var r=n.length,i="",o=0;o<r;o++){var a=n.charAt(o);if(a>="a"&&a<="d"){if(o>=r-1)throw new M;var s=n.charAt(o+1),u="\0";switch(a){case"d":if(!(s>="A"&&s<="Z"))throw new M;u=String.fromCharCode(s.charCodeAt(0)+32);break;case"a":if(!(s>="A"&&s<="Z"))throw new M;u=String.fromCharCode(s.charCodeAt(0)-64);break;case"b":if(s>="A"&&s<="E")u=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")u=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")u=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")u=String.fromCharCode(s.charCodeAt(0)+43);else if("U"===s)u="\0";else if("V"===s)u="@";else if("W"===s)u="`";else{if(!(s>="X"&&s<="Z"))throw new M;u=String.fromCharCode(127)}break;case"c":if(s>="A"&&s<="O")u=String.fromCharCode(s.charCodeAt(0)-32);else{if("Z"!==s)throw new M;u=":"}}i+=u,o++}else i+=a}return i},e.prototype.checkChecksums=function(n){var r=n.length;this.checkOneChecksum(n,r-2,20),this.checkOneChecksum(n,r-1,15)},e.prototype.checkOneChecksum=function(n,r,i){for(var o=1,a=0,s=r-1;s>=0;s--)a+=o*e.ALPHABET_STRING.indexOf(n.charAt(s)),++o>i&&(o=1);if(n.charAt(r)!==e.ALPHABET_STRING[a%47])throw new tt},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.ASTERISK_ENCODING=(e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350])[47],e}(ct);const VA=g$;var v$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),y$=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.narrowLineWidth=-1,n}return v$(e,t),e.prototype.decodeRow=function(n,r,i){var o,a,s=this.decodeStart(r),u=this.decodeEnd(r),c=new ee;e.decodeMiddle(r,s[1],u[0],c);var l=c.toString(),f=null;null!=i&&(f=i.get(me.ALLOWED_LENGTHS)),null==f&&(f=e.DEFAULT_ALLOWED_LENGTHS);var d=l.length,h=!1,p=0;try{for(var g=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(f),m=g.next();!m.done;m=g.next()){var y=m.value;if(d===y){h=!0;break}y>p&&(p=y)}}catch(E){o={error:E}}finally{try{m&&!m.done&&(a=g.return)&&a.call(g)}finally{if(o)throw o.error}}if(!h&&d>p&&(h=!0),!h)throw new M;var v=[new L(s[1],n),new L(u[0],n)];return new Mt(l,null,0,v,B.ITF,(new Date).getTime())},e.decodeMiddle=function(n,r,i,o){var a=new Int32Array(10),s=new Int32Array(5),u=new Int32Array(5);for(a.fill(0),s.fill(0),u.fill(0);r<i;){ct.recordPattern(n,r,a);for(var c=0;c<5;c++){var l=2*c;s[c]=a[l],u[c]=a[l+1]}var f=e.decodeDigit(s);o.append(f.toString()),f=this.decodeDigit(u),o.append(f.toString()),a.forEach(function(d){r+=d})}},e.prototype.decodeStart=function(n){var r=e.skipWhiteSpace(n),i=e.findGuardPattern(n,r,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(n,i[0]),i},e.prototype.validateQuietZone=function(n,r){var i=10*this.narrowLineWidth;i=i<r?i:r;for(var o=r-1;i>0&&o>=0&&!n.get(o);o--)i--;if(0!==i)throw new A},e.skipWhiteSpace=function(n){var r=n.getSize(),i=n.getNextSet(0);if(i===r)throw new A;return i},e.prototype.decodeEnd=function(n){n.reverse();try{var r=e.skipWhiteSpace(n),i=void 0;try{i=e.findGuardPattern(n,r,e.END_PATTERN_REVERSED[0])}catch(a){a instanceof A&&(i=e.findGuardPattern(n,r,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,i[0]);var o=i[0];return i[0]=n.getSize()-i[1],i[1]=n.getSize()-o,i}finally{n.reverse()}},e.findGuardPattern=function(n,r,i){var o=i.length,a=new Int32Array(o),s=n.getSize(),u=!1,c=0,l=r;a.fill(0);for(var f=r;f<s;f++)if(n.get(f)!==u)a[c]++;else{if(c===o-1){if(ct.patternMatchVariance(a,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[l,f];l+=a[0]+a[1],Fe.arraycopy(a,2,a,0,c-1),a[c-1]=0,a[c]=0,c--}else c++;a[c]=1,u=!u}throw new A},e.decodeDigit=function(n){for(var r=e.MAX_AVG_VARIANCE,i=-1,o=e.PATTERNS.length,a=0;a<o;a++){var u=ct.patternMatchVariance(n,e.PATTERNS[a],e.MAX_INDIVIDUAL_VARIANCE);u<r?(r=u,i=a):u===r&&(i=-1)}if(i>=0)return i%10;throw new A},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(ct);const UA=y$;var _$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),w$=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.decodeRowStringBuffer="",n}return _$(e,t),e.findStartGuardPattern=function(n){for(var i,r=!1,o=0,a=Int32Array.from([0,0,0]);!r;){a=Int32Array.from([0,0,0]);var s=(i=e.findGuardPattern(n,o,!1,this.START_END_PATTERN,a))[0],u=s-((o=i[1])-s);u>=0&&(r=n.isRange(u,s,!1))}return i},e.checkChecksum=function(n){return e.checkStandardUPCEANChecksum(n)},e.checkStandardUPCEANChecksum=function(n){var r=n.length;if(0===r)return!1;var i=parseInt(n.charAt(r-1),10);return e.getStandardUPCEANChecksum(n.substring(0,r-1))===i},e.getStandardUPCEANChecksum=function(n){for(var r=n.length,i=0,o=r-1;o>=0;o-=2){if((a=n.charAt(o).charCodeAt(0)-"0".charCodeAt(0))<0||a>9)throw new M;i+=a}for(i*=3,o=r-2;o>=0;o-=2){var a;if((a=n.charAt(o).charCodeAt(0)-"0".charCodeAt(0))<0||a>9)throw new M;i+=a}return(1e3-i)%10},e.decodeEnd=function(n,r){return e.findGuardPattern(n,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(n,r,i,o){return this.findGuardPattern(n,r,i,o,new Int32Array(o.length))},e.findGuardPattern=function(n,r,i,o,a){for(var s=n.getSize(),u=0,c=r=i?n.getNextUnset(r):n.getNextSet(r),l=o.length,f=i,d=r;d<s;d++)if(n.get(d)!==f)a[u]++;else{if(u===l-1){if(ct.patternMatchVariance(a,o,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([c,d]);c+=a[0]+a[1];for(var h=a.slice(2,a.length),p=0;p<u-1;p++)a[p]=h[p];a[u-1]=0,a[u]=0,u--}else u++;a[u]=1,f=!f}throw new A},e.decodeDigit=function(n,r,i,o){this.recordPattern(n,i,r);for(var a=this.MAX_AVG_VARIANCE,s=-1,u=o.length,c=0;c<u;c++){var f=ct.patternMatchVariance(r,o[c],e.MAX_INDIVIDUAL_VARIANCE);f<a&&(a=f,s=c)}if(s>=0)return s;throw new A},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(ct);const ya=w$;var E$=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},C$=function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,n,r){var i=this.decodeRowStringBuffer,o=this.decodeMiddle(n,r,i),a=i.toString(),s=t.parseExtensionString(a),u=[new L((r[0]+r[1])/2,e),new L(o,e)],c=new Mt(a,null,0,u,B.UPC_EAN_EXTENSION,(new Date).getTime());return null!=s&&c.putAllMetadata(s),c},t.prototype.decodeMiddle=function(e,n,r){var i,o,a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var s=e.getSize(),u=n[1],c=0,l=0;l<5&&u<s;l++){var f=ya.decodeDigit(e,a,u,ya.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+f%10);try{for(var d=(i=void 0,E$(a)),h=d.next();!h.done;h=d.next())u+=h.value}catch(m){i={error:m}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}f>=10&&(c|=1<<4-l),4!==l&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(5!==r.length)throw new A;var g=this.determineCheckDigit(c);if(t.extensionChecksum(r.toString())!==g)throw new A;return u},t.extensionChecksum=function(e){for(var n=e.length,r=0,i=n-2;i>=0;i-=2)r+=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);for(r*=3,i=n-1;i>=0;i-=2)r+=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);return(r*=3)%10},t.prototype.determineCheckDigit=function(e){for(var n=0;n<10;n++)if(e===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new A},t.parseExtensionString=function(e){if(5!==e.length)return null;var n=t.parseExtension5String(e);return null==n?null:new Map([[xt.SUGGESTED_PRICE,n]])},t.parseExtension5String=function(e){var n;switch(e.charAt(0)){case"0":n="\xa3";break;case"5":n="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n=""}var r=parseInt(e.substring(1)),o=r%100;return n+(r/100).toString()+"."+(o<10?"0"+o:o.toString())},t}();const x$=C$;var A$=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},D$=function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,n,r){var i=this.decodeRowStringBuffer,o=this.decodeMiddle(n,r,i),a=i.toString(),s=t.parseExtensionString(a),u=[new L((r[0]+r[1])/2,e),new L(o,e)],c=new Mt(a,null,0,u,B.UPC_EAN_EXTENSION,(new Date).getTime());return null!=s&&c.putAllMetadata(s),c},t.prototype.decodeMiddle=function(e,n,r){var i,o,a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var s=e.getSize(),u=n[1],c=0,l=0;l<2&&u<s;l++){var f=ya.decodeDigit(e,a,u,ya.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+f%10);try{for(var d=(i=void 0,A$(a)),h=d.next();!h.done;h=d.next())u+=h.value}catch(g){i={error:g}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}f>=10&&(c|=1<<1-l),1!==l&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(2!==r.length)throw new A;if(parseInt(r.toString())%4!==c)throw new A;return u},t.parseExtensionString=function(e){return 2!==e.length?null:new Map([[xt.ISSUE_NUMBER,parseInt(e)]])},t}();const S$=D$;var I$=function(){function t(){}return t.decodeRow=function(e,n,r){var i=ya.findGuardPattern(n,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return(new x$).decodeRow(e,n,i)}catch{return(new S$).decodeRow(e,n,i)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t}();const b$=I$;var O$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),M$=function(t){function e(){var n=t.call(this)||this;n.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(s){return Int32Array.from(s)});for(var r=10;r<20;r++){for(var i=e.L_PATTERNS[r-10],o=new Int32Array(i.length),a=0;a<i.length;a++)o[a]=i[i.length-a-1];e.L_AND_G_PATTERNS[r]=o}return n}return O$(e,t),e.prototype.decodeRow=function(n,r,i){var o=e.findStartGuardPattern(r),a=null==i?null:i.get(me.NEED_RESULT_POINT_CALLBACK);if(null!=a){var s=new L((o[0]+o[1])/2,n);a.foundPossibleResultPoint(s)}var u=this.decodeMiddle(r,o,this.decodeRowStringBuffer),c=u.rowOffset,l=u.resultString;if(null!=a){var f=new L(c,n);a.foundPossibleResultPoint(f)}var d=e.decodeEnd(r,c);if(null!=a){var h=new L((d[0]+d[1])/2,n);a.foundPossibleResultPoint(h)}var p=d[1],g=p+(p-d[0]);if(g>=r.getSize()||!r.isRange(p,g,!1))throw new A;var m=l.toString();if(m.length<8)throw new M;if(!e.checkChecksum(m))throw new tt;var y=(o[1]+o[0])/2,v=(d[1]+d[0])/2,w=this.getBarcodeFormat(),E=[new L(y,n),new L(v,n)],x=new Mt(m,null,0,E,w,(new Date).getTime()),D=0;try{var O=b$.decodeRow(n,r,d[1]);x.putMetadata(xt.UPC_EAN_EXTENSION,O.getText()),x.putAllMetadata(O.getResultMetadata()),x.addResultPoints(O.getResultPoints()),D=O.getText().length}catch{}var R=null==i?null:i.get(me.ALLOWED_EAN_EXTENSIONS);if(null!=R){var j=!1;for(var H in R)if(D.toString()===H){j=!0;break}if(!j)throw new A}return x},e.checkChecksum=function(n){return e.checkStandardUPCEANChecksum(n)},e.checkStandardUPCEANChecksum=function(n){var r=n.length;if(0===r)return!1;var i=parseInt(n.charAt(r-1),10);return e.getStandardUPCEANChecksum(n.substring(0,r-1))===i},e.getStandardUPCEANChecksum=function(n){for(var r=n.length,i=0,o=r-1;o>=0;o-=2){if((a=n.charAt(o).charCodeAt(0)-"0".charCodeAt(0))<0||a>9)throw new M;i+=a}for(i*=3,o=r-2;o>=0;o-=2){var a;if((a=n.charAt(o).charCodeAt(0)-"0".charCodeAt(0))<0||a>9)throw new M;i+=a}return(1e3-i)%10},e.decodeEnd=function(n,r){return e.findGuardPattern(n,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(ya);const lt=M$;var T$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),HA=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},R$=function(t){function e(){var n=t.call(this)||this;return n.decodeMiddleCounters=Int32Array.from([0,0,0,0]),n}return T$(e,t),e.prototype.decodeMiddle=function(n,r,i){var o,a,s,u,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var l=n.getSize(),f=r[1],d=0,h=0;h<6&&f<l;h++){var p=lt.decodeDigit(n,c,f,lt.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+p%10);try{for(var g=(o=void 0,HA(c)),m=g.next();!m.done;m=g.next())f+=m.value}catch(x){o={error:x}}finally{try{m&&!m.done&&(a=g.return)&&a.call(g)}finally{if(o)throw o.error}}p>=10&&(d|=1<<5-h)}for(i=e.determineFirstDigit(i,d),f=lt.findGuardPattern(n,f,!0,lt.MIDDLE_PATTERN,new Int32Array(lt.MIDDLE_PATTERN.length).fill(0))[1],h=0;h<6&&f<l;h++){p=lt.decodeDigit(n,c,f,lt.L_PATTERNS),i+=String.fromCharCode("0".charCodeAt(0)+p);try{for(var w=(s=void 0,HA(c)),E=w.next();!E.done;E=w.next())f+=E.value}catch(O){s={error:O}}finally{try{E&&!E.done&&(u=w.return)&&u.call(w)}finally{if(s)throw s.error}}}return{rowOffset:f,resultString:i}},e.prototype.getBarcodeFormat=function(){return B.EAN_13},e.determineFirstDigit=function(n,r){for(var i=0;i<10;i++)if(r===this.FIRST_DIGIT_ENCODINGS[i])return String.fromCharCode("0".charCodeAt(0)+i)+n;throw new A},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(lt);const R1=R$;var N$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jA=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},P$=function(t){function e(){var n=t.call(this)||this;return n.decodeMiddleCounters=Int32Array.from([0,0,0,0]),n}return N$(e,t),e.prototype.decodeMiddle=function(n,r,i){var o,a,s,u,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var l=n.getSize(),f=r[1],d=0;d<4&&f<l;d++){var h=lt.decodeDigit(n,c,f,lt.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+h);try{for(var p=(o=void 0,jA(c)),g=p.next();!g.done;g=p.next())f+=g.value}catch(E){o={error:E}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}}for(f=lt.findGuardPattern(n,f,!0,lt.MIDDLE_PATTERN,new Int32Array(lt.MIDDLE_PATTERN.length).fill(0))[1],d=0;d<4&&f<l;d++){h=lt.decodeDigit(n,c,f,lt.L_PATTERNS),i+=String.fromCharCode("0".charCodeAt(0)+h);try{for(var v=(s=void 0,jA(c)),w=v.next();!w.done;w=v.next())f+=w.value}catch(D){s={error:D}}finally{try{w&&!w.done&&(u=v.return)&&u.call(v)}finally{if(s)throw s.error}}}return{rowOffset:f,resultString:i}},e.prototype.getBarcodeFormat=function(){return B.EAN_8},e}(lt);const $A=P$;var F$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),L$=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.ean13Reader=new R1,n}return F$(e,t),e.prototype.getBarcodeFormat=function(){return B.UPC_A},e.prototype.decode=function(n,r){return this.maybeReturnResult(this.ean13Reader.decode(n))},e.prototype.decodeRow=function(n,r,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,r,i))},e.prototype.decodeMiddle=function(n,r,i){return this.ean13Reader.decodeMiddle(n,r,i)},e.prototype.maybeReturnResult=function(n){var r=n.getText();if("0"===r.charAt(0)){var i=new Mt(r.substring(1),null,null,n.getResultPoints(),B.UPC_A);return null!=n.getResultMetadata()&&i.putAllMetadata(n.getResultMetadata()),i}throw new A},e.prototype.reset=function(){this.ean13Reader.reset()},e}(lt);const GA=L$;var k$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),B$=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},V$=function(t){function e(){var n=t.call(this)||this;return n.decodeMiddleCounters=new Int32Array(4),n}return k$(e,t),e.prototype.decodeMiddle=function(n,r,i){var o,a,s=this.decodeMiddleCounters.map(function(m){return m});s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var u=n.getSize(),c=r[1],l=0,f=0;f<6&&c<u;f++){var d=e.decodeDigit(n,s,c,e.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+d%10);try{for(var h=(o=void 0,B$(s)),p=h.next();!p.done;p=h.next())c+=p.value}catch(m){o={error:m}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(o)throw o.error}}d>=10&&(l|=1<<5-f)}return e.determineNumSysAndCheckDigit(new ee(i),l),c},e.prototype.decodeEnd=function(n,r){return e.findGuardPatternWithoutCounters(n,r,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(n){return lt.checkChecksum(e.convertUPCEtoUPCA(n))},e.determineNumSysAndCheckDigit=function(n,r){for(var i=0;i<=1;i++)for(var o=0;o<10;o++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][o])return n.insert(0,"0"+i),void n.append("0"+o);throw A.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return B.UPC_E},e.convertUPCEtoUPCA=function(n){var r=n.slice(1,7).split("").map(function(a){return a.charCodeAt(0)}),i=new ee;i.append(n.charAt(0));var o=r[5];switch(o){case 0:case 1:case 2:i.appendChars(r,0,2),i.append(o),i.append("0000"),i.appendChars(r,2,3);break;case 3:i.appendChars(r,0,3),i.append("00000"),i.appendChars(r,3,2);break;case 4:i.appendChars(r,0,4),i.append("00000"),i.append(r[4]);break;default:i.appendChars(r,0,5),i.append("0000"),i.append(o)}return n.length>=8&&i.append(n.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(lt);const zA=V$;var U$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),WA=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},H$=function(t){function e(n){var r=t.call(this)||this,i=null==n?null:n.get(me.POSSIBLE_FORMATS),o=[];return null!=i&&(i.indexOf(B.EAN_13)>-1&&o.push(new R1),i.indexOf(B.UPC_A)>-1&&o.push(new GA),i.indexOf(B.EAN_8)>-1&&o.push(new $A),i.indexOf(B.UPC_E)>-1&&o.push(new zA)),0===o.length&&(o.push(new R1),o.push(new GA),o.push(new $A),o.push(new zA)),r.readers=o,r}return U$(e,t),e.prototype.decodeRow=function(n,r,i){var o,a;try{for(var s=WA(this.readers),u=s.next();!u.done;u=s.next()){var c=u.value;try{var l=c.decodeRow(n,r,i),f=l.getBarcodeFormat()===B.EAN_13&&"0"===l.getText().charAt(0),d=null==i?null:i.get(me.POSSIBLE_FORMATS),h=null==d||d.includes(B.UPC_A);if(f&&h){var p=l.getRawBytes(),g=new Mt(l.getText().substring(1),p,p?p.length:null,l.getResultPoints(),B.UPC_A);return g.putAllMetadata(l.getResultMetadata()),g}return l}catch{}}}catch(m){o={error:m}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}throw new A},e.prototype.reset=function(){var n,r;try{for(var i=WA(this.readers),o=i.next();!o.done;o=i.next())o.value.reset()}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e}(ct);const N1=H$;var j$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$$=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},n}return j$(e,t),e.prototype.decodeRow=function(n,r,i){var o=this.getValidRowData(r);if(!o)throw new A;var a=this.codaBarDecodeRow(o.row);if(!a)throw new A;return new Mt(a,null,0,[new L(o.left,n),new L(o.right,n)],B.CODABAR,(new Date).getTime())},e.prototype.getValidRowData=function(n){var r=n.toArray(),i=r.indexOf(!0);if(-1===i)return null;var o=r.lastIndexOf(!0);if(o<=i)return null;for(var a=[],s=(r=r.slice(i,o+1))[0],u=1,c=1;c<r.length;c++)r[c]===s?u++:(s=r[c],a.push(u),u=1);return a.push(u),a.length<23&&(a.length+1)%8!=0?null:{row:a,left:i,right:o}},e.prototype.codaBarDecodeRow=function(n){for(var r=[],i=Math.ceil(n.reduce(function(u,c){return(u+c)/2},0));n.length>0;){var a=n.splice(0,8).splice(0,7).map(function(u){return u<i?"n":"w"}).join("");if(void 0===this.CODA_BAR_CHAR_SET[a])return null;r.push(this.CODA_BAR_CHAR_SET[a])}var s=r.join("");return this.validCodaBarString(s)?s:null},e.prototype.validCodaBarString=function(n){return/^[A-D].{1,}[A-D]$/.test(n)},e}(ct);const G$=$$;var z$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),X$=function(t){function e(){var n=t.call(this)||this;return n.decodeFinderCounters=new Int32Array(4),n.dataCharacterCounters=new Int32Array(8),n.oddRoundingErrors=new Array(4),n.evenRoundingErrors=new Array(4),n.oddCounts=new Array(n.dataCharacterCounters.length/2),n.evenCounts=new Array(n.dataCharacterCounters.length/2),n}return z$(e,t),e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(n,r){for(var i=0;i<r.length;i++)if(ct.patternMatchVariance(n,r[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new A},e.count=function(n){return pe.sum(new Int32Array(n))},e.increment=function(n,r){for(var i=0,o=r[0],a=1;a<n.length;a++)r[a]>o&&(o=r[a],i=a);n[i]++},e.decrement=function(n,r){for(var i=0,o=r[0],a=1;a<n.length;a++)r[a]<o&&(o=r[a],i=a);n[i]--},e.isFinderPattern=function(n){var r,i,o=n[0]+n[1],s=o/(o+n[2]+n[3]);if(s>=e.MIN_FINDER_PATTERN_RATIO&&s<=e.MAX_FINDER_PATTERN_RATIO){var u=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;try{for(var l=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),f=l.next();!f.done;f=l.next()){var d=f.value;d>c&&(c=d),d<u&&(u=d)}}catch(h){r={error:h}}finally{try{f&&!f.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}return c<10*u}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(ct);const Wi=X$;var q$=function(){function t(e,n){this.value=e,this.checksumPortion=n}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){return e instanceof t&&(this.value===e.value&&this.checksumPortion===e.checksumPortion)},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t}();const ef=q$;var Z$=function(){function t(e,n,r,i,o){this.value=e,this.startEnd=n,this.value=e,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new L(r,o)),this.resultPoints.push(new L(i,o))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){return e instanceof t&&this.value===e.value},t.prototype.hashCode=function(){return this.value},t}();const XA=Z$;var K$=function(){function t(){}return t.getRSSvalue=function(e,n,r){var i,o,a=0;try{for(var s=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),u=s.next();!u.done;u=s.next())a+=u.value}catch(v){i={error:v}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}for(var l=0,f=0,d=e.length,h=0;h<d-1;h++){var p=void 0;for(p=1,f|=1<<h;p<e[h];p++,f&=~(1<<h)){var g=t.combins(a-p-1,d-h-2);if(r&&0===f&&a-p-(d-h-1)>=d-h-1&&(g-=t.combins(a-p-(d-h),d-h-2)),d-h-1>1){for(var m=0,y=a-p-(d-h-2);y>n;y--)m+=t.combins(a-p-y-1,d-h-3);g-=m*(d-1-h)}else a-p>n&&g--;l+=g}a-=p}return l},t.combins=function(e,n){var r,i;e-n>n?(i=n,r=e-n):(i=e-n,r=n);for(var o=1,a=1,s=e;s>r;s--)o*=s,a<=i&&(o/=a,a++);for(;a<=i;)o/=a,a++;return o},t}();const _a=K$;var Q$=function(){function t(){}return t.buildBitArray=function(e){var n=2*e.length-1;null==e[e.length-1].getRightChar()&&(n-=1);for(var i=new ht(12*n),o=0,s=e[0].getRightChar().getValue(),u=11;u>=0;--u)s&1<<u&&i.set(o),o++;for(u=1;u<e.length;++u){for(var c=e[u],l=c.getLeftChar().getValue(),f=11;f>=0;--f)l&1<<f&&i.set(o),o++;if(null!==c.getRightChar()){var d=c.getRightChar().getValue();for(f=11;f>=0;--f)d&1<<f&&i.set(o),o++}}return i},t}();const J$=Q$;var eG=function(){function t(e,n){n?this.decodedInformation=null:(this.finished=e,this.decodedInformation=n)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t}();const Xi=eG;var tG=function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t}();const P1=tG;var nG=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rG=function(t){function e(n,r){var i=t.call(this,n)||this;return i.value=r,i}return nG(e,t),e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(P1);const nr=rG;var iG=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),oG=function(t){function e(n,r,i){var o=t.call(this,n)||this;return i?(o.remaining=!0,o.remainingValue=o.remainingValue):(o.remaining=!1,o.remainingValue=0),o.newString=r,o}return iG(e,t),e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(P1);const qi=oG;var aG=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sG=function(t){function e(n,r,i){var o=t.call(this,n)||this;if(r<0||r>10||i<0||i>10)throw new M;return o.firstDigit=r,o.secondDigit=i,o}return aG(e,t),e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return 10*this.firstDigit+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(P1);const wa=sG;var tf=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},uG=function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var n,r,i,o,a,s,u,c;if(!e)return null;if(e.length<2)throw new A;var l=e.substring(0,2);try{for(var f=tf(t.TWO_DIGIT_DATA_LENGTH),d=f.next();!d.done;d=f.next())if((h=d.value)[0]===l)return h[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,h[2],e):t.processFixedAI(2,h[1],e)}catch(D){n={error:D}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}if(e.length<3)throw new A;var p=e.substring(0,3);try{for(var g=tf(t.THREE_DIGIT_DATA_LENGTH),m=g.next();!m.done;m=g.next())if((h=m.value)[0]===p)return h[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,h[2],e):t.processFixedAI(3,h[1],e)}catch(D){i={error:D}}finally{try{m&&!m.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}try{for(var y=tf(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),v=y.next();!v.done;v=y.next())if((h=v.value)[0]===p)return h[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,h[2],e):t.processFixedAI(4,h[1],e)}catch(D){a={error:D}}finally{try{v&&!v.done&&(s=y.return)&&s.call(y)}finally{if(a)throw a.error}}if(e.length<4)throw new A;var w=e.substring(0,4);try{for(var E=tf(t.FOUR_DIGIT_DATA_LENGTH),x=E.next();!x.done;x=E.next()){var h;if((h=x.value)[0]===w)return h[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,h[2],e):t.processFixedAI(4,h[1],e)}}catch(D){u={error:D}}finally{try{x&&!x.done&&(c=E.return)&&c.call(E)}finally{if(u)throw u.error}}throw new A},t.processFixedAI=function(e,n,r){if(r.length<e)throw new A;var i=r.substring(0,e);if(r.length<e+n)throw new A;var o=r.substring(e,e+n),a=r.substring(e+n),s="("+i+")"+o,u=t.parseFieldsInGeneralPurpose(a);return null==u?s:s+u},t.processVariableAI=function(e,n,r){var o,i=r.substring(0,e),a=r.substring(e,o=r.length<e+n?r.length:e+n),s=r.substring(o),u="("+i+")"+a,c=t.parseFieldsInGeneralPurpose(s);return null==c?u:u+c},t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH=[],20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t}();const cG=uG;var lG=function(){function t(e){this.buffer=new ee,this.information=e}return t.prototype.decodeAllCodes=function(e,n){for(var r=n,i=null;;){var o=this.decodeGeneralPurposeField(r,i),a=cG.parseFieldsInGeneralPurpose(o.getNewString());if(null!=a&&e.append(a),i=o.isRemaining()?""+o.getRemainingValue():null,r===o.getNewPosition())break;r=o.getNewPosition()}return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var n=e;n<e+3;++n)if(this.information.get(n))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var n=this.extractNumericValueFromBitArray(e,4);return new wa(this.information.getSize(),0===n?wa.FNC1:n-1,wa.FNC1)}var r=this.extractNumericValueFromBitArray(e,7);return new wa(e+7,(r-8)/11,(r-8)%11)},t.prototype.extractNumericValueFromBitArray=function(e,n){return t.extractNumericValueFromBitArray(this.information,e,n)},t.extractNumericValueFromBitArray=function(e,n,r){for(var i=0,o=0;o<r;++o)e.get(n+o)&&(i|=1<<r-o-1);return i},t.prototype.decodeGeneralPurposeField=function(e,n){this.buffer.setLengthToZero(),null!=n&&this.buffer.append(n),this.current.setPosition(e);var r=this.parseBlocks();return null!=r&&r.isRemaining()?new qi(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new qi(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,n;do{var r=this.current.getPosition();if(e=this.current.isAlpha()?(n=this.parseAlphaBlock()).isFinished():this.current.isIsoIec646()?(n=this.parseIsoIec646Block()).isFinished():(n=this.parseNumericBlock()).isFinished(),r===this.current.getPosition()&&!e)break}while(!e);return n.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var n=void 0;return n=e.isSecondDigitFNC1()?new qi(this.current.getPosition(),this.buffer.toString()):new qi(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Xi(!0,n)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1())return n=new qi(this.current.getPosition(),this.buffer.toString()),new Xi(!0,n);this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Xi(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var n=new qi(this.current.getPosition(),this.buffer.toString());return new Xi(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Xi(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var n=new qi(this.current.getPosition(),this.buffer.toString());return new Xi(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Xi(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+7>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},t.prototype.decodeIsoIec646=function(e){var n=this.extractNumericValueFromBitArray(e,5);if(15===n)return new nr(e+5,nr.FNC1);if(n>=5&&n<15)return new nr(e+5,"0"+(n-5));var o,r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new nr(e+7,""+(r+1));if(r>=90&&r<116)return new nr(e+7,""+(r+7));switch(this.extractNumericValueFromBitArray(e,8)){case 232:o="!";break;case 233:o='"';break;case 234:o="%";break;case 235:o="&";break;case 236:o="'";break;case 237:o="(";break;case 238:o=")";break;case 239:o="*";break;case 240:o="+";break;case 241:o=",";break;case 242:o="-";break;case 243:o=".";break;case 244:o="/";break;case 245:o=":";break;case 246:o=";";break;case 247:o="<";break;case 248:o="=";break;case 249:o=">";break;case 250:o="?";break;case 251:o="_";break;case 252:o=" ";break;default:throw new M}return new nr(e+8,o)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+6>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63},t.prototype.decodeAlphanumeric=function(e){var n=this.extractNumericValueFromBitArray(e,5);if(15===n)return new nr(e+5,nr.FNC1);if(n>=5&&n<15)return new nr(e+5,"0"+(n-5));var i,r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new nr(e+6,""+(r+33));switch(r){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new Cr("Decoding invalid alphanumeric value: "+r)}return new nr(e+6,i)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var n=0;n<5&&n+e<this.information.getSize();++n)if(2===n){if(!this.information.get(e+2))return!1}else if(this.information.get(e+n))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var n=e;n<e+3;++n)if(this.information.get(n))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var n=0;n<4&&n+e<this.information.getSize();++n)if(this.information.get(e+n))return!1;return!0},t}();const nf=lG;var fG=function(){function t(e){this.information=e,this.generalDecoder=new nf(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t}();const qA=fG;var dG=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hG=function(t){function e(n){return t.call(this,n)||this}return dG(e,t),e.prototype.encodeCompressedGtin=function(n,r){n.append("(01)");var i=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,r,i)},e.prototype.encodeCompressedGtinWithoutAI=function(n,r,i){for(var o=0;o<4;++o){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*o,10);a/100==0&&n.append("0"),a/10==0&&n.append("0"),n.append(a)}e.appendCheckDigit(n,i)},e.appendCheckDigit=function(n,r){for(var i=0,o=0;o<13;o++){var a=n.charAt(o+r).charCodeAt(0)-"0".charCodeAt(0);i+=1&o?a:3*a}10==(i=10-i%10)&&(i=0),n.append(i)},e.GTIN_SIZE=40,e}(qA);const rr=hG;var pG=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gG=function(t){function e(n){return t.call(this,n)||this}return pG(e,t),e.prototype.parseInformation=function(){var n=new ee;n.append("(01)");var r=n.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return n.append(i),this.encodeCompressedGtinWithoutAI(n,e.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(n,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(rr);const vG=gG;var mG=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yG=function(t){function e(n){return t.call(this,n)||this}return mG(e,t),e.prototype.parseInformation=function(){var n=new ee;return this.getGeneralDecoder().decodeAllCodes(n,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(qA);const _G=yG;var wG=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),EG=function(t){function e(n){return t.call(this,n)||this}return wG(e,t),e.prototype.encodeCompressedWeight=function(n,r,i){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(r,i);this.addWeightCode(n,o);for(var a=this.checkWeight(o),s=1e5,u=0;u<5;++u)a/s==0&&n.append("0"),s/=10;n.append(a)},e}(rr);const rf=EG;var CG=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xG=function(t){function e(n){return t.call(this,n)||this}return CG(e,t),e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+rf.GTIN_SIZE+e.WEIGHT_SIZE)throw new A;var n=new ee;return this.encodeCompressedGtin(n,e.HEADER_SIZE),this.encodeCompressedWeight(n,e.HEADER_SIZE+rf.GTIN_SIZE,e.WEIGHT_SIZE),n.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}(rf);const ZA=xG;var AG=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),DG=function(t){function e(n){return t.call(this,n)||this}return AG(e,t),e.prototype.addWeightCode=function(n,r){n.append("(3103)")},e.prototype.checkWeight=function(n){return n},e}(ZA);const SG=DG;var IG=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bG=function(t){function e(n){return t.call(this,n)||this}return IG(e,t),e.prototype.addWeightCode=function(n,r){n.append(r<1e4?"(3202)":"(3203)")},e.prototype.checkWeight=function(n){return n<1e4?n:n-1e4},e}(ZA);const OG=bG;var MG=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),TG=function(t){function e(n){return t.call(this,n)||this}return MG(e,t),e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+rr.GTIN_SIZE)throw new A;var n=new ee;this.encodeCompressedGtin(n,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+rr.GTIN_SIZE,e.LAST_DIGIT_SIZE);n.append("(392"),n.append(r),n.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+rr.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return n.append(i.getNewString()),n.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(rr);const RG=TG;var NG=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),PG=function(t){function e(n){return t.call(this,n)||this}return NG(e,t),e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+rr.GTIN_SIZE)throw new A;var n=new ee;this.encodeCompressedGtin(n,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+rr.GTIN_SIZE,e.LAST_DIGIT_SIZE);n.append("(393"),n.append(r),n.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+rr.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100==0&&n.append("0"),i/10==0&&n.append("0"),n.append(i);var o=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+rr.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return n.append(o.getNewString()),n.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(rr);const FG=PG;var LG=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kG=function(t){function e(n,r,i){var o=t.call(this,n)||this;return o.dateCode=i,o.firstAIdigits=r,o}return LG(e,t),e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new A;var n=new ee;return this.encodeCompressedGtin(n,e.HEADER_SIZE),this.encodeCompressedWeight(n,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(n,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),n.toString()},e.prototype.encodeCompressedDate=function(n,r){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(r,e.DATE_SIZE);if(38400!==i){n.append("("),n.append(this.dateCode),n.append(")");var o=i%32,a=(i/=32)%12+1,s=i/=12;s/10==0&&n.append("0"),n.append(s),a/10==0&&n.append("0"),n.append(a),o/10==0&&n.append("0"),n.append(o)}},e.prototype.addWeightCode=function(n,r){n.append("("),n.append(this.firstAIdigits),n.append(r/1e5),n.append(")")},e.prototype.checkWeight=function(n){return n%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(rf);const di=kG;var VG=function(){function t(e,n,r,i){this.leftchar=e,this.rightchar=n,this.finderpattern=r,this.maybeLast=i}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return null==this.rightchar},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(null==this.finderpattern?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,n){return e instanceof t&&t.equalsOrNull(e.leftchar,n.leftchar)&&t.equalsOrNull(e.rightchar,n.rightchar)&&t.equalsOrNull(e.finderpattern,n.finderpattern)},t.equalsOrNull=function(e,n){return null===e?null===n:t.equals(e,n)},t.prototype.hashCode=function(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()},t}();const YA=VG;var UG=function(){function t(e,n,r){this.pairs=e,this.rowNumber=n,this.wasReversed=r}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,n){return e instanceof t&&this.checkEqualitity(e,n)&&e.wasReversed===n.wasReversed},t.prototype.checkEqualitity=function(e,n){var r;if(e&&n)return e.forEach(function(i,o){n.forEach(function(a){i.getLeftChar().getValue()===a.getLeftChar().getValue()&&i.getRightChar().getValue()===a.getRightChar().getValue()&&i.getFinderPatter().getValue()===a.getFinderPatter().getValue()&&(r=!0)})}),r},t}();const HG=UG;var jG=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hi=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$G=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.pairs=new Array(e.MAX_PAIRS),n.rows=new Array,n.startEnd=[2],n}return jG(e,t),e.prototype.decodeRow=function(n,r,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(n,r))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(n,r))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(n,r){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,n))}catch(s){if(s instanceof A){if(!this.pairs.length)throw new A;i=!0}}if(this.checkChecksum())return this.pairs;var o;if(o=!!this.rows.length,this.storeRow(n,!1),o){var a=this.checkRowsBoolean(!1);if(null!=a||null!=(a=this.checkRowsBoolean(!0)))return a}throw new A},e.prototype.checkRowsBoolean=function(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());var r=null;try{r=this.checkRows(new Array,0)}catch(i){console.log(i)}return n&&(this.rows=this.rows.reverse()),r},e.prototype.checkRows=function(n,r){for(var i,o,a=r;a<this.rows.length;a++){var s=this.rows[a];this.pairs.length=0;try{for(var u=(i=void 0,hi(n)),c=u.next();!c.done;c=u.next())this.pairs.push(c.value.getPairs())}catch(d){i={error:d}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}if(this.pairs.push(s.getPairs()),e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var f=new Array(n);f.push(s);try{return this.checkRows(f,a+1)}catch(d){console.log(d)}}}throw new A},e.isValidSequence=function(n){var r,i;try{for(var o=hi(e.FINDER_PATTERN_SEQUENCES),a=o.next();!a.done;a=o.next()){var s=a.value;if(!(n.length>s.length)){for(var u=!0,c=0;c<n.length;c++)if(n[c].getFinderPattern().getValue()!==s[c]){u=!1;break}if(u)return!0}}}catch(l){r={error:l}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return!1},e.prototype.storeRow=function(n,r){for(var i=0,o=!1,a=!1;i<this.rows.length;){var s=this.rows[i];if(s.getRowNumber()>n){a=s.isEquivalent(this.pairs);break}o=s.isEquivalent(this.pairs),i++}a||o||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new HG(this.pairs,n,r)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(n,r){var i,o,a,s,u,c;try{for(var l=hi(r),f=l.next();!f.done;f=l.next()){var d=f.value;if(d.getPairs().length!==n.length)try{for(var p=(a=void 0,hi(d.getPairs())),g=p.next();!g.done;g=p.next()){var m=g.value;try{for(var v=(u=void 0,hi(n)),w=v.next();!w.done;w=v.next())if(YA.equals(m,w.value)){!0;break}}catch(x){u={error:x}}finally{try{w&&!w.done&&(c=v.return)&&c.call(v)}finally{if(u)throw u.error}}}}catch(x){a={error:x}}finally{try{g&&!g.done&&(s=p.return)&&s.call(p)}finally{if(a)throw a.error}}}}catch(x){i={error:x}}finally{try{f&&!f.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}},e.isPartialRow=function(n,r){var i,o,a,s,u,c;try{for(var l=hi(r),f=l.next();!f.done;f=l.next()){var d=f.value,h=!0;try{for(var p=(a=void 0,hi(n)),g=p.next();!g.done;g=p.next()){var m=g.value,y=!1;try{for(var v=(u=void 0,hi(d.getPairs())),w=v.next();!w.done;w=v.next())if(m.equals(w.value)){y=!0;break}}catch(x){u={error:x}}finally{try{w&&!w.done&&(c=v.return)&&c.call(v)}finally{if(u)throw u.error}}if(!y){h=!1;break}}}catch(x){a={error:x}}finally{try{g&&!g.done&&(s=p.return)&&s.call(p)}finally{if(a)throw a.error}}if(h)return!0}}catch(x){i={error:x}}finally{try{f&&!f.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(n){var i=function BG(t){try{if(t.get(1))return new vG(t);if(!t.get(2))return new _G(t);switch(nf.extractNumericValueFromBitArray(t,1,4)){case 4:return new SG(t);case 5:return new OG(t)}switch(nf.extractNumericValueFromBitArray(t,1,5)){case 12:return new RG(t);case 13:return new FG(t)}switch(nf.extractNumericValueFromBitArray(t,1,7)){case 56:return new di(t,"310","11");case 57:return new di(t,"320","11");case 58:return new di(t,"310","13");case 59:return new di(t,"320","13");case 60:return new di(t,"310","15");case 61:return new di(t,"320","15");case 62:return new di(t,"310","17");case 63:return new di(t,"320","17")}}catch(i){throw console.log(i),new Cr("unknown decoder: "+t)}}(J$.buildBitArray(n)),o=i.parseInformation(),a=n[0].getFinderPattern().getResultPoints(),s=n[n.length-1].getFinderPattern().getResultPoints();return new Mt(o,null,null,[a[0],a[1],s[0],s[1]],B.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var n=this.pairs.get(0),r=n.getLeftChar(),i=n.getRightChar();if(null===i)return!1;for(var o=i.getChecksumPortion(),a=2,s=1;s<this.pairs.size();++s){var u=this.pairs.get(s);o+=u.getLeftChar().getChecksumPortion(),a++;var c=u.getRightChar();null!=c&&(o+=c.getChecksumPortion(),a++)}return 211*(a-4)+(o%=211)===r.getValue()},e.getNextSecondBar=function(n,r){var i;return n.get(r)?(i=n.getNextUnset(r),i=n.getNextSet(i)):(i=n.getNextSet(r),i=n.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(n,r,i){var o=r.length%2==0;this.startFromEven&&(o=!o);var a,s=!0,u=-1;do{this.findNextPair(n,r,u),null===(a=this.parseFoundFinderPattern(n,i,o))?u=e.getNextSecondBar(n,this.startEnd[0]):s=!1}while(s);var l,c=this.decodeDataCharacter(n,a,o,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new A;try{l=this.decodeDataCharacter(n,a,o,!1)}catch(f){l=null,console.log(f)}return new YA(c,l,a,!0)},e.prototype.isEmptyPair=function(n){return 0===n.length},e.prototype.findNextPair=function(n,r,i){var o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;var s,a=n.getSize();s=i>=0?i:this.isEmptyPair(r)?0:r[r.length-1].getFinderPattern().getStartEnd()[1];var c=r.length%2!=0;this.startFromEven&&(c=!c);for(var l=!1;s<a&&(l=!n.get(s));)s++;for(var f=0,d=s,h=s;h<a;h++)if(n.get(h)!==l)o[f]++;else{if(3===f){if(c&&e.reverseCounters(o),e.isFinderPattern(o))return this.startEnd[0]=d,void(this.startEnd[1]=h);c&&e.reverseCounters(o),d+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,f--}else f++;o[f]=1,l=!l}throw new A},e.reverseCounters=function(n){for(var r=n.length,i=0;i<r/2;++i){var o=n[i];n[i]=n[r-i-1],n[r-i-1]=o}},e.prototype.parseFoundFinderPattern=function(n,r,i){var o,a,s;if(i){for(var u=this.startEnd[0]-1;u>=0&&!n.get(u);)u--;u++,o=this.startEnd[0]-u,a=u,s=this.startEnd[1]}else a=this.startEnd[0],o=(s=n.getNextUnset(this.startEnd[1]+1))-this.startEnd[1];var l,c=this.getDecodeFinderCounters();Fe.arraycopy(c,0,c,1,c.length-1),c[0]=o;try{l=this.parseFinderValue(c,e.FINDER_PATTERNS)}catch{return null}return new XA(l,[a,s],a,s,r)},e.prototype.decodeDataCharacter=function(n,r,i,o){for(var a=this.getDataCharacterCounters(),s=0;s<a.length;s++)a[s]=0;if(o)e.recordPatternInReverse(n,r.getStartEnd()[0],a);else{e.recordPattern(n,r.getStartEnd()[1],a);for(var u=0,c=a.length-1;u<c;u++,c--){var l=a[u];a[u]=a[c],a[c]=l}}var d=pe.sum(new Int32Array(a))/17,h=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(d-h)/h>.3)throw new A;var p=this.getOddCounts(),g=this.getEvenCounts(),m=this.getOddRoundingErrors(),y=this.getEvenRoundingErrors();for(u=0;u<a.length;u++){var v=1*a[u]/d,w=v+.5;if(w<1){if(v<.3)throw new A;w=1}else if(w>8){if(v>8.7)throw new A;w=8}var E=u/2;1&u?(g[E]=w,y[E]=v-w):(p[E]=w,m[E]=v-w)}this.adjustOddEvenCounts(17);var x=4*r.getValue()+(i?0:2)+(o?0:1)-1,D=0,O=0;for(u=p.length-1;u>=0;u--)e.isNotA1left(r,i,o)&&(O+=p[u]*e.WEIGHTS[x][2*u]),D+=p[u];var j=0;for(u=g.length-1;u>=0;u--)e.isNotA1left(r,i,o)&&(j+=g[u]*e.WEIGHTS[x][2*u+1]);var H=O+j;if(1&D||D>13||D<4)throw new A;var ze=(13-D)/2,de=e.SYMBOL_WIDEST[ze],We=9-de,Gn=_a.getRSSvalue(p,de,!0),wi=_a.getRSSvalue(g,We,!1);return new ef(Gn*e.EVEN_TOTAL_SUBSET[ze]+wi+e.GSUM[ze],H)},e.isNotA1left=function(n,r,i){return!(0===n.getValue()&&r&&i)},e.prototype.adjustOddEvenCounts=function(n){var r=pe.sum(new Int32Array(this.getOddCounts())),i=pe.sum(new Int32Array(this.getEvenCounts())),o=!1,a=!1;r>13?a=!0:r<4&&(o=!0);var s=!1,u=!1;i>13?u=!0:i<4&&(s=!0);var c=r+i-n,l=1==(1&r),f=0==(1&i);if(1===c)if(l){if(f)throw new A;a=!0}else{if(!f)throw new A;u=!0}else if(-1===c)if(l){if(f)throw new A;o=!0}else{if(!f)throw new A;s=!0}else{if(0!==c)throw new A;if(l){if(!f)throw new A;r<i?(o=!0,u=!0):(a=!0,s=!0)}else if(f)throw new A}if(o){if(a)throw new A;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(u)throw new A;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A=0,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B=1,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C=2,e.FINDER_PAT_B,e.FINDER_PAT_D=3],[e.FINDER_PAT_A,e.FINDER_PAT_E=4,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F=5],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(Wi);const GG=$G;var zG=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),WG=function(t){function e(n,r,i){var o=t.call(this,n,r)||this;return o.count=0,o.finderPattern=i,o}return zG(e,t),e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(ef);const XG=WG;var qG=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),F1=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ZG=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.possibleLeftPairs=[],n.possibleRightPairs=[],n}return qG(e,t),e.prototype.decodeRow=function(n,r,i){var o,a,s,u,c=this.decodePair(r,!1,n,i);e.addOrTally(this.possibleLeftPairs,c),r.reverse();var l=this.decodePair(r,!0,n,i);e.addOrTally(this.possibleRightPairs,l),r.reverse();try{for(var f=F1(this.possibleLeftPairs),d=f.next();!d.done;d=f.next()){var h=d.value;if(h.getCount()>1)try{for(var p=(s=void 0,F1(this.possibleRightPairs)),g=p.next();!g.done;g=p.next()){var m=g.value;if(m.getCount()>1&&e.checkChecksum(h,m))return e.constructResult(h,m)}}catch(y){s={error:y}}finally{try{g&&!g.done&&(u=p.return)&&u.call(p)}finally{if(s)throw s.error}}}}catch(y){o={error:y}}finally{try{d&&!d.done&&(a=f.return)&&a.call(f)}finally{if(o)throw o.error}}throw new A},e.addOrTally=function(n,r){var i,o;if(null!=r){var a=!1;try{for(var s=F1(n),u=s.next();!u.done;u=s.next()){var c=u.value;if(c.getValue()===r.getValue()){c.incrementCount(),a=!0;break}}}catch(l){i={error:l}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}a||n.push(r)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(n,r){for(var i=4537077*n.getValue()+r.getValue(),o=new String(i).toString(),a=new ee,s=13-o.length;s>0;s--)a.append("0");a.append(o);var u=0;for(s=0;s<13;s++){var c=a.charAt(s).charCodeAt(0)-"0".charCodeAt(0);u+=1&s?c:3*c}10==(u=10-u%10)&&(u=0),a.append(u.toString());var l=n.getFinderPattern().getResultPoints(),f=r.getFinderPattern().getResultPoints();return new Mt(a.toString(),null,0,[l[0],l[1],f[0],f[1]],B.RSS_14,(new Date).getTime())},e.checkChecksum=function(n,r){var i=(n.getChecksumPortion()+16*r.getChecksumPortion())%79,o=9*n.getFinderPattern().getValue()+r.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,i===o},e.prototype.decodePair=function(n,r,i,o){try{var a=this.findFinderPattern(n,r),s=this.parseFoundFinderPattern(n,i,r,a),u=null==o?null:o.get(me.NEED_RESULT_POINT_CALLBACK);if(null!=u){var c=(a[0]+a[1])/2;r&&(c=n.getSize()-1-c),u.foundPossibleResultPoint(new L(c,i))}var l=this.decodeDataCharacter(n,s,!0),f=this.decodeDataCharacter(n,s,!1);return new XG(1597*l.getValue()+f.getValue(),l.getChecksumPortion()+4*f.getChecksumPortion(),s)}catch{return null}},e.prototype.decodeDataCharacter=function(n,r,i){for(var o=this.getDataCharacterCounters(),a=0;a<o.length;a++)o[a]=0;if(i)ct.recordPatternInReverse(n,r.getStartEnd()[0],o);else{ct.recordPattern(n,r.getStartEnd()[1]+1,o);for(var s=0,u=o.length-1;s<u;s++,u--){var c=o[s];o[s]=o[u],o[u]=c}}var l=i?16:15,f=pe.sum(new Int32Array(o))/l,d=this.getOddCounts(),h=this.getEvenCounts(),p=this.getOddRoundingErrors(),g=this.getEvenRoundingErrors();for(s=0;s<o.length;s++){var m=o[s]/f,y=Math.floor(m+.5);y<1?y=1:y>8&&(y=8);var v=Math.floor(s/2);1&s?(h[v]=y,g[v]=m-y):(d[v]=y,p[v]=m-y)}this.adjustOddEvenCounts(i,l);var w=0,E=0;for(s=d.length-1;s>=0;s--)E*=9,E+=d[s],w+=d[s];var x=0,D=0;for(s=h.length-1;s>=0;s--)x*=9,x+=h[s],D+=h[s];var R,j,O=E+3*x;if(i){if(1&w||w>12||w<4)throw new A;var H=9-(j=e.OUTSIDE_ODD_WIDEST[R=(12-w)/2]),ze=_a.getRSSvalue(d,j,!1),de=_a.getRSSvalue(h,H,!0);return new ef(ze*e.OUTSIDE_EVEN_TOTAL_SUBSET[R]+de+e.OUTSIDE_GSUM[R],O)}if(1&D||D>10||D<4)throw new A;return H=9-(j=e.INSIDE_ODD_WIDEST[R=(10-D)/2]),ze=_a.getRSSvalue(d,j,!0),de=_a.getRSSvalue(h,H,!1),new ef(de*e.INSIDE_ODD_TOTAL_SUBSET[R]+ze+e.INSIDE_GSUM[R],O)},e.prototype.findFinderPattern=function(n,r){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var o=n.getSize(),a=!1,s=0;s<o&&r!==(a=!n.get(s));)s++;for(var u=0,c=s,l=s;l<o;l++)if(n.get(l)!==a)i[u]++;else{if(3===u){if(Wi.isFinderPattern(i))return[c,l];c+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,u--}else u++;i[u]=1,a=!a}throw new A},e.prototype.parseFoundFinderPattern=function(n,r,i,o){for(var a=n.get(o[0]),s=o[0]-1;s>=0&&a!==n.get(s);)s--;s++;var u=o[0]-s,c=this.getDecodeFinderCounters(),l=new Int32Array(c.length);Fe.arraycopy(c,0,l,1,c.length-1),l[0]=u;var f=this.parseFinderValue(l,e.FINDER_PATTERNS),d=s,h=o[1];return i&&(d=n.getSize()-1-d,h=n.getSize()-1-h),new XA(f,[s,o[1]],d,h,r)},e.prototype.adjustOddEvenCounts=function(n,r){var i=pe.sum(new Int32Array(this.getOddCounts())),o=pe.sum(new Int32Array(this.getEvenCounts())),a=!1,s=!1,u=!1,c=!1;n?(i>12?s=!0:i<4&&(a=!0),o>12?c=!0:o<4&&(u=!0)):(i>11?s=!0:i<5&&(a=!0),o>10?c=!0:o<4&&(u=!0));var l=i+o-r,f=(1&i)==(n?1:0),d=1==(1&o);if(1===l)if(f){if(d)throw new A;s=!0}else{if(!d)throw new A;c=!0}else if(-1===l)if(f){if(d)throw new A;a=!0}else{if(!d)throw new A;u=!0}else{if(0!==l)throw new A;if(f){if(!d)throw new A;i<o?(a=!0,c=!0):(s=!0,u=!0)}else if(d)throw new A}if(a){if(s)throw new A;Wi.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&Wi.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(c)throw new A;Wi.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&Wi.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(Wi);const KA=ZG;var YG=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),KG=function(t){function e(n){var r=t.call(this)||this;r.readers=[];var i=n?n.get(me.POSSIBLE_FORMATS):null,o=n&&void 0!==n.get(me.ASSUME_CODE_39_CHECK_DIGIT),a=n&&void 0!==n.get(me.ENABLE_CODE_39_EXTENDED_MODE);return i&&((i.includes(B.EAN_13)||i.includes(B.UPC_A)||i.includes(B.EAN_8)||i.includes(B.UPC_E))&&r.readers.push(new N1(n)),i.includes(B.CODE_39)&&r.readers.push(new BA(o,a)),i.includes(B.CODE_93)&&r.readers.push(new VA),i.includes(B.CODE_128)&&r.readers.push(new kA),i.includes(B.ITF)&&r.readers.push(new UA),i.includes(B.CODABAR)&&r.readers.push(new G$),i.includes(B.RSS_14)&&r.readers.push(new KA),i.includes(B.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),r.readers.push(new GG))),0===r.readers.length&&(r.readers.push(new N1(n)),r.readers.push(new BA),r.readers.push(new VA),r.readers.push(new N1(n)),r.readers.push(new kA),r.readers.push(new UA),r.readers.push(new KA)),r}return YG(e,t),e.prototype.decodeRow=function(n,r,i){for(var o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(n,r,i)}catch{}throw new A},e.prototype.reset=function(){this.readers.forEach(function(n){return n.reset()})},e}(ct);const Ea=KG;var QG=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),QA=(function(t){QG(function e(n,r){return void 0===n&&(n=500),t.call(this,new Ea(r),n,r)||this},t)}(ma),function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}),Ee=function(){function t(e,n,r){this.ecCodewords=e,this.ecBlocks=[n],r&&this.ecBlocks.push(r)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),ye=function(){function t(e,n){this.count=e,this.dataCodewords=n}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),JG=function(){function t(e,n,r,i,o,a){var s,u;this.versionNumber=e,this.symbolSizeRows=n,this.symbolSizeColumns=r,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=o,this.ecBlocks=a;var c=0,l=a.getECCodewords(),f=a.getECBlocks();try{for(var d=QA(f),h=d.next();!h.done;h=d.next()){var p=h.value;c+=p.getCount()*(p.getDataCodewords()+l)}}catch(g){s={error:g}}finally{try{h&&!h.done&&(u=d.return)&&u.call(d)}finally{if(s)throw s.error}}this.totalCodewords=c}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,n){var r,i;if(1&e||1&n)throw new M;try{for(var o=QA(t.VERSIONS),a=o.next();!a.done;a=o.next()){var s=a.value;if(s.symbolSizeRows===e&&s.symbolSizeColumns===n)return s}}catch(u){r={error:u}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}throw new M},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new Ee(5,new ye(1,3))),new t(2,12,12,10,10,new Ee(7,new ye(1,5))),new t(3,14,14,12,12,new Ee(10,new ye(1,8))),new t(4,16,16,14,14,new Ee(12,new ye(1,12))),new t(5,18,18,16,16,new Ee(14,new ye(1,18))),new t(6,20,20,18,18,new Ee(18,new ye(1,22))),new t(7,22,22,20,20,new Ee(20,new ye(1,30))),new t(8,24,24,22,22,new Ee(24,new ye(1,36))),new t(9,26,26,24,24,new Ee(28,new ye(1,44))),new t(10,32,32,14,14,new Ee(36,new ye(1,62))),new t(11,36,36,16,16,new Ee(42,new ye(1,86))),new t(12,40,40,18,18,new Ee(48,new ye(1,114))),new t(13,44,44,20,20,new Ee(56,new ye(1,144))),new t(14,48,48,22,22,new Ee(68,new ye(1,174))),new t(15,52,52,24,24,new Ee(42,new ye(2,102))),new t(16,64,64,14,14,new Ee(56,new ye(2,140))),new t(17,72,72,16,16,new Ee(36,new ye(4,92))),new t(18,80,80,18,18,new Ee(48,new ye(4,114))),new t(19,88,88,20,20,new Ee(56,new ye(4,144))),new t(20,96,96,22,22,new Ee(68,new ye(4,174))),new t(21,104,104,24,24,new Ee(56,new ye(6,136))),new t(22,120,120,18,18,new Ee(68,new ye(6,175))),new t(23,132,132,20,20,new Ee(62,new ye(8,163))),new t(24,144,144,22,22,new Ee(62,new ye(8,156),new ye(2,155))),new t(25,8,18,6,16,new Ee(7,new ye(1,5))),new t(26,8,32,6,14,new Ee(11,new ye(1,10))),new t(27,12,26,10,24,new Ee(14,new ye(1,16))),new t(28,12,36,10,16,new Ee(18,new ye(1,22))),new t(29,16,36,14,16,new Ee(24,new ye(1,32))),new t(30,16,48,14,22,new Ee(28,new ye(1,49)))]},t.VERSIONS=t.buildVersions(),t}();const ez=JG;var tz=function(){function t(e){var n=e.getHeight();if(n<8||n>144||1&n)throw new M;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new ln(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var n=e.getHeight(),r=e.getWidth();return ez.getVersionForDimensions(n,r)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),n=0,r=4,i=0,o=this.mappingBitMatrix.getHeight(),a=this.mappingBitMatrix.getWidth(),s=!1,u=!1,c=!1,l=!1;do{if(r!==o||0!==i||s)if(r===o-2&&0===i&&3&a&&!u)e[n++]=255&this.readCorner2(o,a),r-=2,i+=2,u=!0;else if(r!==o+4||2!==i||7&a||c)if(r!==o-2||0!==i||4!=(7&a)||l){do{r<o&&i>=0&&!this.readMappingMatrix.get(i,r)&&(e[n++]=255&this.readUtah(r,i,o,a)),r-=2,i+=2}while(r>=0&&i<a);r+=1,i+=3;do{r>=0&&i<a&&!this.readMappingMatrix.get(i,r)&&(e[n++]=255&this.readUtah(r,i,o,a)),r+=2,i-=2}while(r<o&&i>=0);r+=3,i+=1}else e[n++]=255&this.readCorner4(o,a),r-=2,i+=2,l=!0;else e[n++]=255&this.readCorner3(o,a),r-=2,i+=2,c=!0;else e[n++]=255&this.readCorner1(o,a),r-=2,i+=2,s=!0}while(r<o||i<a);if(n!==this.version.getTotalCodewords())throw new M;return e},t.prototype.readModule=function(e,n,r,i){return e<0&&(e+=r,n+=4-(r+4&7)),n<0&&(n+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(n,e),this.mappingBitMatrix.get(n,e)},t.prototype.readUtah=function(e,n,r,i){var o=0;return this.readModule(e-2,n-2,r,i)&&(o|=1),o<<=1,this.readModule(e-2,n-1,r,i)&&(o|=1),o<<=1,this.readModule(e-1,n-2,r,i)&&(o|=1),o<<=1,this.readModule(e-1,n-1,r,i)&&(o|=1),o<<=1,this.readModule(e-1,n,r,i)&&(o|=1),o<<=1,this.readModule(e,n-2,r,i)&&(o|=1),o<<=1,this.readModule(e,n-1,r,i)&&(o|=1),o<<=1,this.readModule(e,n,r,i)&&(o|=1),o},t.prototype.readCorner1=function(e,n){var r=0;return this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,1,e,n)&&(r|=1),r<<=1,this.readModule(e-1,2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(2,n-1,e,n)&&(r|=1),r<<=1,this.readModule(3,n-1,e,n)&&(r|=1),r},t.prototype.readCorner2=function(e,n){var r=0;return this.readModule(e-3,0,e,n)&&(r|=1),r<<=1,this.readModule(e-2,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(0,n-4,e,n)&&(r|=1),r<<=1,this.readModule(0,n-3,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r},t.prototype.readCorner3=function(e,n){var r=0;return this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(0,n-3,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-3,e,n)&&(r|=1),r<<=1,this.readModule(1,n-2,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r},t.prototype.readCorner4=function(e,n){var r=0;return this.readModule(e-3,0,e,n)&&(r|=1),r<<=1,this.readModule(e-2,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(2,n-1,e,n)&&(r|=1),r<<=1,this.readModule(3,n-1,e,n)&&(r|=1),r},t.prototype.extractDataRegion=function(e){var n=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==n)throw new F("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),o=this.version.getDataRegionSizeColumns(),a=n/i|0,s=r/o|0,l=new ln(s*o,a*i),f=0;f<a;++f)for(var d=f*i,h=0;h<s;++h)for(var p=h*o,g=0;g<i;++g)for(var m=f*(i+2)+1+g,y=d+g,v=0;v<o;++v)e.get(h*(o+2)+1+v,m)&&l.set(p+v,y);return l},t}();const nz=tz;var JA=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rz=function(){function t(e,n){this.numDataCodewords=e,this.codewords=n}return t.getDataBlocks=function(e,n){var r,i,o,a,s=n.getECBlocks(),u=0,c=s.getECBlocks();try{for(var l=JA(c),f=l.next();!f.done;f=l.next())u+=(d=f.value).getCount()}catch(Gn){r={error:Gn}}finally{try{f&&!f.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}var h=new Array(u),p=0;try{for(var g=JA(c),m=g.next();!m.done;m=g.next())for(var d=m.value,y=0;y<d.getCount();y++){var v=d.getDataCodewords(),w=s.getECCodewords()+v;h[p++]=new t(v,new Uint8Array(w))}}catch(Gn){o={error:Gn}}finally{try{m&&!m.done&&(a=g.return)&&a.call(g)}finally{if(o)throw o.error}}var x=h[0].codewords.length-s.getECCodewords(),D=x-1,O=0;for(y=0;y<D;y++)for(var R=0;R<p;R++)h[R].codewords[y]=e[O++];var j=24===n.getVersionNumber(),H=j?8:p;for(R=0;R<H;R++)h[R].codewords[x-1]=e[O++];var ze=h[0].codewords.length;for(y=x;y<ze;y++)for(R=0;R<p;R++){var de=j?(R+8)%p:R;h[de].codewords[j&&de>7?y-1:y]=e[O++]}if(O!==e.length)throw new F;return h},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}();const iz=rz;var oz=function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new F(""+e);var n=0,r=this.bitOffset,i=this.byteOffset,o=this.bytes;if(r>0){var a=8-r,s=e<a?e:a;n=(o[i]&255>>8-s<<(u=a-s))>>u,e-=s,8===(r+=s)&&(r=0,i++)}if(e>0){for(;e>=8;)n=n<<8|255&o[i],i++,e-=8;var u;e>0&&(n=n<<e|(o[i]&255>>(u=8-e)<<u)>>u,r+=e)}return this.bitOffset=r,this.byteOffset=i,n},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t}();const eD=oz;var pt=function(t){return t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE",t}(pt||{}),az=function(){function t(){}return t.decode=function(e){var n=new eD(e),r=new ee,i=new ee,o=new Array,a=pt.ASCII_ENCODE;do{if(a===pt.ASCII_ENCODE)a=this.decodeAsciiSegment(n,r,i);else{switch(a){case pt.C40_ENCODE:this.decodeC40Segment(n,r);break;case pt.TEXT_ENCODE:this.decodeTextSegment(n,r);break;case pt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,r);break;case pt.EDIFACT_ENCODE:this.decodeEdifactSegment(n,r);break;case pt.BASE256_ENCODE:this.decodeBase256Segment(n,r,o);break;default:throw new M}a=pt.ASCII_ENCODE}}while(a!==pt.PAD_ENCODE&&n.available()>0);return i.length()>0&&r.append(i.toString()),new Yl(e,r.toString(),0===o.length?null:o,null)},t.decodeAsciiSegment=function(e,n,r){var i=!1;do{var o=e.readBits(8);if(0===o)throw new M;if(o<=128)return i&&(o+=128),n.append(String.fromCharCode(o-1)),pt.ASCII_ENCODE;if(129===o)return pt.PAD_ENCODE;if(o<=229){var a=o-130;a<10&&n.append("0"),n.append(""+a)}else switch(o){case 230:return pt.C40_ENCODE;case 231:return pt.BASE256_ENCODE;case 232:n.append(String.fromCharCode(29));break;case 233:case 234:case 241:break;case 235:i=!0;break;case 236:n.append("[)>\x1e05\x1d"),r.insert(0,"\x1e\x04");break;case 237:n.append("[)>\x1e06\x1d"),r.insert(0,"\x1e\x04");break;case 238:return pt.ANSIX12_ENCODE;case 239:return pt.TEXT_ENCODE;case 240:return pt.EDIFACT_ENCODE;default:if(254!==o||0!==e.available())throw new M}}while(e.available()>0);return pt.ASCII_ENCODE},t.decodeC40Segment=function(e,n){var r=!1,i=[],o=0;do{if(8===e.available())return;var a=e.readBits(8);if(254===a)return;this.parseTwoBytes(a,e.readBits(8),i);for(var s=0;s<3;s++){var u=i[s];switch(o){case 0:if(u<3)o=u+1;else{if(!(u<this.C40_BASIC_SET_CHARS.length))throw new M;var c=this.C40_BASIC_SET_CHARS[u];r?(n.append(String.fromCharCode(c.charCodeAt(0)+128)),r=!1):n.append(c)}break;case 1:r?(n.append(String.fromCharCode(u+128)),r=!1):n.append(String.fromCharCode(u)),o=0;break;case 2:if(u<this.C40_SHIFT2_SET_CHARS.length)c=this.C40_SHIFT2_SET_CHARS[u],r?(n.append(String.fromCharCode(c.charCodeAt(0)+128)),r=!1):n.append(c);else switch(u){case 27:n.append(String.fromCharCode(29));break;case 30:r=!0;break;default:throw new M}o=0;break;case 3:r?(n.append(String.fromCharCode(u+224)),r=!1):n.append(String.fromCharCode(u+96)),o=0;break;default:throw new M}}}while(e.available()>0)},t.decodeTextSegment=function(e,n){var r=!1,i=[],o=0;do{if(8===e.available())return;var a=e.readBits(8);if(254===a)return;this.parseTwoBytes(a,e.readBits(8),i);for(var s=0;s<3;s++){var u=i[s];switch(o){case 0:if(u<3)o=u+1;else{if(!(u<this.TEXT_BASIC_SET_CHARS.length))throw new M;var c=this.TEXT_BASIC_SET_CHARS[u];r?(n.append(String.fromCharCode(c.charCodeAt(0)+128)),r=!1):n.append(c)}break;case 1:r?(n.append(String.fromCharCode(u+128)),r=!1):n.append(String.fromCharCode(u)),o=0;break;case 2:if(u<this.TEXT_SHIFT2_SET_CHARS.length)c=this.TEXT_SHIFT2_SET_CHARS[u],r?(n.append(String.fromCharCode(c.charCodeAt(0)+128)),r=!1):n.append(c);else switch(u){case 27:n.append(String.fromCharCode(29));break;case 30:r=!0;break;default:throw new M}o=0;break;case 3:if(!(u<this.TEXT_SHIFT3_SET_CHARS.length))throw new M;c=this.TEXT_SHIFT3_SET_CHARS[u],r?(n.append(String.fromCharCode(c.charCodeAt(0)+128)),r=!1):n.append(c),o=0;break;default:throw new M}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,n){var r=[];do{if(8===e.available())return;var i=e.readBits(8);if(254===i)return;this.parseTwoBytes(i,e.readBits(8),r);for(var o=0;o<3;o++){var a=r[o];switch(a){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(a<14)n.append(String.fromCharCode(a+44));else{if(!(a<40))throw new M;n.append(String.fromCharCode(a+51))}}}}while(e.available()>0)},t.parseTwoBytes=function(e,n,r){var i=(e<<8)+n-1,o=Math.floor(i/1600);r[0]=o,i-=1600*o,o=Math.floor(i/40),r[1]=o,r[2]=i-40*o},t.decodeEdifactSegment=function(e,n){do{if(e.available()<=16)return;for(var r=0;r<4;r++){var i=e.readBits(6);if(31===i){var o=8-e.getBitOffset();return void(8!==o&&e.readBits(o))}32&i||(i|=64),n.append(String.fromCharCode(i))}}while(e.available()>0)},t.decodeBase256Segment=function(e,n,r){var a,i=1+e.getByteOffset(),o=this.unrandomize255State(e.readBits(8),i++);if((a=0===o?e.available()/8|0:o<250?o:250*(o-249)+this.unrandomize255State(e.readBits(8),i++))<0)throw new M;for(var s=new Uint8Array(a),u=0;u<a;u++){if(e.available()<8)throw new M;s[u]=this.unrandomize255State(e.readBits(8),i++)}r.push(s);try{n.append(Hn.decode(s,ae.ISO88591))}catch(c){throw new Cr("Platform does not support required encoding: "+c.message)}},t.unrandomize255State=function(e,n){var i=e-(149*n%255+1);return i>=0?i:i+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)],t}();const sz=az;var cz=function(){function t(){this.rsDecoder=new Ql(fn.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var n,r,i=new nz(e),o=i.getVersion(),a=i.readCodewords(),s=iz.getDataBlocks(a,o),u=0;try{for(var c=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(s),l=c.next();!l.done;l=c.next())u+=l.value.getNumDataCodewords()}catch(w){n={error:w}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}for(var d=new Uint8Array(u),h=s.length,p=0;p<h;p++){var g=s[p],m=g.getCodewords(),y=g.getNumDataCodewords();this.correctErrors(m,y);for(var v=0;v<y;v++)d[v*h+p]=m[v]}return sz.decode(d)},t.prototype.correctErrors=function(e,n){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-n)}catch{throw new tt}for(var i=0;i<n;i++)e[i]=r[i]},t}();const lz=cz;var fz=function(){function t(e){this.image=e,this.rectangleDetector=new b1(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),n=this.detectSolid1(e);if((n=this.detectSolid2(n))[3]=this.correctTopRight(n),!n[3])throw new A;var r=(n=this.shiftToModuleCenter(n))[0],i=n[1],o=n[2],a=n[3],s=this.transitionsBetween(r,a)+1,u=this.transitionsBetween(o,a)+1;1==(1&s)&&(s+=1),1==(1&u)&&(u+=1),4*s<7*u&&4*u<7*s&&(s=u=Math.max(s,u));var c=t.sampleGrid(this.image,r,i,o,a,s,u);return new I1(c,[r,i,o,a])},t.shiftPoint=function(e,n,r){var i=(n.getX()-e.getX())/(r+1),o=(n.getY()-e.getY())/(r+1);return new L(e.getX()+i,e.getY()+o)},t.moveAway=function(e,n,r){var i=e.getX(),o=e.getY();return i<n?i-=1:i+=1,o<r?o-=1:o+=1,new L(i,o)},t.prototype.detectSolid1=function(e){var n=e[0],r=e[1],i=e[3],o=e[2],a=this.transitionsBetween(n,r),s=this.transitionsBetween(r,i),u=this.transitionsBetween(i,o),c=this.transitionsBetween(o,n),l=a,f=[o,n,r,i];return l>s&&(l=s,f[0]=n,f[1]=r,f[2]=i,f[3]=o),l>u&&(l=u,f[0]=r,f[1]=i,f[2]=o,f[3]=n),l>c&&(f[0]=i,f[1]=o,f[2]=n,f[3]=r),f},t.prototype.detectSolid2=function(e){var n=e[0],r=e[1],i=e[2],o=e[3],a=this.transitionsBetween(n,o),s=t.shiftPoint(r,i,4*(a+1)),u=t.shiftPoint(i,r,4*(a+1));return this.transitionsBetween(s,n)<this.transitionsBetween(u,o)?(e[0]=n,e[1]=r,e[2]=i,e[3]=o):(e[0]=r,e[1]=i,e[2]=o,e[3]=n),e},t.prototype.correctTopRight=function(e){var n=e[0],r=e[1],i=e[2],o=e[3],a=this.transitionsBetween(n,o),s=this.transitionsBetween(r,o),u=t.shiftPoint(n,r,4*(s+1)),c=t.shiftPoint(i,r,4*(a+1));a=this.transitionsBetween(u,o),s=this.transitionsBetween(c,o);var l=new L(o.getX()+(i.getX()-r.getX())/(a+1),o.getY()+(i.getY()-r.getY())/(a+1)),f=new L(o.getX()+(n.getX()-r.getX())/(s+1),o.getY()+(n.getY()-r.getY())/(s+1));return this.isValid(l)?this.isValid(f)?this.transitionsBetween(u,l)+this.transitionsBetween(c,l)>this.transitionsBetween(u,f)+this.transitionsBetween(c,f)?l:f:l:this.isValid(f)?f:null},t.prototype.shiftToModuleCenter=function(e){var n=e[0],r=e[1],i=e[2],o=e[3],a=this.transitionsBetween(n,o)+1,s=this.transitionsBetween(i,o)+1,u=t.shiftPoint(n,r,4*s),c=t.shiftPoint(i,r,4*a);1==(1&(a=this.transitionsBetween(u,o)+1))&&(a+=1),1==(1&(s=this.transitionsBetween(c,o)+1))&&(s+=1);var d,h,l=(n.getX()+r.getX()+i.getX()+o.getX())/4,f=(n.getY()+r.getY()+i.getY()+o.getY())/4;return n=t.moveAway(n,l,f),r=t.moveAway(r,l,f),i=t.moveAway(i,l,f),o=t.moveAway(o,l,f),u=t.shiftPoint(n,r,4*s),u=t.shiftPoint(u,o,4*a),d=t.shiftPoint(r,n,4*s),d=t.shiftPoint(d,i,4*a),c=t.shiftPoint(i,o,4*s),c=t.shiftPoint(c,r,4*a),h=t.shiftPoint(o,i,4*s),[u,d,c,h=t.shiftPoint(h,n,4*a)]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,n,r,i,o,a,s){return O1.getInstance().sampleGrid(e,a,s,.5,.5,a-.5,.5,a-.5,s-.5,.5,s-.5,n.getX(),n.getY(),o.getX(),o.getY(),i.getX(),i.getY(),r.getX(),r.getY())},t.prototype.transitionsBetween=function(e,n){var r=Math.trunc(e.getX()),i=Math.trunc(e.getY()),o=Math.trunc(n.getX()),a=Math.trunc(n.getY()),s=Math.abs(a-i)>Math.abs(o-r);if(s){var u=r;r=i,i=u,u=o,o=a,a=u}for(var c=Math.abs(o-r),l=Math.abs(a-i),f=-c/2,d=i<a?1:-1,h=r<o?1:-1,p=0,g=this.image.get(s?i:r,s?r:i),m=r,y=i;m!==o;m+=h){var v=this.image.get(s?y:m,s?m:y);if(v!==g&&(p++,g=v),(f+=l)>0){if(y===a)break;y+=d,f-=c}}return p},t}();const dz=fz;var hz=function(){function t(){this.decoder=new lz}return t.prototype.decode=function(e,n){var r,i;if(void 0===n&&(n=null),null!=n&&n.has(me.PURE_BARCODE)){var o=t.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(o),i=t.NO_POINTS}else{var a=new dz(e.getBlackMatrix()).detect();r=this.decoder.decode(a.getBits()),i=a.getPoints()}var s=r.getRawBytes(),u=new Mt(r.getText(),s,8*s.length,i,B.DATA_MATRIX,Fe.currentTimeMillis()),c=r.getByteSegments();null!=c&&u.putMetadata(xt.BYTE_SEGMENTS,c);var l=r.getECLevel();return null!=l&&u.putMetadata(xt.ERROR_CORRECTION_LEVEL,l),u},t.prototype.reset=function(){},t.extractPureBits=function(e){var n=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(null==n||null==r)throw new A;var i=this.moduleSize(n,e),o=n[1],s=n[0],c=(r[0]-s+1)/i,l=(r[1]-o+1)/i;if(c<=0||l<=0)throw new A;var f=i/2;o+=f,s+=f;for(var d=new ln(c,l),h=0;h<l;h++)for(var p=o+h*i,g=0;g<c;g++)e.get(s+g*i,p)&&d.set(g,h);return d},t.moduleSize=function(e,n){for(var r=n.getWidth(),i=e[0],o=e[1];i<r&&n.get(i,o);)i++;if(i===r)throw new A;var a=i-e[0];if(0===a)throw new A;return a},t.NO_POINTS=[],t}();const af=hz;var pz=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),au=(function(t){pz(function e(n){return void 0===n&&(n=500),t.call(this,new af,n)||this},t)}(ma),function(t){return t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H",t}(au||{})),gz=function(){function t(e,n,r){this.value=e,this.stringValue=n,this.bits=r,t.FOR_BITS.set(r,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new et(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){return e instanceof t&&this.value===e.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new F;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(au.L,"L",1),t.M=new t(au.M,"M",0),t.Q=new t(au.Q,"Q",3),t.H=new t(au.H,"H",2),t}();const zr=gz;var mz=function(){function t(e){this.errorCorrectionLevel=zr.forBits(e>>3&3),this.dataMask=7&e}return t.numBitsDiffering=function(e,n){return J.bitCount(e^n)},t.decodeFormatInformation=function(e,n){var r=t.doDecodeFormatInformation(e,n);return null!==r?r:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,n^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,n){var r,i,o=Number.MAX_SAFE_INTEGER,a=0;try{for(var s=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t.FORMAT_INFO_DECODE_LOOKUP),u=s.next();!u.done;u=s.next()){var c=u.value,l=c[0];if(l===e||l===n)return new t(c[1]);var f=t.numBitsDiffering(e,l);f<o&&(a=c[1],o=f),e!==n&&(f=t.numBitsDiffering(n,l))<o&&(a=c[1],o=f)}}catch(d){r={error:d}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return o<=3?new t(a):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){return e instanceof t&&(this.errorCorrectionLevel===e.errorCorrectionLevel&&this.dataMask===e.dataMask)},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t}();const tD=mz;var _z=function(){function t(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.ecCodewordsPerBlock=e,this.ecBlocks=n}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,n,r=0,i=this.ecBlocks;try{for(var o=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),a=o.next();!a.done;a=o.next())r+=a.value.getCount()}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t}();const C=_z;var wz=function(){function t(e,n){this.count=e,this.dataCodewords=n}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}();const _=wz;var Cz=function(){function t(e,n){for(var r,i,o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];this.versionNumber=e,this.alignmentPatternCenters=n,this.ecBlocks=o;var s=0,u=o[0].getECCodewordsPerBlock(),c=o[0].getECBlocks();try{for(var l=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(c),f=l.next();!f.done;f=l.next()){var d=f.value;s+=d.getCount()*(d.getDataCodewords()+u)}}catch(h){r={error:h}}finally{try{f&&!f.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}this.totalCodewords=s}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!=1)throw new M;try{return this.getVersionForNumber((e-17)/4)}catch{throw new M}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new F;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var n=Number.MAX_SAFE_INTEGER,r=0,i=0;i<t.VERSION_DECODE_INFO.length;i++){var o=t.VERSION_DECODE_INFO[i];if(o===e)return t.getVersionForNumber(i+7);var a=tD.numBitsDiffering(e,o);a<n&&(r=i+7,n=a)}return n<=3?t.getVersionForNumber(r):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),n=new ln(e);n.setRegion(0,0,9,9),n.setRegion(e-8,0,8,9),n.setRegion(0,e-8,9,8);for(var r=this.alignmentPatternCenters.length,i=0;i<r;i++)for(var o=this.alignmentPatternCenters[i]-2,a=0;a<r;a++)0===i&&(0===a||a===r-1)||i===r-1&&0===a||n.setRegion(this.alignmentPatternCenters[a]-2,o,5,5);return n.setRegion(6,9,1,e-17),n.setRegion(9,6,e-17,1),this.versionNumber>6&&(n.setRegion(e-11,0,3,6),n.setRegion(0,e-11,6,3)),n},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new C(7,new _(1,19)),new C(10,new _(1,16)),new C(13,new _(1,13)),new C(17,new _(1,9))),new t(2,Int32Array.from([6,18]),new C(10,new _(1,34)),new C(16,new _(1,28)),new C(22,new _(1,22)),new C(28,new _(1,16))),new t(3,Int32Array.from([6,22]),new C(15,new _(1,55)),new C(26,new _(1,44)),new C(18,new _(2,17)),new C(22,new _(2,13))),new t(4,Int32Array.from([6,26]),new C(20,new _(1,80)),new C(18,new _(2,32)),new C(26,new _(2,24)),new C(16,new _(4,9))),new t(5,Int32Array.from([6,30]),new C(26,new _(1,108)),new C(24,new _(2,43)),new C(18,new _(2,15),new _(2,16)),new C(22,new _(2,11),new _(2,12))),new t(6,Int32Array.from([6,34]),new C(18,new _(2,68)),new C(16,new _(4,27)),new C(24,new _(4,19)),new C(28,new _(4,15))),new t(7,Int32Array.from([6,22,38]),new C(20,new _(2,78)),new C(18,new _(4,31)),new C(18,new _(2,14),new _(4,15)),new C(26,new _(4,13),new _(1,14))),new t(8,Int32Array.from([6,24,42]),new C(24,new _(2,97)),new C(22,new _(2,38),new _(2,39)),new C(22,new _(4,18),new _(2,19)),new C(26,new _(4,14),new _(2,15))),new t(9,Int32Array.from([6,26,46]),new C(30,new _(2,116)),new C(22,new _(3,36),new _(2,37)),new C(20,new _(4,16),new _(4,17)),new C(24,new _(4,12),new _(4,13))),new t(10,Int32Array.from([6,28,50]),new C(18,new _(2,68),new _(2,69)),new C(26,new _(4,43),new _(1,44)),new C(24,new _(6,19),new _(2,20)),new C(28,new _(6,15),new _(2,16))),new t(11,Int32Array.from([6,30,54]),new C(20,new _(4,81)),new C(30,new _(1,50),new _(4,51)),new C(28,new _(4,22),new _(4,23)),new C(24,new _(3,12),new _(8,13))),new t(12,Int32Array.from([6,32,58]),new C(24,new _(2,92),new _(2,93)),new C(22,new _(6,36),new _(2,37)),new C(26,new _(4,20),new _(6,21)),new C(28,new _(7,14),new _(4,15))),new t(13,Int32Array.from([6,34,62]),new C(26,new _(4,107)),new C(22,new _(8,37),new _(1,38)),new C(24,new _(8,20),new _(4,21)),new C(22,new _(12,11),new _(4,12))),new t(14,Int32Array.from([6,26,46,66]),new C(30,new _(3,115),new _(1,116)),new C(24,new _(4,40),new _(5,41)),new C(20,new _(11,16),new _(5,17)),new C(24,new _(11,12),new _(5,13))),new t(15,Int32Array.from([6,26,48,70]),new C(22,new _(5,87),new _(1,88)),new C(24,new _(5,41),new _(5,42)),new C(30,new _(5,24),new _(7,25)),new C(24,new _(11,12),new _(7,13))),new t(16,Int32Array.from([6,26,50,74]),new C(24,new _(5,98),new _(1,99)),new C(28,new _(7,45),new _(3,46)),new C(24,new _(15,19),new _(2,20)),new C(30,new _(3,15),new _(13,16))),new t(17,Int32Array.from([6,30,54,78]),new C(28,new _(1,107),new _(5,108)),new C(28,new _(10,46),new _(1,47)),new C(28,new _(1,22),new _(15,23)),new C(28,new _(2,14),new _(17,15))),new t(18,Int32Array.from([6,30,56,82]),new C(30,new _(5,120),new _(1,121)),new C(26,new _(9,43),new _(4,44)),new C(28,new _(17,22),new _(1,23)),new C(28,new _(2,14),new _(19,15))),new t(19,Int32Array.from([6,30,58,86]),new C(28,new _(3,113),new _(4,114)),new C(26,new _(3,44),new _(11,45)),new C(26,new _(17,21),new _(4,22)),new C(26,new _(9,13),new _(16,14))),new t(20,Int32Array.from([6,34,62,90]),new C(28,new _(3,107),new _(5,108)),new C(26,new _(3,41),new _(13,42)),new C(30,new _(15,24),new _(5,25)),new C(28,new _(15,15),new _(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new C(28,new _(4,116),new _(4,117)),new C(26,new _(17,42)),new C(28,new _(17,22),new _(6,23)),new C(30,new _(19,16),new _(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new C(28,new _(2,111),new _(7,112)),new C(28,new _(17,46)),new C(30,new _(7,24),new _(16,25)),new C(24,new _(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new C(30,new _(4,121),new _(5,122)),new C(28,new _(4,47),new _(14,48)),new C(30,new _(11,24),new _(14,25)),new C(30,new _(16,15),new _(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new C(30,new _(6,117),new _(4,118)),new C(28,new _(6,45),new _(14,46)),new C(30,new _(11,24),new _(16,25)),new C(30,new _(30,16),new _(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new C(26,new _(8,106),new _(4,107)),new C(28,new _(8,47),new _(13,48)),new C(30,new _(7,24),new _(22,25)),new C(30,new _(22,15),new _(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new C(28,new _(10,114),new _(2,115)),new C(28,new _(19,46),new _(4,47)),new C(28,new _(28,22),new _(6,23)),new C(30,new _(33,16),new _(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new C(30,new _(8,122),new _(4,123)),new C(28,new _(22,45),new _(3,46)),new C(30,new _(8,23),new _(26,24)),new C(30,new _(12,15),new _(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new C(30,new _(3,117),new _(10,118)),new C(28,new _(3,45),new _(23,46)),new C(30,new _(4,24),new _(31,25)),new C(30,new _(11,15),new _(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new C(30,new _(7,116),new _(7,117)),new C(28,new _(21,45),new _(7,46)),new C(30,new _(1,23),new _(37,24)),new C(30,new _(19,15),new _(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new C(30,new _(5,115),new _(10,116)),new C(28,new _(19,47),new _(10,48)),new C(30,new _(15,24),new _(25,25)),new C(30,new _(23,15),new _(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new C(30,new _(13,115),new _(3,116)),new C(28,new _(2,46),new _(29,47)),new C(30,new _(42,24),new _(1,25)),new C(30,new _(23,15),new _(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new C(30,new _(17,115)),new C(28,new _(10,46),new _(23,47)),new C(30,new _(10,24),new _(35,25)),new C(30,new _(19,15),new _(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new C(30,new _(17,115),new _(1,116)),new C(28,new _(14,46),new _(21,47)),new C(30,new _(29,24),new _(19,25)),new C(30,new _(11,15),new _(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new C(30,new _(13,115),new _(6,116)),new C(28,new _(14,46),new _(23,47)),new C(30,new _(44,24),new _(7,25)),new C(30,new _(59,16),new _(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new C(30,new _(12,121),new _(7,122)),new C(28,new _(12,47),new _(26,48)),new C(30,new _(39,24),new _(14,25)),new C(30,new _(22,15),new _(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new C(30,new _(6,121),new _(14,122)),new C(28,new _(6,47),new _(34,48)),new C(30,new _(46,24),new _(10,25)),new C(30,new _(2,15),new _(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new C(30,new _(17,122),new _(4,123)),new C(28,new _(29,46),new _(14,47)),new C(30,new _(49,24),new _(10,25)),new C(30,new _(24,15),new _(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new C(30,new _(4,122),new _(18,123)),new C(28,new _(13,46),new _(32,47)),new C(30,new _(48,24),new _(14,25)),new C(30,new _(42,15),new _(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new C(30,new _(20,117),new _(4,118)),new C(28,new _(40,47),new _(7,48)),new C(30,new _(43,24),new _(22,25)),new C(30,new _(10,15),new _(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new C(30,new _(19,118),new _(6,119)),new C(28,new _(18,47),new _(31,48)),new C(30,new _(34,24),new _(34,25)),new C(30,new _(20,15),new _(61,16)))],t}();const Zi=Cz;var At=function(t){return t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111",t}(At||{}),xz=function(){function t(e,n){this.value=e,this.isMasked=n}return t.prototype.unmaskBitMatrix=function(e,n){for(var r=0;r<n;r++)for(var i=0;i<n;i++)this.isMasked(r,i)&&e.flip(i,r)},t.values=new Map([[At.DATA_MASK_000,new t(At.DATA_MASK_000,function(e,n){return 0==(e+n&1)})],[At.DATA_MASK_001,new t(At.DATA_MASK_001,function(e,n){return 0==(1&e)})],[At.DATA_MASK_010,new t(At.DATA_MASK_010,function(e,n){return n%3==0})],[At.DATA_MASK_011,new t(At.DATA_MASK_011,function(e,n){return(e+n)%3==0})],[At.DATA_MASK_100,new t(At.DATA_MASK_100,function(e,n){return 0==(Math.floor(e/2)+Math.floor(n/3)&1)})],[At.DATA_MASK_101,new t(At.DATA_MASK_101,function(e,n){return e*n%6==0})],[At.DATA_MASK_110,new t(At.DATA_MASK_110,function(e,n){return e*n%6<3})],[At.DATA_MASK_111,new t(At.DATA_MASK_111,function(e,n){return 0==(e+n+e*n%3&1)})]]),t}();const nD=xz;var Az=function(){function t(e){var n=e.getHeight();if(n<21||1!=(3&n))throw new M;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(null!=this.parsedFormatInfo)return this.parsedFormatInfo;for(var e=0,n=0;n<6;n++)e=this.copyBit(n,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var r=5;r>=0;r--)e=this.copyBit(8,r,e);var i=this.bitMatrix.getHeight(),o=0,a=i-7;for(r=i-1;r>=a;r--)o=this.copyBit(8,r,o);for(n=i-8;n<i;n++)o=this.copyBit(n,8,o);if(this.parsedFormatInfo=tD.decodeFormatInformation(e,o),null!==this.parsedFormatInfo)return this.parsedFormatInfo;throw new M},t.prototype.readVersion=function(){if(null!=this.parsedVersion)return this.parsedVersion;var e=this.bitMatrix.getHeight(),n=Math.floor((e-17)/4);if(n<=6)return Zi.getVersionForNumber(n);for(var r=0,i=e-11,o=5;o>=0;o--)for(var a=e-9;a>=i;a--)r=this.copyBit(a,o,r);var s=Zi.decodeVersionInformation(r);if(null!==s&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;for(r=0,a=5;a>=0;a--)for(o=e-9;o>=i;o--)r=this.copyBit(a,o,r);if(null!==(s=Zi.decodeVersionInformation(r))&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;throw new M},t.prototype.copyBit=function(e,n,r){return(this.isMirror?this.bitMatrix.get(n,e):this.bitMatrix.get(e,n))?r<<1|1:r<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),n=this.readVersion(),r=nD.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,i);for(var o=n.buildFunctionPattern(),a=!0,s=new Uint8Array(n.getTotalCodewords()),u=0,c=0,l=0,f=i-1;f>0;f-=2){6===f&&f--;for(var d=0;d<i;d++)for(var h=a?i-1-d:d,p=0;p<2;p++)o.get(f-p,h)||(l++,c<<=1,this.bitMatrix.get(f-p,h)&&(c|=1),8===l&&(s[u++]=c,l=0,c=0));a=!a}if(u!==n.getTotalCodewords())throw new M;return s},t.prototype.remask=function(){if(null!==this.parsedFormatInfo){var e=nD.values.get(this.parsedFormatInfo.getDataMask()),n=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,n)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,n=0,r=e.getWidth();n<r;n++)for(var i=n+1,o=e.getHeight();i<o;i++)e.get(n,i)!==e.get(i,n)&&(e.flip(i,n),e.flip(n,i))},t}();const Dz=Az;var rD=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Sz=function(){function t(e,n){this.numDataCodewords=e,this.codewords=n}return t.getDataBlocks=function(e,n,r){var i,o,a,s;if(e.length!==n.getTotalCodewords())throw new F;var u=n.getECBlocksForLevel(r),c=0,l=u.getECBlocks();try{for(var f=rD(l),d=f.next();!d.done;d=f.next())c+=(h=d.value).getCount()}catch(We){i={error:We}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}var p=new Array(c),g=0;try{for(var m=rD(l),y=m.next();!y.done;y=m.next())for(var h=y.value,v=0;v<h.getCount();v++){var w=h.getDataCodewords(),E=u.getECCodewordsPerBlock()+w;p[g++]=new t(w,new Uint8Array(E))}}catch(We){a={error:We}}finally{try{y&&!y.done&&(s=m.return)&&s.call(m)}finally{if(a)throw a.error}}for(var x=p[0].codewords.length,D=p.length-1;D>=0&&p[D].codewords.length!==x;)D--;D++;var R=x-u.getECCodewordsPerBlock(),j=0;for(v=0;v<R;v++)for(var H=0;H<g;H++)p[H].codewords[v]=e[j++];for(H=D;H<g;H++)p[H].codewords[R]=e[j++];var ze=p[0].codewords.length;for(v=R;v<ze;v++)for(H=0;H<g;H++)p[H].codewords[H<D?v:v+1]=e[j++];return p},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}();const Iz=Sz;var ir=function(t){return t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI",t}(ir||{}),bz=function(){function t(e,n,r,i){this.value=e,this.stringValue=n,this.characterCountBitsForVersions=r,this.bits=i,t.FOR_BITS.set(i,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var n=t.FOR_BITS.get(e);if(void 0===n)throw new F;return n},t.prototype.getCharacterCountBits=function(e){var n=e.getVersionNumber();return this.characterCountBitsForVersions[n<=9?0:n<=26?1:2]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){return e instanceof t&&this.value===e.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(ir.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(ir.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(ir.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(ir.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(ir.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(ir.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(ir.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(ir.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(ir.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(ir.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t}();const ke=bz;var Oz=function(){function t(){}return t.decode=function(e,n,r,i){var o=new eD(e),a=new ee,s=new Array,u=-1,c=-1;try{var l=null,f=!1,d=void 0;do{if(o.available()<4)d=ke.TERMINATOR;else{var h=o.readBits(4);d=ke.forBits(h)}switch(d){case ke.TERMINATOR:break;case ke.FNC1_FIRST_POSITION:case ke.FNC1_SECOND_POSITION:f=!0;break;case ke.STRUCTURED_APPEND:if(o.available()<16)throw new M;u=o.readBits(8),c=o.readBits(8);break;case ke.ECI:var p=t.parseECIValue(o);if(null===(l=ut.getCharacterSetECIByValue(p)))throw new M;break;case ke.HANZI:var g=o.readBits(4),m=o.readBits(d.getCharacterCountBits(n));g===t.GB2312_SUBSET&&t.decodeHanziSegment(o,a,m);break;default:var y=o.readBits(d.getCharacterCountBits(n));switch(d){case ke.NUMERIC:t.decodeNumericSegment(o,a,y);break;case ke.ALPHANUMERIC:t.decodeAlphanumericSegment(o,a,y,f);break;case ke.BYTE:t.decodeByteSegment(o,a,y,l,s,i);break;case ke.KANJI:t.decodeKanjiSegment(o,a,y);break;default:throw new M}}}while(d!==ke.TERMINATOR)}catch{throw new M}return new Yl(e,a.toString(),0===s.length?null:s,null===r?null:r.toString(),u,c)},t.decodeHanziSegment=function(e,n,r){if(13*r>e.available())throw new M;for(var i=new Uint8Array(2*r),o=0;r>0;){var a=e.readBits(13),s=a/96<<8&4294967295|a%96;i[o]=(s+=s<959?41377:42657)>>8&255,i[o+1]=255&s,o+=2,r--}try{n.append(Hn.decode(i,ae.GB2312))}catch(u){throw new M(u)}},t.decodeKanjiSegment=function(e,n,r){if(13*r>e.available())throw new M;for(var i=new Uint8Array(2*r),o=0;r>0;){var a=e.readBits(13),s=a/192<<8&4294967295|a%192;i[o]=(s+=s<7936?33088:49472)>>8,i[o+1]=s,o+=2,r--}try{n.append(Hn.decode(i,ae.SHIFT_JIS))}catch(u){throw new M(u)}},t.decodeByteSegment=function(e,n,r,i,o,a){if(8*r>e.available())throw new M;for(var s=new Uint8Array(r),u=0;u<r;u++)s[u]=e.readBits(8);var c;c=null===i?ae.guessEncoding(s,a):i.getName();try{n.append(Hn.decode(s,c))}catch(l){throw new M(l)}o.push(s)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new M;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,n,r,i){for(var o=n.length();r>1;){if(e.available()<11)throw new M;var a=e.readBits(11);n.append(t.toAlphaNumericChar(Math.floor(a/45))),n.append(t.toAlphaNumericChar(a%45)),r-=2}if(1===r){if(e.available()<6)throw new M;n.append(t.toAlphaNumericChar(e.readBits(6)))}if(i)for(var s=o;s<n.length();s++)"%"===n.charAt(s)&&(s<n.length()-1&&"%"===n.charAt(s+1)?n.deleteCharAt(s+1):n.setCharAt(s,String.fromCharCode(29)))},t.decodeNumericSegment=function(e,n,r){for(;r>=3;){if(e.available()<10)throw new M;var i=e.readBits(10);if(i>=1e3)throw new M;n.append(t.toAlphaNumericChar(Math.floor(i/100))),n.append(t.toAlphaNumericChar(Math.floor(i/10)%10)),n.append(t.toAlphaNumericChar(i%10)),r-=3}if(2===r){if(e.available()<7)throw new M;var o=e.readBits(7);if(o>=100)throw new M;n.append(t.toAlphaNumericChar(Math.floor(o/10))),n.append(t.toAlphaNumericChar(o%10))}else if(1===r){if(e.available()<4)throw new M;var a=e.readBits(4);if(a>=10)throw new M;n.append(t.toAlphaNumericChar(a))}},t.parseECIValue=function(e){var n=e.readBits(8);if(!(128&n))return 127&n;if(128==(192&n))return(63&n)<<8&4294967295|e.readBits(8);if(192==(224&n))return(31&n)<<16&4294967295|e.readBits(16);throw new M},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t}();const Mz=Oz;var Tz=function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(this.mirrored&&null!==e&&!(e.length<3)){var n=e[0];e[0]=e[2],e[2]=n}},t}();const iD=Tz;var oD=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Rz=function(){function t(){this.rsDecoder=new Ql(fn.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,n){return this.decodeBitMatrix(ln.parseFromBooleanArray(e),n)},t.prototype.decodeBitMatrix=function(e,n){var r=new Dz(e),i=null;try{return this.decodeBitMatrixParser(r,n)}catch(a){i=a}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();var o=this.decodeBitMatrixParser(r,n);return o.setOther(new iD(!0)),o}catch(a){throw null!==i?i:a}},t.prototype.decodeBitMatrixParser=function(e,n){var r,i,o,a,s=e.readVersion(),u=e.readFormatInformation().getErrorCorrectionLevel(),c=e.readCodewords(),l=Iz.getDataBlocks(c,s,u),f=0;try{for(var d=oD(l),h=d.next();!h.done;h=d.next())f+=(p=h.value).getNumDataCodewords()}catch(D){r={error:D}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}var g=new Uint8Array(f),m=0;try{for(var y=oD(l),v=y.next();!v.done;v=y.next()){var p,w=(p=v.value).getCodewords(),E=p.getNumDataCodewords();this.correctErrors(w,E);for(var x=0;x<E;x++)g[m++]=w[x]}}catch(D){o={error:D}}finally{try{v&&!v.done&&(a=y.return)&&a.call(y)}finally{if(o)throw o.error}}return Mz.decode(g,s,u,n)},t.prototype.correctErrors=function(e,n){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-n)}catch{throw new tt}for(var i=0;i<n;i++)e[i]=r[i]},t}();const Nz=Rz;var Pz=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fz=function(t){function e(n,r,i){var o=t.call(this,n,r)||this;return o.estimatedModuleSize=i,o}return Pz(e,t),e.prototype.aboutEquals=function(n,r,i){if(Math.abs(r-this.getY())<=n&&Math.abs(i-this.getX())<=n){var o=Math.abs(n-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(n,r,i){return new e((this.getX()+r)/2,(this.getY()+n)/2,(this.estimatedModuleSize+i)/2)},e}(L);const Lz=Fz;var Bz=function(){function t(e,n,r,i,o,a,s){this.image=e,this.startX=n,this.startY=r,this.width=i,this.height=o,this.moduleSize=a,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,n=this.height,i=e+this.width,o=this.startY+n/2,a=new Int32Array(3),s=this.image,u=0;u<n;u++){var c=o+(1&u?-Math.floor((u+1)/2):Math.floor((u+1)/2));a[0]=0,a[1]=0,a[2]=0;for(var l=e;l<i&&!s.get(l,c);)l++;for(var f=0;l<i;){if(s.get(l,c))if(1===f)a[1]++;else if(2===f){var d;if(this.foundPatternCross(a)&&null!==(d=this.handlePossibleCenter(a,c,l)))return d;a[0]=a[2],a[1]=1,a[2]=0,f=1}else a[++f]++;else 1===f&&f++,a[f]++;l++}if(this.foundPatternCross(a)&&null!==(d=this.handlePossibleCenter(a,c,i)))return d}if(0!==this.possibleCenters.length)return this.possibleCenters[0];throw new A},t.centerFromEnd=function(e,n){return n-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var n=this.moduleSize,r=n/2,i=0;i<3;i++)if(Math.abs(n-e[i])>=r)return!1;return!0},t.prototype.crossCheckVertical=function(e,n,r,i){var o=this.image,a=o.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;for(var u=e;u>=0&&o.get(n,u)&&s[1]<=r;)s[1]++,u--;if(u<0||s[1]>r)return NaN;for(;u>=0&&!o.get(n,u)&&s[0]<=r;)s[0]++,u--;if(s[0]>r)return NaN;for(u=e+1;u<a&&o.get(n,u)&&s[1]<=r;)s[1]++,u++;if(u===a||s[1]>r)return NaN;for(;u<a&&!o.get(n,u)&&s[2]<=r;)s[2]++,u++;return s[2]>r||5*Math.abs(s[0]+s[1]+s[2]-i)>=2*i?NaN:this.foundPatternCross(s)?t.centerFromEnd(s,u):NaN},t.prototype.handlePossibleCenter=function(e,n,r){var i,o,a=e[0]+e[1]+e[2],s=t.centerFromEnd(e,r),u=this.crossCheckVertical(n,s,2*e[1],a);if(!isNaN(u)){var c=(e[0]+e[1]+e[2])/3;try{for(var l=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.possibleCenters),f=l.next();!f.done;f=l.next()){var d=f.value;if(d.aboutEquals(c,u,s))return d.combineEstimate(u,s,c)}}catch(p){i={error:p}}finally{try{f&&!f.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}var h=new Lz(s,u,c);this.possibleCenters.push(h),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(h)}return null},t}();const Vz=Bz;var Uz=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hz=function(t){function e(n,r,i,o){var a=t.call(this,n,r)||this;return a.estimatedModuleSize=i,a.count=o,void 0===o&&(a.count=1),a}return Uz(e,t),e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(n,r,i){if(Math.abs(r-this.getY())<=n&&Math.abs(i-this.getX())<=n){var o=Math.abs(n-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(n,r,i){var o=this.count+1;return new e((this.count*this.getX()+r)/o,(this.count*this.getY()+n)/o,(this.count*this.estimatedModuleSize+i)/o,o)},e}(L);const jz=Hz;var $z=function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t}();const Gz=$z;var su=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zz=function(){function t(e,n){this.image=e,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var n=null!=e&&void 0!==e.get(me.TRY_HARDER),r=null!=e&&void 0!==e.get(me.PURE_BARCODE),i=this.image,o=i.getHeight(),a=i.getWidth(),s=Math.floor(3*o/(4*t.MAX_MODULES));(s<t.MIN_SKIP||n)&&(s=t.MIN_SKIP);for(var u=!1,c=new Int32Array(5),l=s-1;l<o&&!u;l+=s){c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0;for(var f=0,d=0;d<a;d++)if(i.get(d,l))1==(1&f)&&f++,c[f]++;else if(1&f)c[f]++;else if(4===f)if(t.foundPatternCross(c)){if(!0!==this.handlePossibleCenter(c,l,d,r)){c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,f=3;continue}if(s=2,!0===this.hasSkipped)u=this.haveMultiplyConfirmedCenters();else{var p=this.findRowSkip();p>c[2]&&(l+=p-c[2]-s,d=a-1)}f=0,c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0}else c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,f=3;else c[++f]++;t.foundPatternCross(c)&&!0===this.handlePossibleCenter(c,l,a,r)&&(s=c[0],this.hasSkipped&&(u=this.haveMultiplyConfirmedCenters()))}var g=this.selectBestPatterns();return L.orderBestPatterns(g),new Gz(g)},t.centerFromEnd=function(e,n){return n-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var n=0,r=0;r<5;r++){var i=e[r];if(0===i)return!1;n+=i}if(n<7)return!1;var o=n/7,a=o/2;return Math.abs(o-e[0])<a&&Math.abs(o-e[1])<a&&Math.abs(3*o-e[2])<3*a&&Math.abs(o-e[3])<a&&Math.abs(o-e[4])<a},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,n,r,i){for(var o=this.getCrossCheckStateCount(),a=0,s=this.image;e>=a&&n>=a&&s.get(n-a,e-a);)o[2]++,a++;if(e<a||n<a)return!1;for(;e>=a&&n>=a&&!s.get(n-a,e-a)&&o[1]<=r;)o[1]++,a++;if(e<a||n<a||o[1]>r)return!1;for(;e>=a&&n>=a&&s.get(n-a,e-a)&&o[0]<=r;)o[0]++,a++;if(o[0]>r)return!1;var u=s.getHeight(),c=s.getWidth();for(a=1;e+a<u&&n+a<c&&s.get(n+a,e+a);)o[2]++,a++;if(e+a>=u||n+a>=c)return!1;for(;e+a<u&&n+a<c&&!s.get(n+a,e+a)&&o[3]<r;)o[3]++,a++;if(e+a>=u||n+a>=c||o[3]>=r)return!1;for(;e+a<u&&n+a<c&&s.get(n+a,e+a)&&o[4]<r;)o[4]++,a++;return!(o[4]>=r)&&Math.abs(o[0]+o[1]+o[2]+o[3]+o[4]-i)<2*i&&t.foundPatternCross(o)},t.prototype.crossCheckVertical=function(e,n,r,i){for(var o=this.image,a=o.getHeight(),s=this.getCrossCheckStateCount(),u=e;u>=0&&o.get(n,u);)s[2]++,u--;if(u<0)return NaN;for(;u>=0&&!o.get(n,u)&&s[1]<=r;)s[1]++,u--;if(u<0||s[1]>r)return NaN;for(;u>=0&&o.get(n,u)&&s[0]<=r;)s[0]++,u--;if(s[0]>r)return NaN;for(u=e+1;u<a&&o.get(n,u);)s[2]++,u++;if(u===a)return NaN;for(;u<a&&!o.get(n,u)&&s[3]<r;)s[3]++,u++;if(u===a||s[3]>=r)return NaN;for(;u<a&&o.get(n,u)&&s[4]<r;)s[4]++,u++;return s[4]>=r||5*Math.abs(s[0]+s[1]+s[2]+s[3]+s[4]-i)>=2*i?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,u):NaN},t.prototype.crossCheckHorizontal=function(e,n,r,i){for(var o=this.image,a=o.getWidth(),s=this.getCrossCheckStateCount(),u=e;u>=0&&o.get(u,n);)s[2]++,u--;if(u<0)return NaN;for(;u>=0&&!o.get(u,n)&&s[1]<=r;)s[1]++,u--;if(u<0||s[1]>r)return NaN;for(;u>=0&&o.get(u,n)&&s[0]<=r;)s[0]++,u--;if(s[0]>r)return NaN;for(u=e+1;u<a&&o.get(u,n);)s[2]++,u++;if(u===a)return NaN;for(;u<a&&!o.get(u,n)&&s[3]<r;)s[3]++,u++;if(u===a||s[3]>=r)return NaN;for(;u<a&&o.get(u,n)&&s[4]<r;)s[4]++,u++;return s[4]>=r||5*Math.abs(s[0]+s[1]+s[2]+s[3]+s[4]-i)>=i?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,u):NaN},t.prototype.handlePossibleCenter=function(e,n,r,i){var o=e[0]+e[1]+e[2]+e[3]+e[4],a=t.centerFromEnd(e,r),s=this.crossCheckVertical(n,Math.floor(a),e[2],o);if(!isNaN(s)&&(a=this.crossCheckHorizontal(Math.floor(a),Math.floor(s),e[2],o),!isNaN(a)&&(!i||this.crossCheckDiagonal(Math.floor(s),Math.floor(a),e[2],o)))){for(var u=o/7,c=!1,l=this.possibleCenters,f=0,d=l.length;f<d;f++){var h=l[f];if(h.aboutEquals(u,s,a)){l[f]=h.combineEstimate(s,a,u),c=!0;break}}if(!c){var p=new jz(a,s,u);l.push(p),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(p)}return!0}return!1},t.prototype.findRowSkip=function(){var e,n;if(this.possibleCenters.length<=1)return 0;var i=null;try{for(var o=su(this.possibleCenters),a=o.next();!a.done;a=o.next()){var s=a.value;if(s.getCount()>=t.CENTER_QUORUM){if(null!=i)return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-s.getX())-Math.abs(i.getY()-s.getY()))/2);i=s}}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,n,r,i,o=0,a=0,s=this.possibleCenters.length;try{for(var u=su(this.possibleCenters),c=u.next();!c.done;c=u.next())(l=c.value).getCount()>=t.CENTER_QUORUM&&(o++,a+=l.getEstimatedModuleSize())}catch(g){e={error:g}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}if(o<3)return!1;var f=a/s,d=0;try{for(var h=su(this.possibleCenters),p=h.next();!p.done;p=h.next()){var l=p.value;d+=Math.abs(l.getEstimatedModuleSize()-f)}}catch(g){r={error:g}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}return d<=.05*a},t.prototype.selectBestPatterns=function(){var e,n,r,i,o=this.possibleCenters.length;if(o<3)throw new A;var s,a=this.possibleCenters;if(o>3){var u=0,c=0;try{for(var l=su(this.possibleCenters),f=l.next();!f.done;f=l.next()){var h=f.value.getEstimatedModuleSize();u+=h,c+=h*h}}catch(x){e={error:x}}finally{try{f&&!f.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}s=u/o;var p=Math.sqrt(c/o-s*s);a.sort(function(x,D){var O=Math.abs(D.getEstimatedModuleSize()-s),R=Math.abs(x.getEstimatedModuleSize()-s);return O<R?-1:O>R?1:0});for(var g=Math.max(.2*s,p),m=0;m<a.length&&a.length>3;m++)Math.abs(a[m].getEstimatedModuleSize()-s)>g&&(a.splice(m,1),m--)}if(a.length>3){u=0;try{for(var v=su(a),w=v.next();!w.done;w=v.next())u+=w.value.getEstimatedModuleSize()}catch(D){r={error:D}}finally{try{w&&!w.done&&(i=v.return)&&i.call(v)}finally{if(r)throw r.error}}s=u/a.length,a.sort(function(D,O){if(O.getCount()===D.getCount()){var R=Math.abs(O.getEstimatedModuleSize()-s),j=Math.abs(D.getEstimatedModuleSize()-s);return R<j?1:R>j?-1:0}return O.getCount()-D.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t}();const Wz=zz;var Xz=function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=null==e?null:e.get(me.NEED_RESULT_POINT_CALLBACK);var r=new Wz(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(r)},t.prototype.processFinderPatternInfo=function(e){var n=e.getTopLeft(),r=e.getTopRight(),i=e.getBottomLeft(),o=this.calculateModuleSize(n,r,i);if(o<1)throw new A("No pattern found in proccess finder.");var a=t.computeDimension(n,r,i,o),s=Zi.getProvisionalVersionForDimension(a),u=s.getDimensionForVersion()-7,c=null;if(s.getAlignmentPatternCenters().length>0)for(var l=r.getX()-n.getX()+i.getX(),f=r.getY()-n.getY()+i.getY(),d=1-3/u,h=Math.floor(n.getX()+d*(l-n.getX())),p=Math.floor(n.getY()+d*(f-n.getY())),g=4;g<=16;g<<=1)try{c=this.findAlignmentInRegion(o,h,p,g);break}catch(w){if(!(w instanceof A))throw w}var m=t.createTransform(n,r,i,c,a),y=t.sampleGrid(this.image,m,a);return new I1(y,null===c?[i,n,r]:[i,n,r,c])},t.createTransform=function(e,n,r,i,o){var s,u,c,l,a=o-3.5;return null!==i?(s=i.getX(),u=i.getY(),l=c=a-3):(s=n.getX()-e.getX()+r.getX(),u=n.getY()-e.getY()+r.getY(),c=a,l=a),LA.quadrilateralToQuadrilateral(3.5,3.5,a,3.5,c,l,3.5,a,e.getX(),e.getY(),n.getX(),n.getY(),s,u,r.getX(),r.getY())},t.sampleGrid=function(e,n,r){return O1.getInstance().sampleGridWithTransform(e,r,r,n)},t.computeDimension=function(e,n,r,i){var o=pe.round(L.distance(e,n)/i),a=pe.round(L.distance(e,r)/i),s=Math.floor((o+a)/2)+7;switch(3&s){case 0:s++;break;case 2:s--;break;case 3:throw new A("Dimensions could be not found.")}return s},t.prototype.calculateModuleSize=function(e,n,r){return(this.calculateModuleSizeOneWay(e,n)+this.calculateModuleSizeOneWay(e,r))/2},t.prototype.calculateModuleSizeOneWay=function(e,n){var r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(n.getX()),Math.floor(n.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?i/7:isNaN(i)?r/7:(r+i)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,n,r,i){var o=this.sizeOfBlackWhiteBlackRun(e,n,r,i),a=1,s=e-(r-e);s<0?(a=e/(e-s),s=0):s>=this.image.getWidth()&&(a=(this.image.getWidth()-1-e)/(s-e),s=this.image.getWidth()-1);var u=Math.floor(n-(i-n)*a);return a=1,u<0?(a=n/(n-u),u=0):u>=this.image.getHeight()&&(a=(this.image.getHeight()-1-n)/(u-n),u=this.image.getHeight()-1),s=Math.floor(e+(s-e)*a),(o+=this.sizeOfBlackWhiteBlackRun(e,n,s,u))-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,n,r,i){var o=Math.abs(i-n)>Math.abs(r-e);if(o){var a=e;e=n,n=a,a=r,r=i,i=a}for(var s=Math.abs(r-e),u=Math.abs(i-n),c=-s/2,l=e<r?1:-1,f=n<i?1:-1,d=0,h=r+l,p=e,g=n;p!==h;p+=l){if(1===d===this.image.get(o?g:p,o?p:g)){if(2===d)return pe.distance(p,g,e,n);d++}if((c+=u)>0){if(g===i)break;g+=f,c-=s}}return 2===d?pe.distance(r+l,i,e,n):NaN},t.prototype.findAlignmentInRegion=function(e,n,r,i){var o=Math.floor(i*e),a=Math.max(0,n-o),s=Math.min(this.image.getWidth()-1,n+o);if(s-a<3*e)throw new A("Alignment top exceeds estimated module size.");var u=Math.max(0,r-o),c=Math.min(this.image.getHeight()-1,r+o);if(c-u<3*e)throw new A("Alignment bottom exceeds estimated module size.");return new Vz(this.image,a,u,s-a,c-u,e,this.resultPointCallback).find()},t}();const qz=Xz;var Zz=function(){function t(){this.decoder=new Nz}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,n){var r,i;if(null!=n&&void 0!==n.get(me.PURE_BARCODE)){var o=t.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(o,n),i=t.NO_POINTS}else{var a=new qz(e.getBlackMatrix()).detect(n);r=this.decoder.decodeBitMatrix(a.getBits(),n),i=a.getPoints()}r.getOther()instanceof iD&&r.getOther().applyMirroredCorrection(i);var s=new Mt(r.getText(),r.getRawBytes(),void 0,i,B.QR_CODE,void 0),u=r.getByteSegments();null!==u&&s.putMetadata(xt.BYTE_SEGMENTS,u);var c=r.getECLevel();return null!==c&&s.putMetadata(xt.ERROR_CORRECTION_LEVEL,c),r.hasStructuredAppend()&&(s.putMetadata(xt.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),s.putMetadata(xt.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),s},t.prototype.reset=function(){},t.extractPureBits=function(e){var n=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(null===n||null===r)throw new A;var i=this.moduleSize(n,e),o=n[1],a=r[1],s=n[0],u=r[0];if(s>=u||o>=a)throw new A;if(a-o!=u-s&&(u=s+(a-o))>=e.getWidth())throw new A;var c=Math.round((u-s+1)/i),l=Math.round((a-o+1)/i);if(c<=0||l<=0)throw new A;if(l!==c)throw new A;var f=Math.floor(i/2);o+=f;var d=(s+=f)+Math.floor((c-1)*i)-u;if(d>0){if(d>f)throw new A;s-=d}var h=o+Math.floor((l-1)*i)-a;if(h>0){if(h>f)throw new A;o-=h}for(var p=new ln(c,l),g=0;g<l;g++)for(var m=o+Math.floor(g*i),y=0;y<c;y++)e.get(s+Math.floor(y*i),m)&&p.set(y,g);return p},t.moduleSize=function(e,n){for(var r=n.getHeight(),i=n.getWidth(),o=e[0],a=e[1],s=!0,u=0;o<i&&a<r;){if(s!==n.get(o,a)){if(5==++u)break;s=!s}o++,a++}if(o===i||a===r)throw new A;return(o-e[0])/7},t.NO_POINTS=new Array,t}();const sf=Zz;var Kz=function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return pe.sum(e)},t.toIntArray=function(e){var n,r;if(null==e||!e.length)return t.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),o=0;try{for(var a=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),s=a.next();!s.done;s=a.next())i[o++]=s.value}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i},t.getCodeword=function(e){var n=rt.binarySearch(t.SYMBOL_TABLE,262143&e);return n<0?-1:(t.CODEWORD_TABLE[n]-1)%t.NUMBER_OF_CODEWORDS},t.MAX_CODEWORDS_IN_BARCODE=(t.NUMBER_OF_CODEWORDS=929)-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t}();const fe=Kz;var Qz=function(){function t(e,n){this.bits=e,this.points=n}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}();const Jz=Qz;var eW=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tW=function(){function t(){}return t.detectMultiple=function(e,n,r){var i=e.getBlackMatrix(),o=t.detect(r,i);return o.length||((i=i.clone()).rotate180(),o=t.detect(r,i)),new Jz(i,o)},t.detect=function(e,n){for(var r,i,o=new Array,a=0,s=0,u=!1;a<n.getHeight();){var c=t.findVertices(n,a,s);if(null!=c[0]||null!=c[3]){if(u=!0,o.push(c),!e)break;null!=c[2]?(s=Math.trunc(c[2].getX()),a=Math.trunc(c[2].getY())):(s=Math.trunc(c[4].getX()),a=Math.trunc(c[4].getY()))}else{if(!u)break;u=!1,s=0;try{for(var l=(r=void 0,eW(o)),f=l.next();!f.done;f=l.next()){var d=f.value;null!=d[1]&&(a=Math.trunc(Math.max(a,d[1].getY()))),null!=d[3]&&(a=Math.max(a,Math.trunc(d[3].getY())))}}catch(h){r={error:h}}finally{try{f&&!f.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}a+=t.ROW_STEP}}return o},t.findVertices=function(e,n,r){var i=e.getHeight(),o=e.getWidth(),a=new Array(8);return t.copyToResult(a,t.findRowsWithPattern(e,i,o,n,r,t.START_PATTERN),t.INDEXES_START_PATTERN),null!=a[4]&&(r=Math.trunc(a[4].getX()),n=Math.trunc(a[4].getY())),t.copyToResult(a,t.findRowsWithPattern(e,i,o,n,r,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),a},t.copyToResult=function(e,n,r){for(var i=0;i<r.length;i++)e[r[i]]=n[i]},t.findRowsWithPattern=function(e,n,r,i,o,a){for(var s=new Array(4),u=!1,c=new Int32Array(a.length);i<n;i+=t.ROW_STEP)if(null!=(l=t.findGuardPattern(e,o,i,r,!1,a,c))){for(;i>0;){if(null==(f=t.findGuardPattern(e,o,--i,r,!1,a,c))){i++;break}l=f}s[0]=new L(l[0],i),s[1]=new L(l[1],i),u=!0;break}var d=i+1;if(u){for(var h=0,f=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);d<n;d++){var l;if(null!=(l=t.findGuardPattern(e,f[0],d,r,!1,a,c))&&Math.abs(f[0]-l[0])<t.MAX_PATTERN_DRIFT&&Math.abs(f[1]-l[1])<t.MAX_PATTERN_DRIFT)f=l,h=0;else{if(h>t.SKIPPED_ROW_COUNT_MAX)break;h++}}s[2]=new L(f[0],d-=h+1),s[3]=new L(f[1],d)}return d-i<t.BARCODE_MIN_HEIGHT&&rt.fill(s,null),s},t.findGuardPattern=function(e,n,r,i,o,a,s){rt.fillWithin(s,0,s.length,0);for(var u=n,c=0;e.get(u,r)&&u>0&&c++<t.MAX_PIXEL_DRIFT;)u--;for(var l=u,f=0,d=a.length,h=o;l<i;l++)if(e.get(l,r)!==h)s[f]++;else{if(f===d-1){if(t.patternMatchVariance(s,a,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([u,l]);u+=s[0]+s[1],Fe.arraycopy(s,2,s,0,f-1),s[f-1]=0,s[f]=0,f--}else f++;s[f]=1,h=!h}return f===d-1&&t.patternMatchVariance(s,a,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([u,l-1]):null},t.patternMatchVariance=function(e,n,r){for(var i=e.length,o=0,a=0,s=0;s<i;s++)o+=e[s],a+=n[s];if(o<a)return 1/0;var u=o/a;r*=u;for(var c=0,l=0;l<i;l++){var f=e[l],d=n[l]*u,h=f>d?f-d:d-f;if(h>r)return 1/0;c+=h}return c/o},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t}();const nW=tW;var iW=function(){function t(e,n){if(0===n.length)throw new F;this.field=e;var r=n.length;if(r>1&&0===n[0]){for(var i=1;i<r&&0===n[i];)i++;i===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-i),Fe.arraycopy(n,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return 0===this.coefficients[0]},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var n,r;if(0===e)return this.getCoefficient(0);if(1===e){var i=0;try{for(var o=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.coefficients),a=o.next();!a.done;a=o.next())i=this.field.add(i,a.value)}catch(f){n={error:f}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}for(var u=this.coefficients[0],c=this.coefficients.length,l=1;l<c;l++)u=this.field.add(this.field.multiply(e,u),this.coefficients[l]);return u},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new F("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var n=this.coefficients,r=e.coefficients;if(n.length>r.length){var i=n;n=r,r=i}var o=new Int32Array(r.length),a=r.length-n.length;Fe.arraycopy(r,0,o,0,a);for(var s=a;s<r.length;s++)o[s]=this.field.add(n[s-a],r[s]);return new t(this.field,o)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new F("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new F("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var n=this.coefficients,r=n.length,i=e.coefficients,o=i.length,a=new Int32Array(r+o-1),s=0;s<r;s++)for(var u=n[s],c=0;c<o;c++)a[s+c]=this.field.add(a[s+c],this.field.multiply(u,i[c]));return new t(this.field,a)},t.prototype.negative=function(){for(var e=this.coefficients.length,n=new Int32Array(e),r=0;r<e;r++)n[r]=this.field.subtract(0,this.coefficients[r]);return new t(this.field,n)},t.prototype.multiplyScalar=function(e){if(0===e)return new t(this.field,new Int32Array([0]));if(1===e)return this;for(var n=this.coefficients.length,r=new Int32Array(n),i=0;i<n;i++)r[i]=this.field.multiply(this.coefficients[i],e);return new t(this.field,r)},t.prototype.multiplyByMonomial=function(e,n){if(e<0)throw new F;if(0===n)return new t(this.field,new Int32Array([0]));for(var r=this.coefficients.length,i=new Int32Array(r+e),o=0;o<r;o++)i[o]=this.field.multiply(this.coefficients[o],n);return new t(this.field,i)},t.prototype.toString=function(){for(var e=new ee,n=this.getDegree();n>=0;n--){var r=this.getCoefficient(n);0!==r&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),(0===n||1!==r)&&e.append(r),0!==n&&(1===n?e.append("x"):(e.append("x^"),e.append(n))))}return e.toString()},t}();const Yi=iW;var oW=function(){function t(){}return t.prototype.add=function(e,n){return(e+n)%this.modulus},t.prototype.subtract=function(e,n){return(this.modulus+e-n)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(0===e)throw new F;return this.logTable[e]},t.prototype.inverse=function(e){if(0===e)throw new NA;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,n){return 0===e||0===n?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t}();const aW=oW;var sW=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),uW=function(t){function e(n,r){var i=t.call(this)||this;i.modulus=n,i.expTable=new Int32Array(n),i.logTable=new Int32Array(n);for(var o=1,a=0;a<n;a++)i.expTable[a]=o,o=o*r%n;for(a=0;a<n-1;a++)i.logTable[i.expTable[a]]=a;return i.zero=new Yi(i,new Int32Array([0])),i.one=new Yi(i,new Int32Array([1])),i}return sW(e,t),e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(n,r){if(n<0)throw new F;if(0===r)return this.zero;var i=new Int32Array(n+1);return i[0]=r,new Yi(this,i)},e.PDF417_GF=new e(fe.NUMBER_OF_CODEWORDS,3),e}(aW);const cW=uW;var fW=function(){function t(){this.field=cW.PDF417_GF}return t.prototype.decode=function(e,n,r){for(var i,o,a=new Yi(this.field,e),s=new Int32Array(n),u=!1,c=n;c>0;c--){var l=a.evaluateAt(this.field.exp(c));s[n-c]=l,0!==l&&(u=!0)}if(!u)return 0;var f=this.field.getOne();if(null!=r)try{for(var d=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(r),h=d.next();!h.done;h=d.next()){var g=this.field.exp(e.length-1-h.value),m=new Yi(this.field,new Int32Array([this.field.subtract(0,g),1]));f=f.multiply(m)}}catch(R){i={error:R}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}var y=new Yi(this.field,s),v=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),y,n),w=v[0],E=v[1],x=this.findErrorLocations(w),D=this.findErrorMagnitudes(E,w,x);for(c=0;c<x.length;c++){var O=e.length-1-this.field.log(x[c]);if(O<0)throw tt.getChecksumInstance();e[O]=this.field.subtract(e[O],D[c])}return x.length},t.prototype.runEuclideanAlgorithm=function(e,n,r){if(e.getDegree()<n.getDegree()){var i=e;e=n,n=i}for(var o=e,a=n,s=this.field.getZero(),u=this.field.getOne();a.getDegree()>=Math.round(r/2);){var c=o,l=s;if(s=u,(o=a).isZero())throw tt.getChecksumInstance();a=c;for(var f=this.field.getZero(),d=o.getCoefficient(o.getDegree()),h=this.field.inverse(d);a.getDegree()>=o.getDegree()&&!a.isZero();){var p=a.getDegree()-o.getDegree(),g=this.field.multiply(a.getCoefficient(a.getDegree()),h);f=f.add(this.field.buildMonomial(p,g)),a=a.subtract(o.multiplyByMonomial(p,g))}u=f.multiply(s).subtract(l).negative()}var m=u.getCoefficient(0);if(0===m)throw tt.getChecksumInstance();var y=this.field.inverse(m);return[u.multiply(y),a.multiply(y)]},t.prototype.findErrorLocations=function(e){for(var n=e.getDegree(),r=new Int32Array(n),i=0,o=1;o<this.field.getSize()&&i<n;o++)0===e.evaluateAt(o)&&(r[i]=this.field.inverse(o),i++);if(i!==n)throw tt.getChecksumInstance();return r},t.prototype.findErrorMagnitudes=function(e,n,r){for(var i=n.getDegree(),o=new Int32Array(i),a=1;a<=i;a++)o[i-a]=this.field.multiply(a,n.getCoefficient(a));var s=new Yi(this.field,o),u=r.length,c=new Int32Array(u);for(a=0;a<u;a++){var l=this.field.inverse(r[a]),f=this.field.subtract(0,e.evaluateAt(l)),d=this.field.inverse(s.evaluateAt(l));c[a]=this.field.multiply(f,d)}return c},t}();const dW=fW;var hW=function(){function t(e,n,r,i,o){e instanceof t?this.constructor_2(e):this.constructor_1(e,n,r,i,o)}return t.prototype.constructor_1=function(e,n,r,i,o){var a=null==n||null==r,s=null==i||null==o;if(a&&s)throw new A;a?(n=new L(0,i.getY()),r=new L(0,o.getY())):s&&(i=new L(e.getWidth()-1,n.getY()),o=new L(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=n,this.bottomLeft=r,this.topRight=i,this.bottomRight=o,this.minX=Math.trunc(Math.min(n.getX(),r.getX())),this.maxX=Math.trunc(Math.max(i.getX(),o.getX())),this.minY=Math.trunc(Math.min(n.getY(),i.getY())),this.maxY=Math.trunc(Math.max(r.getY(),o.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,n){return null==e?n:null==n?e:new t(e.image,e.topLeft,e.bottomLeft,n.topRight,n.bottomRight)},t.prototype.addMissingRows=function(e,n,r){var i=this.topLeft,o=this.bottomLeft,a=this.topRight,s=this.bottomRight;if(e>0){var u=r?this.topLeft:this.topRight,c=Math.trunc(u.getY()-e);c<0&&(c=0);var l=new L(u.getX(),c);r?i=l:a=l}if(n>0){var f=r?this.bottomLeft:this.bottomRight,d=Math.trunc(f.getY()+n);d>=this.image.getHeight()&&(d=this.image.getHeight()-1);var h=new L(f.getX(),d);r?o=h:s=h}return new t(this.image,i,o,a,s)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t}();const L1=hW;var pW=function(){function t(e,n,r,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=n,this.rowCountLowerPart=r,this.rowCount=n+r}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t}();const gW=pW;var vW=function(){function t(){this.buffer=""}return t.form=function(e,n){var r=-1;return e.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function i(a,s,u,c,l,f){if("%%"===a)return"%";if(void 0!==n[++r]){a=c?parseInt(c.substr(1)):void 0;var h,d=l?parseInt(l.substr(1)):void 0;switch(f){case"s":h=n[r];break;case"c":h=n[r][0];break;case"f":h=parseFloat(n[r]).toFixed(a);break;case"p":h=parseFloat(n[r]).toPrecision(a);break;case"e":h=parseFloat(n[r]).toExponential(a);break;case"x":h=parseInt(n[r]).toString(d||16);break;case"d":h=parseFloat(parseInt(n[r],d||10).toPrecision(a)).toFixed(0)}h="object"==typeof h?JSON.stringify(h):(+h).toString(d);for(var p=parseInt(u),g=u&&u[0]+""=="0"?"0":" ";h.length<p;)h=void 0!==s?h+g:g+h;return h}})},t.prototype.format=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.buffer+=t.form(e,n)},t.prototype.toString=function(){return this.buffer},t}();const k1=vW;var yW=function(){function t(e){this.boundingBox=new L1(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var n=this.getCodeword(e);if(null!=n)return n;for(var r=1;r<t.MAX_NEARBY_DISTANCE;r++){var i=this.imageRowToCodewordIndex(e)-r;if(i>=0&&null!=(n=this.codewords[i])||(i=this.imageRowToCodewordIndex(e)+r)<this.codewords.length&&null!=(n=this.codewords[i]))return n}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,n){this.codewords[this.imageRowToCodewordIndex(e)]=n},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,n,r=new k1,i=0;try{for(var o=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.codewords),a=o.next();!a.done;a=o.next()){var s=a.value;null!=s?r.format("%3d: %3d|%3d%n",i++,s.getRowNumber(),s.getValue()):r.format("%3d:    |   %n",i++)}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r.toString()},t.MAX_NEARBY_DISTANCE=5,t}();const aD=yW;var wW=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,a,r=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},EW=function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var n=this.values.get(e);null==n&&(n=0),n++,this.values.set(e,n)},t.prototype.getValue=function(){var e,n,r=-1,i=new Array,o=function(f,d){var h_getKey=function(){return f},h_getValue=function(){return d};h_getValue()>r?(r=h_getValue(),(i=[]).push(h_getKey())):h_getValue()===r&&i.push(h_getKey())};try{for(var a=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.values.entries()),s=a.next();!s.done;s=a.next()){var u=wW(s.value,2);o(u[0],u[1])}}catch(f){e={error:f}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return fe.toIntArray(i)},t.prototype.getConfidence=function(e){return this.values.get(e)},t}();const uu=EW;var CW=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),B1=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xW=function(t){function e(n,r){var i=t.call(this,n)||this;return i._isLeft=r,i}return CW(e,t),e.prototype.setRowNumbers=function(){var n,r;try{for(var i=B1(this.getCodewords()),o=i.next();!o.done;o=i.next()){var a=o.value;a?.setRowNumberAsRowIndicatorColumn()}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(n){var r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,n);for(var i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),a=this._isLeft?i.getBottomLeft():i.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(o.getY())),u=this.imageRowToCodewordIndex(Math.trunc(a.getY())),c=-1,l=1,f=0,d=s;d<u;d++)if(null!=r[d]){var h=r[d],p=h.getRowNumber()-c;if(0===p)f++;else if(1===p)l=Math.max(l,f),f=1,c=h.getRowNumber();else if(p<0||h.getRowNumber()>=n.getRowCount()||p>d)r[d]=null;else{for(var g,m=(g=l>2?(l-2)*p:p)>=d,y=1;y<=g&&!m;y++)m=null!=r[d-y];m?r[d]=null:(c=h.getRowNumber(),f=1)}}},e.prototype.getRowHeights=function(){var n,r,i=this.getBarcodeMetadata();if(null==i)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var o=new Int32Array(i.getRowCount());try{for(var a=B1(this.getCodewords()),s=a.next();!s.done;s=a.next()){var u=s.value;if(null!=u){var c=u.getRowNumber();if(c>=o.length)continue;o[c]++}}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return o},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(n){for(var r=this.getBoundingBox(),i=this._isLeft?r.getTopLeft():r.getTopRight(),o=this._isLeft?r.getBottomLeft():r.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(i.getY())),s=this.imageRowToCodewordIndex(Math.trunc(o.getY())),u=this.getCodewords(),c=-1,l=1,f=0,d=a;d<s;d++)if(null!=u[d]){var h=u[d];h.setRowNumberAsRowIndicatorColumn();var p=h.getRowNumber()-c;0===p?f++:1===p?(l=Math.max(l,f),f=1,c=h.getRowNumber()):h.getRowNumber()>=n.getRowCount()?u[d]=null:(c=h.getRowNumber(),f=1)}},e.prototype.getBarcodeMetadata=function(){var n,r,i=this.getCodewords(),o=new uu,a=new uu,s=new uu,u=new uu;try{for(var c=B1(i),l=c.next();!l.done;l=c.next()){var f=l.value;if(null!=f){f.setRowNumberAsRowIndicatorColumn();var d=f.getValue()%30,h=f.getRowNumber();switch(this._isLeft||(h+=2),h%3){case 0:a.setValue(3*d+1);break;case 1:u.setValue(d/3),s.setValue(d%3);break;case 2:o.setValue(d+1)}}}}catch(g){n={error:g}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}if(0===o.getValue().length||0===a.getValue().length||0===s.getValue().length||0===u.getValue().length||o.getValue()[0]<1||a.getValue()[0]+s.getValue()[0]<fe.MIN_ROWS_IN_BARCODE||a.getValue()[0]+s.getValue()[0]>fe.MAX_ROWS_IN_BARCODE)return null;var p=new gW(o.getValue()[0],a.getValue()[0],s.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(i,p),p},e.prototype.removeIncorrectCodewords=function(n,r){for(var i=0;i<n.length;i++){var o=n[i];if(null!=n[i]){var a=o.getValue()%30,s=o.getRowNumber();if(s>r.getRowCount()){n[i]=null;continue}switch(this._isLeft||(s+=2),s%3){case 0:3*a+1!==r.getRowCountUpperPart()&&(n[i]=null);break;case 1:(Math.trunc(a/3)!==r.getErrorCorrectionLevel()||a%3!==r.getRowCountLowerPart())&&(n[i]=null);break;case 2:a+1!==r.getColumnCount()&&(n[i]=null)}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+"\n"+t.prototype.toString.call(this)},e}(aD);const sD=xW;var DW=function(){function t(e,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var n,e=fe.MAX_CODEWORDS_IN_BARCODE;do{n=e,e=this.adjustRowNumbersAndGetCount()}while(e>0&&e<n);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(0===e)return 0;for(var n=1;n<this.barcodeColumnCount+1;n++)for(var r=this.detectionResultColumns[n].getCodewords(),i=0;i<r.length;i++)null!=r[i]&&(r[i].hasValidRowNumber()||this.adjustRowNumbers(n,i,r));return e},t.prototype.adjustRowNumbersByRow=function(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(null!=this.detectionResultColumns[0]&&null!=this.detectionResultColumns[this.barcodeColumnCount+1])for(var e=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<e.length;r++)if(null!=e[r]&&null!=n[r]&&e[r].getRowNumber()===n[r].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var o=this.detectionResultColumns[i].getCodewords()[r];null!=o&&(o.setRowNumber(e[r].getRowNumber()),o.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[r]=null))}},t.prototype.adjustRowNumbersFromRRI=function(){if(null==this.detectionResultColumns[this.barcodeColumnCount+1])return 0;for(var e=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<n.length;r++)if(null!=n[r])for(var i=n[r].getRowNumber(),o=0,a=this.barcodeColumnCount+1;a>0&&o<this.ADJUST_ROW_NUMBER_SKIP;a--){var s=this.detectionResultColumns[a].getCodewords()[r];null!=s&&(o=t.adjustRowNumberIfValid(i,o,s),s.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(null==this.detectionResultColumns[0])return 0;for(var e=0,n=this.detectionResultColumns[0].getCodewords(),r=0;r<n.length;r++)if(null!=n[r])for(var i=n[r].getRowNumber(),o=0,a=1;a<this.barcodeColumnCount+1&&o<this.ADJUST_ROW_NUMBER_SKIP;a++){var s=this.detectionResultColumns[a].getCodewords()[r];null!=s&&(o=t.adjustRowNumberIfValid(i,o,s),s.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,n,r){return null==r||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),n=0):++n),n},t.prototype.adjustRowNumbers=function(e,n,r){var i,o;if(null!=this.detectionResultColumns[e-1]){var a=r[n],s=this.detectionResultColumns[e-1].getCodewords(),u=s;null!=this.detectionResultColumns[e+1]&&(u=this.detectionResultColumns[e+1].getCodewords());var c=new Array(14);c[2]=s[n],c[3]=u[n],n>0&&(c[0]=r[n-1],c[4]=s[n-1],c[5]=u[n-1]),n>1&&(c[8]=r[n-2],c[10]=s[n-2],c[11]=u[n-2]),n<r.length-1&&(c[1]=r[n+1],c[6]=s[n+1],c[7]=u[n+1]),n<r.length-2&&(c[9]=r[n+2],c[12]=s[n+2],c[13]=u[n+2]);try{for(var l=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(c),f=l.next();!f.done;f=l.next())if(t.adjustRowNumber(a,f.value))return}catch(h){i={error:h}}finally{try{f&&!f.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}}},t.adjustRowNumber=function(e,n){return!(null==n||!n.hasValidRowNumber()||n.getBucket()!==e.getBucket()||(e.setRowNumber(n.getRowNumber()),0))},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,n){this.detectionResultColumns[e]=n},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];null==e&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var n=new k1,r=0;r<e.getCodewords().length;r++){n.format("CW %3d:",r);for(var i=0;i<this.barcodeColumnCount+2;i++)if(null!=this.detectionResultColumns[i]){var o=this.detectionResultColumns[i].getCodewords()[r];null!=o?n.format(" %3d|%3d",o.getRowNumber(),o.getValue()):n.format("    |   ")}else n.format("    |   ");n.format("%n")}return n.toString()},t}();const SW=DW;var IW=function(){function t(e,n,r,i){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(n),this.bucket=Math.trunc(r),this.value=Math.trunc(i)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(3*Math.trunc(this.value/30)+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t}();const bW=IW;var OW=function(){function t(){}return t.initialize=function(){for(var e=0;e<fe.SYMBOL_TABLE.length;e++)for(var n=fe.SYMBOL_TABLE[e],r=1&n,i=0;i<fe.BARS_IN_MODULE;i++){for(var o=0;(1&n)===r;)o+=1,n>>=1;r=1&n,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(fe.BARS_IN_MODULE)),t.RATIOS_TABLE[e][fe.BARS_IN_MODULE-i-1]=Math.fround(o/fe.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var n=t.getDecodedCodewordValue(t.sampleBitCounts(e));return-1!==n?n:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var n=pe.sum(e),r=new Int32Array(fe.BARS_IN_MODULE),i=0,o=0,a=0;a<fe.MODULES_IN_CODEWORD;a++)o+e[i]<=n/(2*fe.MODULES_IN_CODEWORD)+a*n/fe.MODULES_IN_CODEWORD&&(o+=e[i],i++),r[i]++;return r},t.getDecodedCodewordValue=function(e){var n=t.getBitValue(e);return-1===fe.getCodeword(n)?-1:n},t.getBitValue=function(e){for(var n=0,r=0;r<e.length;r++)for(var i=0;i<e[r];i++)n=n<<1|(r%2==0?1:0);return Math.trunc(n)},t.getClosestDecodedValue=function(e){var n=pe.sum(e),r=new Array(fe.BARS_IN_MODULE);if(n>1)for(var i=0;i<r.length;i++)r[i]=Math.fround(e[i]/n);var o=S1.MAX_VALUE,a=-1;this.bSymbolTableReady||t.initialize();for(var s=0;s<t.RATIOS_TABLE.length;s++){for(var u=0,c=t.RATIOS_TABLE[s],l=0;l<fe.BARS_IN_MODULE;l++){var f=Math.fround(c[l]-r[l]);if((u+=Math.fround(f*f))>=o)break}u<o&&(o=u,a=fe.SYMBOL_TABLE[s])}return a},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(fe.SYMBOL_TABLE.length).map(function(e){return new Array(fe.BARS_IN_MODULE)}),t}();const MW=OW;var TW=function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t}();const RW=TW;var NW=function(){function t(){}return t.parseLong=function(e,n){return void 0===n&&(n=void 0),parseInt(e,n)},t}();const uD=NW;var PW=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),FW=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return PW(e,t),e.kind="NullPointerException",e}(cn);const LW=FW;var kW=function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,n,r){if(null==e)throw new LW;if(n<0||n>e.length||r<0||n+r>e.length||n+r<0)throw new D1;if(0!==r)for(var i=0;i<r;i++)this.write(e[n+i])},t.prototype.flush=function(){},t.prototype.close=function(){},t}();const BW=kW;var VW=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),UW=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return VW(e,t),e}(cn);const HW=UW;var jW=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$W=function(t){function e(n){void 0===n&&(n=32);var r=t.call(this)||this;if(r.count=0,n<0)throw new F("Negative initial size: "+n);return r.buf=new Uint8Array(n),r}return jW(e,t),e.prototype.ensureCapacity=function(n){n-this.buf.length>0&&this.grow(n)},e.prototype.grow=function(n){var i=this.buf.length<<1;if(i-n<0&&(i=n),i<0){if(n<0)throw new HW;i=J.MAX_VALUE}this.buf=rt.copyOfUint8Array(this.buf,i)},e.prototype.write=function(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1},e.prototype.writeBytesOffset=function(n,r,i){if(r<0||r>n.length||i<0||r+i-n.length>0)throw new D1;this.ensureCapacity(this.count+i),Fe.arraycopy(n,r,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(n){n.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return rt.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(n){return n?"string"==typeof n?this.toString_string(n):this.toString_number(n):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(n){return new String(this.buf).toString()},e.prototype.toString_number=function(n){return new String(this.buf).toString()},e.prototype.close=function(){},e}(BW);const GW=$W;var uf,Oe=function(t){return t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT",t}(Oe||{});function cD(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}function pi(t){if(typeof uf>"u"&&(uf=cD()),null===uf)throw new Error("BigInt is not supported!");return uf(t)}var WW=function(){function t(){}return t.decode=function(e,n){var r=new ee(""),i=ut.ISO8859_1;r.enableDecoding(i);for(var o=1,a=e[o++],s=new RW;o<e[0];){switch(a){case t.TEXT_COMPACTION_MODE_LATCH:o=t.textCompaction(e,o,r);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:o=t.byteCompaction(a,e,i,o,r);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[o++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:o=t.numericCompaction(e,o,r);break;case t.ECI_CHARSET:ut.getCharacterSetECIByValue(e[o++]);break;case t.ECI_GENERAL_PURPOSE:o+=2;break;case t.ECI_USER_DEFINED:o++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:o=t.decodeMacroBlock(e,o,s);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new M;default:o--,o=t.textCompaction(e,o,r)}if(!(o<e.length))throw M.getFormatInstance();a=e[o++]}if(0===r.length())throw M.getFormatInstance();var c=new Yl(null,r.toString(),null,n);return c.setOther(s),c},t.decodeMacroBlock=function(e,n,r){if(n+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw M.getFormatInstance();for(var i=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),o=0;o<t.NUMBER_OF_SEQUENCE_CODEWORDS;o++,n++)i[o]=e[n];r.setSegmentIndex(J.parseInt(t.decodeBase900toBase10(i,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var a=new ee;n=t.textCompaction(e,n,a),r.setFileId(a.toString());var s=-1;for(e[n]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(s=n+1);n<e[0];)switch(e[n]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(e[++n]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var u=new ee;n=t.textCompaction(e,n+1,u),r.setFileName(u.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var c=new ee;n=t.textCompaction(e,n+1,c),r.setSender(c.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var l=new ee;n=t.textCompaction(e,n+1,l),r.setAddressee(l.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var f=new ee;n=t.numericCompaction(e,n+1,f),r.setSegmentCount(J.parseInt(f.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var d=new ee;n=t.numericCompaction(e,n+1,d),r.setTimestamp(uD.parseLong(d.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var h=new ee;n=t.numericCompaction(e,n+1,h),r.setChecksum(J.parseInt(h.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var p=new ee;n=t.numericCompaction(e,n+1,p),r.setFileSize(uD.parseLong(p.toString()));break;default:throw M.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:n++,r.setLastSegment(!0);break;default:throw M.getFormatInstance()}if(-1!==s){var g=n-s;r.isLastSegment()&&g--,r.setOptionalData(rt.copyOfRange(e,s,s+g))}return n},t.textCompaction=function(e,n,r){for(var i=new Int32Array(2*(e[0]-n)),o=new Int32Array(2*(e[0]-n)),a=0,s=!1;n<e[0]&&!s;){var u=e[n++];if(u<t.TEXT_COMPACTION_MODE_LATCH)i[a]=u/30,i[a+1]=u%30,a+=2;else switch(u){case t.TEXT_COMPACTION_MODE_LATCH:i[a++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:n--,s=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[a]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,u=e[n++],o[a]=u,a++}}return t.decodeTextCompaction(i,o,a,r),n},t.decodeTextCompaction=function(e,n,r,i){for(var o=Oe.ALPHA,a=Oe.ALPHA,s=0;s<r;){var u=e[s],c="";switch(o){case Oe.ALPHA:if(u<26)c=String.fromCharCode(65+u);else switch(u){case 26:c=" ";break;case t.LL:o=Oe.LOWER;break;case t.ML:o=Oe.MIXED;break;case t.PS:a=o,o=Oe.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=Oe.ALPHA}break;case Oe.LOWER:if(u<26)c=String.fromCharCode(97+u);else switch(u){case 26:c=" ";break;case t.AS:a=o,o=Oe.ALPHA_SHIFT;break;case t.ML:o=Oe.MIXED;break;case t.PS:a=o,o=Oe.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=Oe.ALPHA}break;case Oe.MIXED:if(u<t.PL)c=t.MIXED_CHARS[u];else switch(u){case t.PL:o=Oe.PUNCT;break;case 26:c=" ";break;case t.LL:o=Oe.LOWER;break;case t.AL:o=Oe.ALPHA;break;case t.PS:a=o,o=Oe.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=Oe.ALPHA}break;case Oe.PUNCT:if(u<t.PAL)c=t.PUNCT_CHARS[u];else switch(u){case t.PAL:o=Oe.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=Oe.ALPHA}break;case Oe.ALPHA_SHIFT:if(o=a,u<26)c=String.fromCharCode(65+u);else switch(u){case 26:c=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:o=Oe.ALPHA}break;case Oe.PUNCT_SHIFT:if(o=a,u<t.PAL)c=t.PUNCT_CHARS[u];else switch(u){case t.PAL:o=Oe.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=Oe.ALPHA}}""!==c&&i.append(c),s++}},t.byteCompaction=function(e,n,r,i,o){var a=new GW,s=0,u=0,c=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var l=new Int32Array(6),f=n[i++];i<n[0]&&!c;)switch(l[s++]=f,u=900*u+f,f=n[i++],f){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,c=!0;break;default:if(s%5==0&&s>0){for(var d=0;d<6;++d)a.write(Number(pi(u)>>pi(8*(5-d))));u=0,s=0}}i===n[0]&&f<t.TEXT_COMPACTION_MODE_LATCH&&(l[s++]=f);for(var h=0;h<s;h++)a.write(l[h]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;i<n[0]&&!c;){var p=n[i++];if(p<t.TEXT_COMPACTION_MODE_LATCH)s++,u=900*u+p;else switch(p){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,c=!0}if(s%5==0&&s>0){for(d=0;d<6;++d)a.write(Number(pi(u)>>pi(8*(5-d))));u=0,s=0}}}return o.append(Hn.decode(a.toByteArray(),r)),i},t.numericCompaction=function(e,n,r){for(var i=0,o=!1,a=new Int32Array(t.MAX_NUMERIC_CODEWORDS);n<e[0]&&!o;){var s=e[n++];if(n===e[0]&&(o=!0),s<t.TEXT_COMPACTION_MODE_LATCH)a[i]=s,i++;else switch(s){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:n--,o=!0}(i%t.MAX_NUMERIC_CODEWORDS==0||s===t.NUMERIC_COMPACTION_MODE_LATCH||o)&&i>0&&(r.append(t.decodeBase900toBase10(a,i)),i=0)}return n},t.decodeBase900toBase10=function(e,n){for(var r=pi(0),i=0;i<n;i++)r+=t.EXP900[n-i-1]*pi(e[i]);var o=r.toString();if("1"!==o.charAt(0))throw new M;return o.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=";<>@[\\]_`~!\r\t,:\n-.$/\"|*()?{}'",t.MIXED_CHARS="0123456789&\r\t,:#-.$/+%*=^",t.EXP900=cD()?function zW(){var t=[];t[0]=pi(1);var e=pi(900);t[1]=e;for(var n=2;n<16;n++)t[n]=t[n-1]*e;return t}():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t}();const XW=WW;var cu=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qW=function(){function t(){}return t.decode=function(e,n,r,i,o,a,s){for(var f,u=new L1(e,n,r,i,o),c=null,l=null,d=!0;;d=!1){if(null!=n&&(c=t.getRowIndicatorColumn(e,u,n,!0,a,s)),null!=i&&(l=t.getRowIndicatorColumn(e,u,i,!1,a,s)),null==(f=t.merge(c,l)))throw A.getNotFoundInstance();var h=f.getBoundingBox();if(!d||null==h||!(h.getMinY()<u.getMinY()||h.getMaxY()>u.getMaxY()))break;u=h}f.setBoundingBox(u);var p=f.getBarcodeColumnCount()+1;f.setDetectionResultColumn(0,c),f.setDetectionResultColumn(p,l);for(var g=null!=c,m=1;m<=p;m++){var y=g?m:p-m;if(void 0===f.getDetectionResultColumn(y)){var v=void 0;v=0===y||y===p?new sD(u,0===y):new aD(u),f.setDetectionResultColumn(y,v);for(var w=-1,E=w,x=u.getMinY();x<=u.getMaxY();x++){if((w=t.getStartColumn(f,y,x,g))<0||w>u.getMaxX()){if(-1===E)continue;w=E}var D=t.detectCodeword(e,u.getMinX(),u.getMaxX(),g,w,x,a,s);null!=D&&(v.setCodeword(x,D),E=w,a=Math.min(a,D.getWidth()),s=Math.max(s,D.getWidth()))}}}return t.createDecoderResult(f)},t.merge=function(e,n){if(null==e&&null==n)return null;var r=t.getBarcodeMetadata(e,n);if(null==r)return null;var i=L1.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(n));return new SW(r,i)},t.adjustBoundingBox=function(e){var n,r;if(null==e)return null;var i=e.getRowHeights();if(null==i)return null;var o=t.getMax(i),a=0;try{for(var s=cu(i),u=s.next();!u.done;u=s.next()){var c=u.value;if(a+=o-c,c>0)break}}catch(h){n={error:h}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}for(var l=e.getCodewords(),f=0;a>0&&null==l[f];f++)a--;var d=0;for(f=i.length-1;f>=0&&(d+=o-i[f],!(i[f]>0));f--);for(f=l.length-1;d>0&&null==l[f];f--)d--;return e.getBoundingBox().addMissingRows(a,d,e.isLeft())},t.getMax=function(e){var n,r,i=-1;try{for(var o=cu(e),a=o.next();!a.done;a=o.next())i=Math.max(i,a.value)}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i},t.getBarcodeMetadata=function(e,n){var r,i;return null==e||null==(r=e.getBarcodeMetadata())?null==n?null:n.getBarcodeMetadata():null==n||null==(i=n.getBarcodeMetadata())?r:r.getColumnCount()!==i.getColumnCount()&&r.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&r.getRowCount()!==i.getRowCount()?null:r},t.getRowIndicatorColumn=function(e,n,r,i,o,a){for(var s=new sD(n,i),u=0;u<2;u++)for(var c=0===u?1:-1,l=Math.trunc(Math.trunc(r.getX())),f=Math.trunc(Math.trunc(r.getY()));f<=n.getMaxY()&&f>=n.getMinY();f+=c){var d=t.detectCodeword(e,0,e.getWidth(),i,l,f,o,a);null!=d&&(s.setCodeword(f,d),l=i?d.getStartX():d.getEndX())}return s},t.adjustCodewordCount=function(e,n){var r=n[0][1],i=r.getValue(),o=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(0===i.length){if(o<1||o>fe.MAX_CODEWORDS_IN_BARCODE)throw A.getNotFoundInstance();r.setValue(o)}else i[0]!==o&&r.setValue(o)},t.createDecoderResult=function(e){var n=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,n);for(var r=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),o=[],a=new Array,s=0;s<e.getBarcodeRowCount();s++)for(var u=0;u<e.getBarcodeColumnCount();u++){var c=n[s][u+1].getValue(),l=s*e.getBarcodeColumnCount()+u;0===c.length?r.push(l):1===c.length?i[l]=c[0]:(a.push(l),o.push(c))}for(var f=new Array(o.length),d=0;d<f.length;d++)f[d]=o[d];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,fe.toIntArray(r),fe.toIntArray(a),f)},t.createDecoderResultFromAmbiguousValues=function(e,n,r,i,o){for(var a=new Int32Array(i.length),s=100;s-- >0;){for(var u=0;u<a.length;u++)n[i[u]]=o[u][a[u]];try{return t.decodeCodewords(n,e,r)}catch(l){if(!(l instanceof tt))throw l}if(0===a.length)throw tt.getChecksumInstance();for(u=0;u<a.length;u++){if(a[u]<o[u].length-1){a[u]++;break}if(a[u]=0,u===a.length-1)throw tt.getChecksumInstance()}}throw tt.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var n,r,i,o,a=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),s=0;s<a.length;s++)for(var u=0;u<a[s].length;u++)a[s][u]=new uu;var c=0;try{for(var l=cu(e.getDetectionResultColumns()),f=l.next();!f.done;f=l.next()){var d=f.value;if(null!=d)try{for(var h=(i=void 0,cu(d.getCodewords())),p=h.next();!p.done;p=h.next()){var g=p.value;if(null!=g){var m=g.getRowNumber();if(m>=0){if(m>=a.length)continue;a[m][c].setValue(g.getValue())}}}}catch(y){i={error:y}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}c++}}catch(y){n={error:y}}finally{try{f&&!f.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return a},t.isValidBarcodeColumn=function(e,n){return n>=0&&n<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,n,r,i){var o,a,s=i?1:-1,u=null;if(t.isValidBarcodeColumn(e,n-s)&&(u=e.getDetectionResultColumn(n-s).getCodeword(r)),null!=u)return i?u.getEndX():u.getStartX();if(null!=(u=e.getDetectionResultColumn(n).getCodewordNearby(r)))return i?u.getStartX():u.getEndX();if(t.isValidBarcodeColumn(e,n-s)&&(u=e.getDetectionResultColumn(n-s).getCodewordNearby(r)),null!=u)return i?u.getEndX():u.getStartX();for(var c=0;t.isValidBarcodeColumn(e,n-s);){n-=s;try{for(var l=(o=void 0,cu(e.getDetectionResultColumn(n).getCodewords())),f=l.next();!f.done;f=l.next()){var d=f.value;if(null!=d)return(i?d.getEndX():d.getStartX())+s*c*(d.getEndX()-d.getStartX())}}catch(h){o={error:h}}finally{try{f&&!f.done&&(a=l.return)&&a.call(l)}finally{if(o)throw o.error}}c++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,n,r,i,o,a,s,u){o=t.adjustCodewordStartColumn(e,n,r,i,o,a);var c=t.getModuleBitCount(e,n,r,i,o,a);if(null==c)return null;var l,f=pe.sum(c);if(i)l=o+f;else{for(var d=0;d<c.length/2;d++){var h=c[d];c[d]=c[c.length-1-d],c[c.length-1-d]=h}o=(l=o)-f}if(!t.checkCodewordSkew(f,s,u))return null;var p=MW.getDecodedValue(c),g=fe.getCodeword(p);return-1===g?null:new bW(o,l,t.getCodewordBucketNumber(p),g)},t.getModuleBitCount=function(e,n,r,i,o,a){for(var s=o,u=new Int32Array(8),c=0,l=i?1:-1,f=i;(i?s<r:s>=n)&&c<u.length;)e.get(s,a)===f?(u[c]++,s+=l):(c++,f=!f);return c===u.length||s===(i?r:n)&&c===u.length-1?u:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,n,r,i,o,a){for(var s=o,u=i?-1:1,c=0;c<2;c++){for(;(i?s>=n:s<r)&&i===e.get(s,a);){if(Math.abs(o-s)>t.CODEWORD_SKEW_SIZE)return o;s+=u}u=-u,i=!i}return s},t.checkCodewordSkew=function(e,n,r){return n-t.CODEWORD_SKEW_SIZE<=e&&e<=r+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,n,r){if(0===e.length)throw M.getFormatInstance();var i=1<<n+1,o=t.correctErrors(e,r,i);t.verifyCodewordCount(e,i);var a=XW.decode(e,""+n);return a.setErrorsCorrected(o),a.setErasures(r.length),a},t.correctErrors=function(e,n,r){if(null!=n&&n.length>r/2+t.MAX_ERRORS||r<0||r>t.MAX_EC_CODEWORDS)throw tt.getChecksumInstance();return t.errorCorrection.decode(e,r,n)},t.verifyCodewordCount=function(e,n){if(e.length<4)throw M.getFormatInstance();var r=e[0];if(r>e.length)throw M.getFormatInstance();if(0===r){if(!(n<e.length))throw M.getFormatInstance();e[0]=e.length-n}},t.getBitCountForCodeword=function(e){for(var n=new Int32Array(8),r=0,i=n.length-1;!((1&e)!==r&&(r=1&e,i--,i<0));)n[i]++,e>>=1;return n},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var n=new k1,r=0;r<e.length;r++){n.format("Row %2d: ",r);for(var i=0;i<e[r].length;i++){var o=e[r][i];0===o.getValue().length?n.format("        ",null):n.format("%4d(%2d)",o.getValue()[0],o.getConfidence(o.getValue()[0]))}n.format("%n")}return n.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new dW,t}();const ZW=qW;var KW=function(){function t(){}return t.prototype.decode=function(e,n){void 0===n&&(n=null);var r=t.decode(e,n,!1);if(null==r||0===r.length||null==r[0])throw A.getNotFoundInstance();return r[0]},t.prototype.decodeMultiple=function(e,n){void 0===n&&(n=null);try{return t.decode(e,n,!0)}catch(r){throw r instanceof M||r instanceof tt?A.getNotFoundInstance():r}},t.decode=function(e,n,r){var i,o,a=new Array,s=nW.detectMultiple(e,n,r);try{for(var u=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(s.getPoints()),c=u.next();!c.done;c=u.next()){var l=c.value,f=ZW.decode(s.getBits(),l[4],l[5],l[6],l[7],t.getMinCodewordWidth(l),t.getMaxCodewordWidth(l)),d=new Mt(f.getText(),f.getRawBytes(),void 0,l,B.PDF_417);d.putMetadata(xt.ERROR_CORRECTION_LEVEL,f.getECLevel());var h=f.getOther();null!=h&&d.putMetadata(xt.PDF417_EXTRA_METADATA,h),a.push(d)}}catch(p){i={error:p}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}return a.map(function(p){return p})},t.getMaxWidth=function(e,n){return null==e||null==n?0:Math.trunc(Math.abs(e.getX()-n.getX()))},t.getMinWidth=function(e,n){return null==e||null==n?J.MAX_VALUE:Math.trunc(Math.abs(e.getX()-n.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*fe.MODULES_IN_CODEWORD/fe.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*fe.MODULES_IN_CODEWORD/fe.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*fe.MODULES_IN_CODEWORD/fe.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*fe.MODULES_IN_CODEWORD/fe.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t}();const cf=KW;var QW=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),JW=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return QW(e,t),e.kind="ReaderException",e}(cn);const lD=JW;var fD=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},eX=function(){function t(){}return t.prototype.decode=function(e,n){return this.setHints(n),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return null==this.readers&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var n=null!=e&&void 0!==e.get(me.TRY_HARDER),r=null==e?null:e.get(me.POSSIBLE_FORMATS),i=new Array;if(null!=r){var o=r.some(function(a){return a===B.UPC_A||a===B.UPC_E||a===B.EAN_13||a===B.EAN_8||a===B.CODABAR||a===B.CODE_39||a===B.CODE_93||a===B.CODE_128||a===B.ITF||a===B.RSS_14||a===B.RSS_EXPANDED});o&&!n&&i.push(new Ea(e)),r.includes(B.QR_CODE)&&i.push(new sf),r.includes(B.DATA_MATRIX)&&i.push(new af),r.includes(B.AZTEC)&&i.push(new Jl),r.includes(B.PDF_417)&&i.push(new cf),o&&n&&i.push(new Ea(e))}0===i.length&&(n||i.push(new Ea(e)),i.push(new sf),i.push(new af),i.push(new Jl),i.push(new cf),n&&i.push(new Ea(e))),this.readers=i},t.prototype.reset=function(){var e,n;if(null!==this.readers)try{for(var r=fD(this.readers),i=r.next();!i.done;i=r.next())i.value.reset()}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var n,r;if(null===this.readers)throw new lD("No readers where selected, nothing can be read.");try{for(var i=fD(this.readers),o=i.next();!o.done;o=i.next()){var a=o.value;try{return a.decode(e,this.hints)}catch(s){if(s instanceof lD)continue}}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}throw new A("No MultiFormat Readers were able to detect the code.")},t}();const dD=eX;var tX=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nX=(function(t){function e(n,r){void 0===n&&(n=null),void 0===r&&(r=500);var o=new dD;return o.setHints(n),t.call(this,o,r)||this}tX(e,t),e.prototype.decodeBitmap=function(n){return this.reader.decodeWithState(n)}}(ma),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),rX=(function(t){nX(function e(n){return void 0===n&&(n=500),t.call(this,new cf,n)||this},t)}(ma),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),hD=(function(t){rX(function e(n){return void 0===n&&(n=500),t.call(this,new sf,n)||this},t)}(ma),function(t){return t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",t[t.MIN_SIZE=4]="MIN_SIZE",t[t.MAX_SIZE=5]="MAX_SIZE",t[t.MARGIN=6]="MARGIN",t[t.PDF417_COMPACT=7]="PDF417_COMPACT",t[t.PDF417_COMPACTION=8]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=10]="AZTEC_LAYERS",t[t.QR_VERSION=11]="QR_VERSION",t[t.GS1_FORMAT=12]="GS1_FORMAT",t[t.FORCE_C40=13]="FORCE_C40",t}(hD||{}));const ie=hD;var iX=function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new fi(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var n=this.cachedGenerators;if(e>=n.length)for(var r=n[n.length-1],i=this.field,o=n.length;o<=e;o++){var a=r.multiply(new fi(i,Int32Array.from([1,i.exp(o-1+i.getGeneratorBase())])));n.push(a),r=a}return n[e]},t.prototype.encode=function(e,n){if(0===n)throw new F("No error correction bytes");var r=e.length-n;if(r<=0)throw new F("No data bytes provided");var i=this.buildGenerator(n),o=new Int32Array(r);Fe.arraycopy(e,0,o,0,r);for(var a=new fi(this.field,o),u=(a=a.multiplyByMonomial(n,1)).divide(i)[1].getCoefficients(),c=n-u.length,l=0;l<c;l++)e[r+l]=0;Fe.arraycopy(u,0,e,r+c,u.length)},t}();const pD=iX;var oX=function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var n=0,r=e.getArray(),i=e.getWidth(),o=e.getHeight(),a=0;a<o-1;a++)for(var s=r[a],u=0;u<i-1;u++){var c=s[u];c===s[u+1]&&c===r[a+1][u]&&c===r[a+1][u+1]&&n++}return t.N2*n},t.applyMaskPenaltyRule3=function(e){for(var n=0,r=e.getArray(),i=e.getWidth(),o=e.getHeight(),a=0;a<o;a++)for(var s=0;s<i;s++){var u=r[a];s+6<i&&1===u[s]&&0===u[s+1]&&1===u[s+2]&&1===u[s+3]&&1===u[s+4]&&0===u[s+5]&&1===u[s+6]&&(t.isWhiteHorizontal(u,s-4,s)||t.isWhiteHorizontal(u,s+7,s+11))&&n++,a+6<o&&1===r[a][s]&&0===r[a+1][s]&&1===r[a+2][s]&&1===r[a+3][s]&&1===r[a+4][s]&&0===r[a+5][s]&&1===r[a+6][s]&&(t.isWhiteVertical(r,s,a-4,a)||t.isWhiteVertical(r,s,a+7,a+11))&&n++}return n*t.N3},t.isWhiteHorizontal=function(e,n,r){n=Math.max(n,0),r=Math.min(r,e.length);for(var i=n;i<r;i++)if(1===e[i])return!1;return!0},t.isWhiteVertical=function(e,n,r,i){r=Math.max(r,0),i=Math.min(i,e.length);for(var o=r;o<i;o++)if(1===e[o][n])return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var n=0,r=e.getArray(),i=e.getWidth(),o=e.getHeight(),a=0;a<o;a++)for(var s=r[a],u=0;u<i;u++)1===s[u]&&n++;var c=e.getHeight()*e.getWidth();return Math.floor(10*Math.abs(2*n-c)/c)*t.N4},t.getDataMaskBit=function(e,n,r){var i,o;switch(e){case 0:i=r+n&1;break;case 1:i=1&r;break;case 2:i=n%3;break;case 3:i=(r+n)%3;break;case 4:i=Math.floor(r/2)+Math.floor(n/3)&1;break;case 5:i=(1&(o=r*n))+o%3;break;case 6:i=(1&(o=r*n))+o%3&1;break;case 7:i=(o=r*n)%3+(r+n&1)&1;break;default:throw new F("Invalid mask pattern: "+e)}return 0===i},t.applyMaskPenaltyRule1Internal=function(e,n){for(var r=0,i=n?e.getHeight():e.getWidth(),o=n?e.getWidth():e.getHeight(),a=e.getArray(),s=0;s<i;s++){for(var u=0,c=-1,l=0;l<o;l++){var f=n?a[s][l]:a[l][s];f===c?u++:(u>=5&&(r+=t.N1+(u-5)),u=1,c=f)}u>=5&&(r+=t.N1+(u-5))}return r},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t}();const lu=oX;var sX=function(){function t(e,n){this.width=e,this.height=n;for(var r=new Array(n),i=0;i!==n;i++)r[i]=new Uint8Array(e);this.bytes=r}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,n){return this.bytes[n][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,n,r){this.bytes[n][e]=r},t.prototype.setBoolean=function(e,n,r){this.bytes[n][e]=r?1:0},t.prototype.clear=function(e){var n,r;try{for(var i=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.bytes),o=i.next();!o.done;o=i.next())rt.fill(o.value,e)}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;if(this.width!==n.width||this.height!==n.height)return!1;for(var r=0,i=this.height;r<i;++r)for(var o=this.bytes[r],a=n.bytes[r],s=0,u=this.width;s<u;++s)if(o[s]!==a[s])return!1;return!0},t.prototype.toString=function(){for(var e=new ee,n=0,r=this.height;n<r;++n){for(var i=this.bytes[n],o=0,a=this.width;o<a;++o)switch(i[o]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ")}e.append("\n")}return e.toString()},t}();const gD=sX;var uX=function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new ee;return e.append("<<\n"),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append("\n ecLevel: "),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append("\n version: "),e.append(this.version?this.version.toString():"null"),e.append("\n maskPattern: "),e.append(this.maskPattern.toString()),this.matrix?(e.append("\n matrix:\n"),e.append(this.matrix.toString())):e.append("\n matrix: null\n"),e.append(">>\n"),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t}();const V1=uX;var cX=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lX=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return cX(e,t),e.kind="WriterException",e}(cn);const Be=lX;var fX=function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,n,r,i,o){t.clearMatrix(o),t.embedBasicPatterns(r,o),t.embedTypeInfo(n,i,o),t.maybeEmbedVersionInfo(r,o),t.embedDataBits(e,i,o)},t.embedBasicPatterns=function(e,n){t.embedPositionDetectionPatternsAndSeparators(n),t.embedDarkDotAtLeftBottomCorner(n),t.maybeEmbedPositionAdjustmentPatterns(e,n),t.embedTimingPatterns(n)},t.embedTypeInfo=function(e,n,r){var i=new ht;t.makeTypeInfoBits(e,n,i);for(var o=0,a=i.getSize();o<a;++o){var s=i.get(i.getSize()-1-o),u=t.TYPE_INFO_COORDINATES[o];if(r.setBoolean(u[0],u[1],s),o<8){var f=r.getWidth()-o-1;r.setBoolean(f,d=8,s)}else{f=8;var d=r.getHeight()-7+(o-8);r.setBoolean(f,d,s)}}},t.maybeEmbedVersionInfo=function(e,n){if(!(e.getVersionNumber()<7)){var r=new ht;t.makeVersionInfoBits(e,r);for(var i=17,o=0;o<6;++o)for(var a=0;a<3;++a){var s=r.get(i);i--,n.setBoolean(o,n.getHeight()-11+a,s),n.setBoolean(n.getHeight()-11+a,o,s)}}},t.embedDataBits=function(e,n,r){for(var i=0,o=-1,a=r.getWidth()-1,s=r.getHeight()-1;a>0;){for(6===a&&(a-=1);s>=0&&s<r.getHeight();){for(var u=0;u<2;++u){var c=a-u;if(t.isEmpty(r.get(c,s))){var l=void 0;i<e.getSize()?(l=e.get(i),++i):l=!1,255!==n&&lu.getDataMaskBit(n,c,s)&&(l=!l),r.setBoolean(c,s,l)}}s+=o}s+=o=-o,a-=2}if(i!==e.getSize())throw new Be("Not all bits consumed: "+i+"/"+e.getSize())},t.findMSBSet=function(e){return 32-J.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,n){if(0===n)throw new F("0 polynomial");var r=t.findMSBSet(n);for(e<<=r-1;t.findMSBSet(e)>=r;)e^=n<<t.findMSBSet(e)-r;return e},t.makeTypeInfoBits=function(e,n,r){if(!V1.isValidMaskPattern(n))throw new Be("Invalid mask pattern");var i=e.getBits()<<3|n;r.appendBits(i,5);var o=t.calculateBCHCode(i,t.TYPE_INFO_POLY);r.appendBits(o,10);var a=new ht;if(a.appendBits(t.TYPE_INFO_MASK_PATTERN,15),r.xor(a),15!==r.getSize())throw new Be("should not happen but we got: "+r.getSize())},t.makeVersionInfoBits=function(e,n){n.appendBits(e.getVersionNumber(),6);var r=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(n.appendBits(r,12),18!==n.getSize())throw new Be("should not happen but we got: "+n.getSize())},t.isEmpty=function(e){return 255===e},t.embedTimingPatterns=function(e){for(var n=8;n<e.getWidth()-8;++n){var r=(n+1)%2;t.isEmpty(e.get(n,6))&&e.setNumber(n,6,r),t.isEmpty(e.get(6,n))&&e.setNumber(6,n,r)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(0===e.get(8,e.getHeight()-8))throw new Be;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,n,r){for(var i=0;i<8;++i){if(!t.isEmpty(r.get(e+i,n)))throw new Be;r.setNumber(e+i,n,0)}},t.embedVerticalSeparationPattern=function(e,n,r){for(var i=0;i<7;++i){if(!t.isEmpty(r.get(e,n+i)))throw new Be;r.setNumber(e,n+i,0)}},t.embedPositionAdjustmentPattern=function(e,n,r){for(var i=0;i<5;++i)for(var o=t.POSITION_ADJUSTMENT_PATTERN[i],a=0;a<5;++a)r.setNumber(e+a,n+i,o[a])},t.embedPositionDetectionPattern=function(e,n,r){for(var i=0;i<7;++i)for(var o=t.POSITION_DETECTION_PATTERN[i],a=0;a<7;++a)r.setNumber(e+a,n+i,o[a])},t.embedPositionDetectionPatternsAndSeparators=function(e){var n=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-n,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-n,e),t.embedHorizontalSeparationPattern(0,7,e),t.embedHorizontalSeparationPattern(e.getWidth()-8,7,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-8,e),t.embedVerticalSeparationPattern(7,0,e),t.embedVerticalSeparationPattern(e.getHeight()-7-1,0,e),t.embedVerticalSeparationPattern(7,e.getHeight()-7,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,n){if(!(e.getVersionNumber()<2))for(var r=e.getVersionNumber()-1,i=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r],o=0,a=i.length;o!==a;o++){var s=i[o];if(s>=0)for(var u=0;u!==a;u++){var c=i[u];c>=0&&t.isEmpty(n.get(c,s))&&t.embedPositionAdjustmentPattern(c-2,s-2,n)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t}();const vD=fX;var dX=function(){function t(e,n){this.dataBytes=e,this.errorCorrectionBytes=n}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t}();const hX=dX;var mD=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pX=function(){function t(){}return t.calculateMaskPenalty=function(e){return lu.applyMaskPenaltyRule1(e)+lu.applyMaskPenaltyRule2(e)+lu.applyMaskPenaltyRule3(e)+lu.applyMaskPenaltyRule4(e)},t.encode=function(e,n,r){void 0===r&&(r=null);var i=t.DEFAULT_BYTE_MODE_ENCODING,o=null!==r&&void 0!==r.get(ie.CHARACTER_SET);o&&(i=r.get(ie.CHARACTER_SET).toString());var a=this.chooseMode(e,i),s=new ht;if(a===ke.BYTE&&(o||t.DEFAULT_BYTE_MODE_ENCODING!==i)){var u=ut.getCharacterSetECIByName(i);void 0!==u&&this.appendECI(u,s)}this.appendModeInfo(a,s);var l,c=new ht;if(this.appendBytes(e,a,c,i),null!==r&&void 0!==r.get(ie.QR_VERSION)){var f=Number.parseInt(r.get(ie.QR_VERSION).toString(),10);l=Zi.getVersionForNumber(f);var d=this.calculateBitsNeeded(a,s,c,l);if(!this.willFit(d,l,n))throw new Be("Data too big for requested version")}else l=this.recommendVersion(n,a,s,c);var h=new ht;h.appendBitArray(s);var p=a===ke.BYTE?c.getSizeInBytes():e.length;this.appendLengthInfo(p,l,a,h),h.appendBitArray(c);var g=l.getECBlocksForLevel(n),m=l.getTotalCodewords()-g.getTotalECCodewords();this.terminateBits(m,h);var y=this.interleaveWithECBytes(h,l.getTotalCodewords(),m,g.getNumBlocks()),v=new V1;v.setECLevel(n),v.setMode(a),v.setVersion(l);var w=l.getDimensionForVersion(),E=new gD(w,w),x=this.chooseMaskPattern(y,n,l,E);return v.setMaskPattern(x),vD.buildMatrix(y,n,l,x,E),v.setMatrix(E),v},t.recommendVersion=function(e,n,r,i){var o=this.calculateBitsNeeded(n,r,i,Zi.getVersionForNumber(1)),a=this.chooseVersion(o,e),s=this.calculateBitsNeeded(n,r,i,a);return this.chooseVersion(s,e)},t.calculateBitsNeeded=function(e,n,r,i){return n.getSize()+e.getCharacterCountBits(i)+r.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,n){if(void 0===n&&(n=null),ut.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(e))return ke.KANJI;for(var r=!1,i=!1,o=0,a=e.length;o<a;++o){var s=e.charAt(o);if(t.isDigit(s))r=!0;else{if(-1===this.getAlphanumericCode(s.charCodeAt(0)))return ke.BYTE;i=!0}}return i?ke.ALPHANUMERIC:r?ke.NUMERIC:ke.BYTE},t.isOnlyDoubleByteKanji=function(e){var n;try{n=Hn.encode(e,ut.SJIS)}catch{return!1}var r=n.length;if(r%2!=0)return!1;for(var i=0;i<r;i+=2){var o=255&n[i];if((o<129||o>159)&&(o<224||o>235))return!1}return!0},t.chooseMaskPattern=function(e,n,r,i){for(var o=Number.MAX_SAFE_INTEGER,a=-1,s=0;s<V1.NUM_MASK_PATTERNS;s++){vD.buildMatrix(e,n,r,s,i);var u=this.calculateMaskPenalty(i);u<o&&(o=u,a=s)}return a},t.chooseVersion=function(e,n){for(var r=1;r<=40;r++){var i=Zi.getVersionForNumber(r);if(t.willFit(e,i,n))return i}throw new Be("Data too big")},t.willFit=function(e,n,r){return n.getTotalCodewords()-n.getECBlocksForLevel(r).getTotalECCodewords()>=(e+7)/8},t.terminateBits=function(e,n){var r=8*e;if(n.getSize()>r)throw new Be("data bits cannot fit in the QR Code"+n.getSize()+" > "+r);for(var i=0;i<4&&n.getSize()<r;++i)n.appendBit(!1);var o=7&n.getSize();if(o>0)for(i=o;i<8;i++)n.appendBit(!1);var a=e-n.getSizeInBytes();for(i=0;i<a;++i)n.appendBits(1&i?17:236,8);if(n.getSize()!==r)throw new Be("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,n,r,i,o,a){if(i>=r)throw new Be("Block ID too large");var s=e%r,u=r-s,c=Math.floor(e/r),l=c+1,f=Math.floor(n/r),d=f+1,h=c-f,p=l-d;if(h!==p)throw new Be("EC bytes mismatch");if(r!==u+s)throw new Be("RS blocks mismatch");if(e!==(f+h)*u+(d+p)*s)throw new Be("Total bytes mismatch");i<u?(o[0]=f,a[0]=h):(o[0]=d,a[0]=p)},t.interleaveWithECBytes=function(e,n,r,i){var o,a,s,u;if(e.getSizeInBytes()!==r)throw new Be("Number of bits and data bytes does not match");for(var c=0,l=0,f=0,d=new Array,h=0;h<i;++h){var p=new Int32Array(1),g=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(n,r,i,h,p,g);var m=p[0],y=new Uint8Array(m);e.toBytes(8*c,y,0,m);var v=t.generateECBytes(y,g[0]);d.push(new hX(y,v)),l=Math.max(l,m),f=Math.max(f,v.length),c+=p[0]}if(r!==c)throw new Be("Data bytes does not match offset");var w=new ht;for(h=0;h<l;++h)try{for(var E=(o=void 0,mD(d)),x=E.next();!x.done;x=E.next())h<(y=x.value.getDataBytes()).length&&w.appendBits(y[h],8)}catch(H){o={error:H}}finally{try{x&&!x.done&&(a=E.return)&&a.call(E)}finally{if(o)throw o.error}}for(h=0;h<f;++h)try{for(var O=(s=void 0,mD(d)),R=O.next();!R.done;R=O.next())h<(v=R.value.getErrorCorrectionBytes()).length&&w.appendBits(v[h],8)}catch(H){s={error:H}}finally{try{R&&!R.done&&(u=O.return)&&u.call(O)}finally{if(s)throw s.error}}if(n!==w.getSizeInBytes())throw new Be("Interleaving error: "+n+" and "+w.getSizeInBytes()+" differ.");return w},t.generateECBytes=function(e,n){for(var r=e.length,i=new Int32Array(r+n),o=0;o<r;o++)i[o]=255&e[o];new pD(fn.QR_CODE_FIELD_256).encode(i,n);var a=new Uint8Array(n);for(o=0;o<n;o++)a[o]=i[r+o];return a},t.appendModeInfo=function(e,n){n.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,n,r,i){var o=r.getCharacterCountBits(n);if(e>=1<<o)throw new Be(e+" is bigger than "+((1<<o)-1));i.appendBits(e,o)},t.appendBytes=function(e,n,r,i){switch(n){case ke.NUMERIC:t.appendNumericBytes(e,r);break;case ke.ALPHANUMERIC:t.appendAlphanumericBytes(e,r);break;case ke.BYTE:t.append8BitBytes(e,r,i);break;case ke.KANJI:t.appendKanjiBytes(e,r);break;default:throw new Be("Invalid mode: "+n)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var n=t.getDigit(e);return n>=0&&n<=9},t.appendNumericBytes=function(e,n){for(var r=e.length,i=0;i<r;){var o=t.getDigit(e.charAt(i));if(i+2<r){var a=t.getDigit(e.charAt(i+1)),s=t.getDigit(e.charAt(i+2));n.appendBits(100*o+10*a+s,10),i+=3}else i+1<r?(a=t.getDigit(e.charAt(i+1)),n.appendBits(10*o+a,7),i+=2):(n.appendBits(o,4),i++)}},t.appendAlphanumericBytes=function(e,n){for(var r=e.length,i=0;i<r;){var o=t.getAlphanumericCode(e.charCodeAt(i));if(-1===o)throw new Be;if(i+1<r){var a=t.getAlphanumericCode(e.charCodeAt(i+1));if(-1===a)throw new Be;n.appendBits(45*o+a,11),i+=2}else n.appendBits(o,6),i++}},t.append8BitBytes=function(e,n,r){var i;try{i=Hn.encode(e,r)}catch(u){throw new Be(u)}for(var o=0,a=i.length;o!==a;o++)n.appendBits(i[o],8)},t.appendKanjiBytes=function(e,n){var r;try{r=Hn.encode(e,ut.SJIS)}catch(f){throw new Be(f)}for(var i=r.length,o=0;o<i;o+=2){var u=(255&r[o])<<8&4294967295|255&r[o+1],c=-1;if(u>=33088&&u<=40956?c=u-33088:u>=57408&&u<=60351&&(c=u-49472),-1===c)throw new Be("Invalid byte sequence");n.appendBits(192*(c>>8)+(255&c),13)}},t.appendECI=function(e,n){n.appendBits(ke.ECI.getBits(),4),n.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=ut.UTF8.getName(),t}();const lf=pX;!function(){function t(){}t.prototype.write=function(e,n,r,i){if(void 0===i&&(i=null),0===e.length)throw new F("Found empty contents");if(n<0||r<0)throw new F("Requested dimensions are too small: "+n+"x"+r);var o=zr.L,a=t.QUIET_ZONE_SIZE;null!==i&&(void 0!==i.get(ie.ERROR_CORRECTION)&&(o=zr.fromString(i.get(ie.ERROR_CORRECTION).toString())),void 0!==i.get(ie.MARGIN)&&(a=Number.parseInt(i.get(ie.MARGIN).toString(),10)));var s=lf.encode(e,o,i);return this.renderResult(s,n,r,a)},t.prototype.writeToDom=function(e,n,r,i,o){void 0===o&&(o=null),"string"==typeof e&&(e=document.querySelector(e));var a=this.write(n,r,i,o);e&&e.appendChild(a)},t.prototype.renderResult=function(e,n,r,i){var o=e.getMatrix();if(null===o)throw new Cr;for(var a=o.getWidth(),s=o.getHeight(),u=a+2*i,c=s+2*i,l=Math.max(n,u),f=Math.max(r,c),d=Math.min(Math.floor(l/u),Math.floor(f/c)),h=Math.floor((l-a*d)/2),p=Math.floor((f-s*d)/2),g=this.createSVGElement(l,f),m=0,y=p;m<s;m++,y+=d)for(var v=0,w=h;v<a;v++,w+=d)if(1===o.get(v,m)){var E=this.createSvgRectElement(w,y,d,d);g.appendChild(E)}return g},t.prototype.createSVGElement=function(e,n){var r=document.createElementNS(t.SVG_NS,"svg");return r.setAttributeNS(null,"height",e.toString()),r.setAttributeNS(null,"width",n.toString()),r},t.prototype.createSvgRectElement=function(e,n,r,i){var o=document.createElementNS(t.SVG_NS,"rect");return o.setAttributeNS(null,"x",e.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"height",r.toString()),o.setAttributeNS(null,"width",i.toString()),o.setAttributeNS(null,"fill","#000000"),o},t.QUIET_ZONE_SIZE=4,t.SVG_NS="http://www.w3.org/2000/svg"}();!function(){function t(){}t.prototype.encode=function(e,n,r,i,o){if(0===e.length)throw new F("Found empty contents");if(n!==B.QR_CODE)throw new F("Can only encode QR_CODE, but got "+n);if(r<0||i<0)throw new F("Requested dimensions are too small: "+r+"x"+i);var a=zr.L,s=t.QUIET_ZONE_SIZE;null!==o&&(void 0!==o.get(ie.ERROR_CORRECTION)&&(a=zr.fromString(o.get(ie.ERROR_CORRECTION).toString())),void 0!==o.get(ie.MARGIN)&&(s=Number.parseInt(o.get(ie.MARGIN).toString(),10)));var u=lf.encode(e,a,o);return t.renderResult(u,r,i,s)},t.renderResult=function(e,n,r,i){var o=e.getMatrix();if(null===o)throw new Cr;for(var a=o.getWidth(),s=o.getHeight(),u=a+2*i,c=s+2*i,l=Math.max(n,u),f=Math.max(r,c),d=Math.min(Math.floor(l/u),Math.floor(f/c)),h=Math.floor((l-a*d)/2),p=Math.floor((f-s*d)/2),g=new ln(l,f),m=0,y=p;m<s;m++,y+=d)for(var v=0,w=h;v<a;v++,w+=d)1===o.get(v,m)&&g.setRegion(w,y,d,d);return g},t.QUIET_ZONE_SIZE=4}();var mX=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){function e(n,r,i,o,a,s,u,c){var l=t.call(this,s,u)||this;if(l.yuvData=n,l.dataWidth=r,l.dataHeight=i,l.left=o,l.top=a,o+s>r||a+u>i)throw new F("Crop rectangle does not fit within image data.");return c&&l.reverseHorizontal(s,u),l}mX(e,t),e.prototype.getRow=function(n,r){if(n<0||n>=this.getHeight())throw new F("Requested row is outside the image: "+n);var i=this.getWidth();return(null==r||r.length<i)&&(r=new Uint8ClampedArray(i)),Fe.arraycopy(this.yuvData,(n+this.top)*this.dataWidth+this.left,r,0,i),r},e.prototype.getMatrix=function(){var n=this.getWidth(),r=this.getHeight();if(n===this.dataWidth&&r===this.dataHeight)return this.yuvData;var i=n*r,o=new Uint8ClampedArray(i),a=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return Fe.arraycopy(this.yuvData,a,o,0,i),o;for(var s=0;s<r;s++)Fe.arraycopy(this.yuvData,a,o,s*n,n),a+=this.dataWidth;return o},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,r,i,o){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+r,i,o,!1)},e.prototype.renderThumbnail=function(){for(var n=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(n*r),o=this.yuvData,a=this.top*this.dataWidth+this.left,s=0;s<r;s++){for(var u=s*n,c=0;c<n;c++)i[u+c]=4278190080|65793*(255&o[a+c*e.THUMBNAIL_SCALE_FACTOR]);a+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(n,r){for(var i=this.yuvData,o=0,a=this.top*this.dataWidth+this.left;o<r;o++,a+=this.dataWidth)for(var s=a+n/2,u=a,c=a+n-1;u<s;u++,c--){var l=i[u];i[u]=i[c],i[c]=l}},e.prototype.invert=function(){return new Zl(this)},e.THUMBNAIL_SCALE_FACTOR=2}(iu);var yX=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){function e(n,r,i,o,a,s,u){var c=t.call(this,r,i)||this;if(c.dataWidth=o,c.dataHeight=a,c.left=s,c.top=u,4===n.BYTES_PER_ELEMENT){for(var l=r*i,f=new Uint8ClampedArray(l),d=0;d<l;d++){var h=n[d];f[d]=((h>>16&255)+(h>>7&510)+(255&h))/4&255}c.luminances=f}else c.luminances=n;if(void 0===o&&(c.dataWidth=r),void 0===a&&(c.dataHeight=i),void 0===s&&(c.left=0),void 0===u&&(c.top=0),c.left+r>c.dataWidth||c.top+i>c.dataHeight)throw new F("Crop rectangle does not fit within image data.");return c}yX(e,t),e.prototype.getRow=function(n,r){if(n<0||n>=this.getHeight())throw new F("Requested row is outside the image: "+n);var i=this.getWidth();return(null==r||r.length<i)&&(r=new Uint8ClampedArray(i)),Fe.arraycopy(this.luminances,(n+this.top)*this.dataWidth+this.left,r,0,i),r},e.prototype.getMatrix=function(){var n=this.getWidth(),r=this.getHeight();if(n===this.dataWidth&&r===this.dataHeight)return this.luminances;var i=n*r,o=new Uint8ClampedArray(i),a=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return Fe.arraycopy(this.luminances,a,o,0,i),o;for(var s=0;s<r;s++)Fe.arraycopy(this.luminances,a,o,s*n,n),a+=this.dataWidth;return o},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,r,i,o){return new e(this.luminances,i,o,this.dataWidth,this.dataHeight,this.left+n,this.top+r)},e.prototype.invert=function(){return new Zl(this)}}(iu);var _X=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wX=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _X(e,t),e.forName=function(n){return this.getCharacterSetECIByName(n)},e}(ut);const U1=wX;var EX=function(){function t(){}return t.ISO_8859_1=ut.ISO8859_1,t}();const yD=EX;var CX=function(){function t(e,n,r){this.codewords=e,this.numcols=n,this.numrows=r,this.bits=new Uint8Array(n*r),rt.fill(this.bits,2)}return t.prototype.getNumrows=function(){return this.numrows},t.prototype.getNumcols=function(){return this.numcols},t.prototype.getBits=function(){return this.bits},t.prototype.getBit=function(e,n){return 1===this.bits[n*this.numcols+e]},t.prototype.setBit=function(e,n,r){this.bits[n*this.numcols+e]=r?1:0},t.prototype.noBit=function(e,n){return 2===this.bits[n*this.numcols+e]},t.prototype.place=function(){var e=0,n=4,r=0;do{n===this.numrows&&0===r&&this.corner1(e++),n===this.numrows-2&&0===r&&this.numcols%4!=0&&this.corner2(e++),n===this.numrows-2&&0===r&&this.numcols%8==4&&this.corner3(e++),n===this.numrows+4&&2===r&&this.numcols%8==0&&this.corner4(e++);do{n<this.numrows&&r>=0&&this.noBit(r,n)&&this.utah(n,r,e++),n-=2,r+=2}while(n>=0&&r<this.numcols);n++,r+=3;do{n>=0&&r<this.numcols&&this.noBit(r,n)&&this.utah(n,r,e++),n+=2,r-=2}while(n<this.numrows&&r>=0);n+=3,r++}while(n<this.numrows||r<this.numcols);this.noBit(this.numcols-1,this.numrows-1)&&(this.setBit(this.numcols-1,this.numrows-1,!0),this.setBit(this.numcols-2,this.numrows-2,!0))},t.prototype.module=function(e,n,r,i){e<0&&(e+=this.numrows,n+=4-(this.numrows+4)%8),n<0&&(n+=this.numcols,e+=4-(this.numcols+4)%8);var o=this.codewords.charCodeAt(r);this.setBit(n,e,0!=(o&=1<<8-i))},t.prototype.utah=function(e,n,r){this.module(e-2,n-2,r,1),this.module(e-2,n-1,r,2),this.module(e-1,n-2,r,3),this.module(e-1,n-1,r,4),this.module(e-1,n,r,5),this.module(e,n-2,r,6),this.module(e,n-1,r,7),this.module(e,n,r,8)},t.prototype.corner1=function(e){this.module(this.numrows-1,0,e,1),this.module(this.numrows-1,1,e,2),this.module(this.numrows-1,2,e,3),this.module(0,this.numcols-2,e,4),this.module(0,this.numcols-1,e,5),this.module(1,this.numcols-1,e,6),this.module(2,this.numcols-1,e,7),this.module(3,this.numcols-1,e,8)},t.prototype.corner2=function(e){this.module(this.numrows-3,0,e,1),this.module(this.numrows-2,0,e,2),this.module(this.numrows-1,0,e,3),this.module(0,this.numcols-4,e,4),this.module(0,this.numcols-3,e,5),this.module(0,this.numcols-2,e,6),this.module(0,this.numcols-1,e,7),this.module(1,this.numcols-1,e,8)},t.prototype.corner3=function(e){this.module(this.numrows-3,0,e,1),this.module(this.numrows-2,0,e,2),this.module(this.numrows-1,0,e,3),this.module(0,this.numcols-2,e,4),this.module(0,this.numcols-1,e,5),this.module(1,this.numcols-1,e,6),this.module(2,this.numcols-1,e,7),this.module(3,this.numcols-1,e,8)},t.prototype.corner4=function(e){this.module(this.numrows-1,0,e,1),this.module(this.numrows-1,this.numcols-1,e,2),this.module(0,this.numcols-3,e,3),this.module(0,this.numcols-2,e,4),this.module(0,this.numcols-1,e,5),this.module(1,this.numcols-3,e,6),this.module(1,this.numcols-2,e,7),this.module(1,this.numcols-1,e,8)},t}();const xX=CX;var H1,_D=[5,7,10,11,12,14,18,20,24,28,36,42,48,56,62,68],AX=[[228,48,15,111,62],[23,68,144,134,240,92,254],[28,24,185,166,223,248,116,255,110,61],[175,138,205,12,194,168,39,245,60,97,120],[41,153,158,91,61,42,142,213,97,178,100,242],[156,97,192,252,95,9,157,119,138,45,18,186,83,185],[83,195,100,39,188,75,66,61,241,213,109,129,94,254,225,48,90,188],[15,195,244,9,233,71,168,2,188,160,153,145,253,79,108,82,27,174,186,172],[52,190,88,205,109,39,176,21,155,197,251,223,155,21,5,172,254,124,12,181,184,96,50,193],[211,231,43,97,71,96,103,174,37,151,170,53,75,34,249,121,17,138,110,213,141,136,120,151,233,168,93,255],[245,127,242,218,130,250,162,181,102,120,84,179,220,251,80,182,229,18,2,4,68,33,101,137,95,119,115,44,175,184,59,25,225,98,81,112],[77,193,137,31,19,38,22,153,247,105,122,2,245,133,242,8,175,95,100,9,167,105,214,111,57,121,21,1,253,57,54,101,248,202,69,50,150,177,226,5,9,5],[245,132,172,223,96,32,117,22,238,133,238,231,205,188,237,87,191,106,16,147,118,23,37,90,170,205,131,88,120,100,66,138,186,240,82,44,176,87,187,147,160,175,69,213,92,253,225,19],[175,9,223,238,12,17,220,208,100,29,175,170,230,192,215,235,150,159,36,223,38,200,132,54,228,146,218,234,117,203,29,232,144,238,22,150,201,117,62,207,164,13,137,245,127,67,247,28,155,43,203,107,233,53,143,46],[242,93,169,50,144,210,39,118,202,188,201,189,143,108,196,37,185,112,134,230,245,63,197,190,250,106,185,221,175,64,114,71,161,44,147,6,27,218,51,63,87,10,40,130,188,17,163,31,176,170,4,107,232,7,94,166,224,124,86,47,11,204],[220,228,173,89,251,149,159,56,89,33,147,244,154,36,73,127,213,136,248,180,234,197,158,177,68,122,93,213,15,160,227,236,66,139,153,185,202,167,179,25,220,232,96,210,231,136,223,239,181,241,59,52,172,25,49,232,211,189,64,54,108,153,132,63,96,103,82,186]],ff=(H1=function(t,e){for(var n=1,r=0;r<255;r++)e[r]=n,t[n]=r,(n*=2)>=256&&(n^=301);return{LOG:t,ALOG:e}}([],[]),H1.LOG),wD=H1.ALOG,df="[)>\x1e05\x1d",hf="[)>\x1e06\x1d",LX=function(){function t(){}return t.encodeECC200=function(e,n){if(e.length!==n.getDataCapacity())throw new Error("The number of codewords does not match the selected symbol");var r=new ee;r.append(e);var i=n.getInterleavedBlockCount();if(1===i){var o=this.createECCBlock(e,n.getErrorCodewords());r.append(o)}else{for(var a=[],s=[],u=0;u<i;u++)a[u]=n.getDataLengthForInterleavedBlock(u+1),s[u]=n.getErrorLengthForInterleavedBlock(u+1);for(var c=0;c<i;c++){for(var l=new ee,f=c;f<n.getDataCapacity();f+=i)l.append(e.charAt(f));o=this.createECCBlock(l.toString(),s[c]);for(var d=0,h=c;h<s[c]*i;h+=i)r.setCharAt(n.getDataCapacity()+h,o.charAt(d++))}}return r.toString()},t.createECCBlock=function(e,n){for(var r=-1,i=0;i<_D.length;i++)if(_D[i]===n){r=i;break}if(r<0)throw new Error("Illegal number of error correction codewords specified: "+n);var o=AX[r],a=[];for(i=0;i<n;i++)a[i]=0;for(i=0;i<e.length;i++){for(var s=a[n-1]^e.charAt(i).charCodeAt(0),u=n-1;u>0;u--)a[u]=0!==s&&0!==o[u]?a[u-1]^wD[(ff[s]+ff[o[u]])%255]:a[u-1];a[0]=0!==s&&0!==o[0]?wD[(ff[s]+ff[o[0]])%255]:0}var c=[];for(i=0;i<n;i++)c[i]=a[n-i-1];return c.map(function(l){return String.fromCharCode(l)}).join("")},t}();const kX=LX;var BX=function(){function t(){}return t.prototype.getEncodingMode=function(){return 0},t.prototype.encode=function(e){if(oe.determineConsecutiveDigitCount(e.getMessage(),e.pos)>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var r=e.getCurrentChar(),i=oe.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case 5:return e.writeCodeword(231),void e.signalEncoderChange(5);case 1:return e.writeCodeword(230),void e.signalEncoderChange(1);case 3:e.writeCodeword(238),e.signalEncoderChange(3);break;case 2:e.writeCodeword(239),e.signalEncoderChange(2);break;case 4:e.writeCodeword(240),e.signalEncoderChange(4);break;default:throw new Error("Illegal mode: "+i)}else oe.isExtendedASCII(r)?(e.writeCodeword(235),e.writeCodeword(r-128+1),e.pos++):(e.writeCodeword(r+1),e.pos++)}},t.prototype.encodeASCIIDigits=function(e,n){if(oe.isDigit(e)&&oe.isDigit(n))return 10*(e-48)+(n-48)+130;throw new Error("not digits: "+e+n)},t}(),VX=function(){function t(){}return t.prototype.getEncodingMode=function(){return 5},t.prototype.encode=function(e){var n=new ee;for(n.append(0);e.hasMoreCharacters();){var r=e.getCurrentChar();if(n.append(r),e.pos++,oe.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode())!==this.getEncodingMode()){e.signalEncoderChange(0);break}}var o=n.length()-1,s=e.getCodewordCount()+o+1;e.updateSymbolInfo(s);var u=e.getSymbolInfo().getDataCapacity()-s>0;if(e.hasMoreCharacters()||u)if(o<=249)n.setCharAt(0,ae.getCharAt(o));else{if(!(o<=1555))throw new Error("Message length not in valid ranges: "+o);n.setCharAt(0,ae.getCharAt(Math.floor(o/250)+249)),n.insert(1,ae.getCharAt(o%250))}var c=0;for(r=n.length();c<r;c++)e.writeCodeword(this.randomize255State(n.charAt(c).charCodeAt(0),e.getCodewordCount()+1))},t.prototype.randomize255State=function(e,n){var i=e+(149*n%255+1);return i<=255?i:i-256},t}(),$1=function(){function t(){}return t.prototype.getEncodingMode=function(){return 1},t.prototype.encodeMaximal=function(e){for(var n=new ee,r=0,i=e.pos,o=0;e.hasMoreCharacters();){var a=e.getCurrentChar();e.pos++,r=this.encodeChar(a,n),n.length()%3==0&&(i=e.pos,o=n.length())}if(o!==n.length()){var s=Math.floor(n.length()/3*2),u=Math.floor(e.getCodewordCount()+s+1);e.updateSymbolInfo(u);var c=e.getSymbolInfo().getDataCapacity()-u,l=Math.floor(n.length()%3);(2===l&&2!==c||1===l&&(r>3||1!==c))&&(e.pos=i)}n.length()>0&&e.writeCodeword(230),this.handleEOD(e,n)},t.prototype.encode=function(e){for(var n=new ee;e.hasMoreCharacters();){var r=e.getCurrentChar();e.pos++;var i=this.encodeChar(r,n),o=2*Math.floor(n.length()/3),a=e.getCodewordCount()+o;e.updateSymbolInfo(a);var s=e.getSymbolInfo().getDataCapacity()-a;if(!e.hasMoreCharacters()){var u=new ee;for(n.length()%3==2&&2!==s&&(i=this.backtrackOneCharacter(e,n,u,i));n.length()%3==1&&(i>3||1!==s);)i=this.backtrackOneCharacter(e,n,u,i);break}if(n.length()%3==0&&oe.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode())!==this.getEncodingMode()){e.signalEncoderChange(0);break}}this.handleEOD(e,n)},t.prototype.backtrackOneCharacter=function(e,n,r,i){var o=n.length(),a=n.toString().substring(0,o-i);n.setLengthToZero(),n.append(a),e.pos--;var s=e.getCurrentChar();return i=this.encodeChar(s,r),e.resetSymbolInfo(),i},t.prototype.writeNextTriplet=function(e,n){e.writeCodewords(this.encodeToCodewords(n.toString()));var r=n.toString().substring(3);n.setLengthToZero(),n.append(r)},t.prototype.handleEOD=function(e,n){var r=Math.floor(n.length()/3*2),i=n.length()%3,o=e.getCodewordCount()+r;e.updateSymbolInfo(o);var a=e.getSymbolInfo().getDataCapacity()-o;if(2===i){for(n.append("\0");n.length()>=3;)this.writeNextTriplet(e,n);e.hasMoreCharacters()&&e.writeCodeword(254)}else if(1===a&&1===i){for(;n.length()>=3;)this.writeNextTriplet(e,n);e.hasMoreCharacters()&&e.writeCodeword(254),e.pos--}else{if(0!==i)throw new Error("Unexpected case. Please report!");for(;n.length()>=3;)this.writeNextTriplet(e,n);(a>0||e.hasMoreCharacters())&&e.writeCodeword(254)}e.signalEncoderChange(0)},t.prototype.encodeChar=function(e,n){return e===" ".charCodeAt(0)?(n.append(3),1):e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)?(n.append(e-48+4),1):e>="A".charCodeAt(0)&&e<="Z".charCodeAt(0)?(n.append(e-65+14),1):e<" ".charCodeAt(0)?(n.append(0),n.append(e),2):e<="/".charCodeAt(0)?(n.append(1),n.append(e-33),2):e<="@".charCodeAt(0)?(n.append(1),n.append(e-58+15),2):e<="_".charCodeAt(0)?(n.append(1),n.append(e-91+22),2):e<=127?(n.append(2),n.append(e-96),2):(n.append("1\x1e"),2+this.encodeChar(e-128,n))},t.prototype.encodeToCodewords=function(e){var n=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,r=n/256,i=n%256,o=new ee;return o.append(r),o.append(i),o.toString()},t}(),UX=function(){function t(){}return t.prototype.getEncodingMode=function(){return 4},t.prototype.encode=function(e){for(var n=new ee;e.hasMoreCharacters();){var r=e.getCurrentChar();if(this.encodeChar(r,n),e.pos++,n.length()>=4){e.writeCodewords(this.encodeToCodewords(n.toString()));var o=n.toString().substring(4);if(n.setLengthToZero(),n.append(o),oe.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode())!==this.getEncodingMode()){e.signalEncoderChange(0);break}}}n.append(ae.getCharAt(31)),this.handleEOD(e,n)},t.prototype.handleEOD=function(e,n){try{var r=n.length();if(0===r)return;if(1===r){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),o=e.getRemainingCharacters();if(o>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),o<=i&&i<=2)return}if(r>4)throw new Error("Count must not exceed 4");var a=r-1,s=this.encodeToCodewords(n.toString()),c=!e.hasMoreCharacters()&&a<=2;a<=2&&(e.updateSymbolInfo(e.getCodewordCount()+a),(i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount())>=3&&(c=!1,e.updateSymbolInfo(e.getCodewordCount()+s.length))),c?(e.resetSymbolInfo(),e.pos-=a):e.writeCodewords(s)}finally{e.signalEncoderChange(0)}},t.prototype.encodeChar=function(e,n){e>=" ".charCodeAt(0)&&e<="?".charCodeAt(0)?n.append(e):e>="@".charCodeAt(0)&&e<="^".charCodeAt(0)?n.append(ae.getCharAt(e-64)):oe.illegalCharacter(ae.getCharAt(e))},t.prototype.encodeToCodewords=function(e){var n=e.length;if(0===n)throw new Error("StringBuilder must not be empty");var s=(e.charAt(0).charCodeAt(0)<<18)+((n>=2?e.charAt(1).charCodeAt(0):0)<<12)+((n>=3?e.charAt(2).charCodeAt(0):0)<<6)+(n>=4?e.charAt(3).charCodeAt(0):0),u=s>>16&255,c=s>>8&255,l=255&s,f=new ee;return f.append(u),n>=2&&f.append(c),n>=3&&f.append(l),f.toString()},t}(),HX=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_e=function(){function t(e,n,r,i,o,a,s,u){void 0===s&&(s=0),void 0===u&&(u=0),this.rectangular=e,this.dataCapacity=n,this.errorCodewords=r,this.matrixWidth=i,this.matrixHeight=o,this.dataRegions=a,this.rsBlockData=s,this.rsBlockError=u}return t.lookup=function(e,n,r,i,o){var a,s;void 0===n&&(n=0),void 0===r&&(r=null),void 0===i&&(i=null),void 0===o&&(o=!0);try{for(var u=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(GX),c=u.next();!c.done;c=u.next()){var l=c.value;if((1!==n||!l.rectangular)&&(2!==n||l.rectangular)&&(null==r||!(l.getSymbolWidth()<r.getWidth()||l.getSymbolHeight()<r.getHeight()))&&(null==i||!(l.getSymbolWidth()>i.getWidth()||l.getSymbolHeight()>i.getHeight()))&&e<=l.dataCapacity)return l}}catch(f){a={error:f}}finally{try{c&&!c.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}if(o)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+2*this.getHorizontalDataRegions()},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+2*this.getVerticalDataRegions()},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},t}();const xD=_e;var $X=function(t){function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return HX(e,t),e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(n){return n<=8?156:155},e}(_e),GX=[new _e(!1,3,5,8,8,1),new _e(!1,5,7,10,10,1),new _e(!0,5,7,16,6,1),new _e(!1,8,10,12,12,1),new _e(!0,10,11,14,6,2),new _e(!1,12,12,14,14,1),new _e(!0,16,14,24,10,1),new _e(!1,18,14,16,16,1),new _e(!1,22,18,18,18,1),new _e(!0,22,18,16,10,2),new _e(!1,30,20,20,20,1),new _e(!0,32,24,16,14,2),new _e(!1,36,24,22,22,1),new _e(!1,44,28,24,24,1),new _e(!0,49,28,22,14,2),new _e(!1,62,36,14,14,4),new _e(!1,86,42,16,16,4),new _e(!1,114,48,18,18,4),new _e(!1,144,56,20,20,4),new _e(!1,174,68,22,22,4),new _e(!1,204,84,24,24,4,102,42),new _e(!1,280,112,14,14,16,140,56),new _e(!1,368,144,16,16,16,92,36),new _e(!1,456,192,18,18,16,114,48),new _e(!1,576,224,20,20,16,144,56),new _e(!1,696,272,22,22,16,174,68),new _e(!1,816,336,24,24,16,136,56),new _e(!1,1050,408,18,18,36,175,68),new _e(!1,1304,496,20,20,36,163,62),new $X],zX=function(){function t(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var n=e.split("").map(function(s){return s.charCodeAt(0)}),r=new ee,i=0,o=n.length;i<o;i++){var a=String.fromCharCode(255&n[i]);if("?"===a&&"?"!==e.charAt(i))throw new Error("Message contains characters outside ISO-8859-1 encoding.");r.append(a)}this.msg=r.toString(),this.shape=0,this.codewords=new ee,this.newEncoding=-1}return t.prototype.setSymbolShape=function(e){this.shape=e},t.prototype.setSizeConstraints=function(e,n){this.minSize=e,this.maxSize=n},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(e){this.codewords.append(e)},t.prototype.writeCodeword=function(e){this.codewords.append(e)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(e){this.newEncoding=e},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(e){void 0===e&&(e=this.getCodewordCount()),(null==this.symbolInfo||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=xD.lookup(e,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t}(),WX=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),XX=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return WX(e,t),e.prototype.getEncodingMode=function(){return 3},e.prototype.encode=function(n){for(var r=new ee;n.hasMoreCharacters();){var i=n.getCurrentChar();if(n.pos++,this.encodeChar(i,r),r.length()%3==0&&(this.writeNextTriplet(n,r),oe.lookAheadTest(n.getMessage(),n.pos,this.getEncodingMode())!==this.getEncodingMode())){n.signalEncoderChange(0);break}}this.handleEOD(n,r)},e.prototype.encodeChar=function(n,r){switch(n){case 13:r.append(0);break;case"*".charCodeAt(0):r.append(1);break;case">".charCodeAt(0):r.append(2);break;case" ".charCodeAt(0):r.append(3);break;default:n>="0".charCodeAt(0)&&n<="9".charCodeAt(0)?r.append(n-48+4):n>="A".charCodeAt(0)&&n<="Z".charCodeAt(0)?r.append(n-65+14):oe.illegalCharacter(ae.getCharAt(n))}return 1},e.prototype.handleEOD=function(n,r){n.updateSymbolInfo();var i=n.getSymbolInfo().getDataCapacity()-n.getCodewordCount(),o=r.length();n.pos-=o,(n.getRemainingCharacters()>1||i>1||n.getRemainingCharacters()!==i)&&n.writeCodeword(254),n.getNewEncoding()<0&&n.signalEncoderChange(0)},e}($1),qX=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ZX=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return qX(e,t),e.prototype.getEncodingMode=function(){return 2},e.prototype.encodeChar=function(n,r){return n===" ".charCodeAt(0)?(r.append(3),1):n>="0".charCodeAt(0)&&n<="9".charCodeAt(0)?(r.append(n-48+4),1):n>="a".charCodeAt(0)&&n<="z".charCodeAt(0)?(r.append(n-97+14),1):n<" ".charCodeAt(0)?(r.append(0),r.append(n),2):n<="/".charCodeAt(0)?(r.append(1),r.append(n-33),2):n<="@".charCodeAt(0)?(r.append(1),r.append(n-58+15),2):n>="[".charCodeAt(0)&&n<="_".charCodeAt(0)?(r.append(1),r.append(n-91+22),2):n==="`".charCodeAt(0)?(r.append(2),r.append(0),2):n<="Z".charCodeAt(0)?(r.append(2),r.append(n-65+1),2):n<=127?(r.append(2),r.append(n-123+27),2):(r.append("1\x1e"),2+this.encodeChar(n-128,r))},e}($1),YX=function(){function t(){}return t.randomize253State=function(e){var r=149*e%253+1+129;return r<=254?r:r-254},t.encodeHighLevel=function(e,n,r,i,o){void 0===n&&(n=0),void 0===r&&(r=null),void 0===i&&(i=null),void 0===o&&(o=!1);var a=new $1,s=[new BX,a,new ZX,new XX,new UX,new VX],u=new zX(e);u.setSymbolShape(n),u.setSizeConstraints(r,i),e.startsWith(df)&&e.endsWith("\x1e\x04")?(u.writeCodeword(236),u.setSkipAtEnd(2),u.pos+=7):e.startsWith(hf)&&e.endsWith("\x1e\x04")&&(u.writeCodeword(237),u.setSkipAtEnd(2),u.pos+=7);var c=0;for(o&&(a.encodeMaximal(u),c=u.getNewEncoding(),u.resetEncoderSignal());u.hasMoreCharacters();)s[c].encode(u),u.getNewEncoding()>=0&&(c=u.getNewEncoding(),u.resetEncoderSignal());var l=u.getCodewordCount();u.updateSymbolInfo();var f=u.getSymbolInfo().getDataCapacity();l<f&&0!==c&&5!==c&&4!==c&&u.writeCodeword("\xfe");var d=u.getCodewords();for(d.length()<f&&d.append(129);d.length()<f;)d.append(this.randomize253State(d.length()+1));return u.getCodewords().toString()},t.lookAheadTest=function(e,n,r){var i=this.lookAheadTestIntern(e,n,r);if(3===r&&3===i){for(var o=Math.min(n+3,e.length),a=n;a<o;a++)if(!this.isNativeX12(e.charCodeAt(a)))return 0}else if(4===r&&4===i)for(o=Math.min(n+4,e.length),a=n;a<o;a++)if(!this.isNativeEDIFACT(e.charCodeAt(a)))return 0;return i},t.lookAheadTestIntern=function(e,n,r){if(n>=e.length)return r;var i;0===r?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25])[r]=0;for(var o=0,a=new Uint8Array(6),s=[];;){if(n+o===e.length){rt.fill(a,0),rt.fill(s,0);var u=this.findMinimums(i,s,J.MAX_VALUE,a),c=this.getMinimumCount(a);if(s[0]===u)return 0;if(1===c){if(a[5]>0)return 5;if(a[4]>0)return 4;if(a[2]>0)return 2;if(a[3]>0)return 3}return 1}var l=e.charCodeAt(n+o);if(o++,this.isDigit(l)?i[0]+=.5:this.isExtendedASCII(l)?(i[0]=Math.ceil(i[0]),i[0]+=2):(i[0]=Math.ceil(i[0]),i[0]++),this.isNativeC40(l)?i[1]+=2/3:this.isExtendedASCII(l)?i[1]+=8/3:i[1]+=4/3,this.isNativeText(l)?i[2]+=2/3:this.isExtendedASCII(l)?i[2]+=8/3:i[2]+=4/3,this.isNativeX12(l)?i[3]+=2/3:this.isExtendedASCII(l)?i[3]+=13/3:i[3]+=10/3,this.isNativeEDIFACT(l)?i[4]+=3/4:this.isExtendedASCII(l)?i[4]+=4.25:i[4]+=3.25,this.isSpecialB256(l)?i[5]+=4:i[5]++,o>=4){if(rt.fill(a,0),rt.fill(s,0),this.findMinimums(i,s,J.MAX_VALUE,a),s[0]<this.min(s[5],s[1],s[2],s[3],s[4]))return 0;if(s[5]<s[0]||s[5]+1<this.min(s[1],s[2],s[3],s[4]))return 5;if(s[4]+1<this.min(s[5],s[1],s[2],s[3],s[0]))return 4;if(s[2]+1<this.min(s[5],s[1],s[4],s[3],s[0]))return 2;if(s[3]+1<this.min(s[5],s[1],s[4],s[2],s[0]))return 3;if(s[1]+1<this.min(s[0],s[5],s[4],s[2])){if(s[1]<s[3])return 1;if(s[1]===s[3]){for(var f=n+o+1;f<e.length;){var d=e.charCodeAt(f);if(this.isX12TermSep(d))return 3;if(!this.isNativeX12(d))break;f++}return 1}}}}},t.min=function(e,n,r,i,o){var a=Math.min(e,Math.min(n,Math.min(r,i)));return void 0===o?a:Math.min(a,o)},t.findMinimums=function(e,n,r,i){for(var o=0;o<6;o++){var a=n[o]=Math.ceil(e[o]);r>a&&(r=a,rt.fill(i,0)),r===a&&(i[o]=i[o]+1)}return r},t.getMinimumCount=function(e){for(var n=0,r=0;r<6;r++)n+=e[r];return n||0},t.isDigit=function(e){return e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)},t.isExtendedASCII=function(e){return e>=128&&e<=255},t.isNativeC40=function(e){return e===" ".charCodeAt(0)||e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)||e>="A".charCodeAt(0)&&e<="Z".charCodeAt(0)},t.isNativeText=function(e){return e===" ".charCodeAt(0)||e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)||e>="a".charCodeAt(0)&&e<="z".charCodeAt(0)},t.isNativeX12=function(e){return this.isX12TermSep(e)||e===" ".charCodeAt(0)||e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)||e>="A".charCodeAt(0)&&e<="Z".charCodeAt(0)},t.isX12TermSep=function(e){return 13===e||e==="*".charCodeAt(0)||e===">".charCodeAt(0)},t.isNativeEDIFACT=function(e){return e>=" ".charCodeAt(0)&&e<="^".charCodeAt(0)},t.isSpecialB256=function(e){return!1},t.determineConsecutiveDigitCount=function(e,n){void 0===n&&(n=0);for(var r=e.length,i=n;i<r&&this.isDigit(e.charCodeAt(i));)i++;return i-n},t.illegalCharacter=function(e){var n=J.toHexString(e.charCodeAt(0));throw n="0000".substring(0,4-n.length)+n,new Error("Illegal character: "+e+" (0x"+n+")")},t}();const oe=YX;var G1=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},AD=function(){function t(e){this.charset=e,this.name=e.name}return t.prototype.canEncode=function(e){try{return null!=Hn.encode(e,this.charset)}catch{return!1}},t}(),KX=function(){function t(e,n,r){var i,o,a,s,u,c;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(j){return new AD(U1.forName(j))}),this.encoders=[];var l=[];l.push(new AD(yD.ISO_8859_1));for(var f=null!=n&&n.name.startsWith("UTF"),d=0;d<e.length;d++){var h=!1;try{for(var p=(i=void 0,G1(l)),g=p.next();!g.done;g=p.next()){var m=g.value,y=e.charAt(d);if(y.charCodeAt(0)===r||m.canEncode(y)){h=!0;break}}}catch(j){i={error:j}}finally{try{g&&!g.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}if(!h)try{for(var w=(a=void 0,G1(this.ENCODERS)),E=w.next();!E.done;E=w.next())if((m=E.value).canEncode(e.charAt(d))){l.push(m),h=!0;break}}catch(j){a={error:j}}finally{try{E&&!E.done&&(s=w.return)&&s.call(w)}finally{if(a)throw a.error}}h||(f=!0)}if(1!==l.length||f){this.encoders=[];var x=0;try{for(var D=G1(l),O=D.next();!O.done;O=D.next())this.encoders[x++]=m=O.value}catch(j){u={error:j}}finally{try{O&&!O.done&&(c=D.return)&&c.call(D)}finally{if(u)throw u.error}}}else this.encoders=[l[0]];var R=-1;if(null!=n)for(d=0;d<this.encoders.length;d++)if(null!=this.encoders[d]&&n.name===this.encoders[d].name){R=d;break}this.priorityEncoderIndex=R}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},t.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},t.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(e,n){if(!(n<this.length()))throw new Error("index must be less than length");return!0},t.prototype.encode=function(e,n){if(!(n<this.length()))throw new Error("index must be less than length");return Hn.encode(ae.getCharAt(e),this.encoders[n].name)},t}(),JX=function(){function t(e,n,r){this.fnc1=r;var i=new KX(e,n,r);if(1===i.length())for(var o=0;o<this.bytes.length;o++){var a=e.charAt(o).charCodeAt(0);this.bytes[o]=a===r?1e3:a}else this.bytes=this.encodeMinimally(e,i,r)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(e,n){if(e+n-1>=this.bytes.length)return!1;for(var r=0;r<n;r++)if(this.isECI(e+r))return!1;return!0},t.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},t.prototype.subSequence=function(e,n){if(e<0||e>n||n>this.length())throw new Error(""+e);for(var r=new ee,i=e;i<n;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");r.append(this.charAt(i))}return r.toString()},t.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},t.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return 1e3===this.bytes[e]},t.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},t.prototype.addEdge=function(e,n,r){(null==e[n][r.encoderIndex]||e[n][r.encoderIndex].cachedTotalSize>r.cachedTotalSize)&&(e[n][r.encoderIndex]=r)},t.prototype.addEdges=function(e,n,r,i,o,a){var s=e.charAt(i).charCodeAt(0),u=0,c=n.length();n.getPriorityEncoderIndex()>=0&&(s===a||n.canEncode(s,n.getPriorityEncoderIndex()))&&(c=(u=n.getPriorityEncoderIndex())+1);for(var l=u;l<c;l++)(s===a||n.canEncode(s,l))&&this.addEdge(r,i+1,new DD(s,n,l,o,a))},t.prototype.encodeMinimally=function(e,n,r){var i=e.length,o=new(DD[i+1][n.length()]);this.addEdges(e,n,o,0,null,r);for(var a=1;a<=i;a++){for(var s=0;s<n.length();s++)null!=o[a][s]&&a<i&&this.addEdges(e,n,o,a,o[a][s],r);for(s=0;s<n.length();s++)o[a-1][s]=null}var u=-1,c=J.MAX_VALUE;for(s=0;s<n.length();s++)if(null!=o[i][s]){var l=o[i][s];l.cachedTotalSize<c&&(c=l.cachedTotalSize,u=s)}if(u<0)throw new Error('Failed to encode "'+e+'"');for(var f=[],d=o[i][u];null!=d;){if(d.isFNC1())f.unshift(1e3);else{var h=n.encode(d.c,d.encoderIndex);for(a=h.length-1;a>=0;a--)f.unshift(255&h[a])}(null===d.previous?0:d.previous.encoderIndex)!==d.encoderIndex&&f.unshift(256+n.getECIValue(d.encoderIndex)),d=d.previous}var g=[];for(a=0;a<g.length;a++)g[a]=f[a];return g},t}(),DD=function(){function t(e,n,r,i,o){this.c=e,this.encoderSet=n,this.encoderIndex=r,this.previous=i,this.fnc1=o,this.c=e===o?1e3:e;var a=this.isFNC1()?1:n.encode(e,r).length;(null===i?0:i.encoderIndex)!==r&&(a+=3),null!=i&&(a+=i.cachedTotalSize),this.cachedTotalSize=a}return t.prototype.isFNC1=function(){return 1e3===this.c},t}(),eq=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fu=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tq=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,a,r=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},T=function(t){return t[t.ASCII=0]="ASCII",t[t.C40=1]="C40",t[t.TEXT=2]="TEXT",t[t.X12=3]="X12",t[t.EDF=4]="EDF",t[t.B256=5]="B256",t}(T||{}),rq=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],hn=function(){function t(){}return t.isExtendedASCII=function(e,n){return e!==n&&e>=128&&e<=255},t.isInC40Shift1Set=function(e){return e<=31},t.isInC40Shift2Set=function(e,n){var r,i;try{for(var o=fu(rq),a=o.next();!a.done;a=o.next())if(a.value.charCodeAt(0)===e)return!0}catch(u){r={error:u}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return e===n},t.isInTextShift1Set=function(e){return this.isInC40Shift1Set(e)},t.isInTextShift2Set=function(e,n){return this.isInC40Shift2Set(e,n)},t.encodeHighLevel=function(e,n,r,i){void 0===n&&(n=null),void 0===r&&(r=-1),void 0===i&&(i=0);var o=0;return e.startsWith(df)&&e.endsWith("\x1e\x04")?(o=5,e=e.substring(7,e.length-2)):e.startsWith(hf)&&e.endsWith("\x1e\x04")&&(o=6,e=e.substring(7,e.length-2)),decodeURIComponent(escape(String.fromCharCode.apply(String,function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(tq(arguments[e]));return t}(this.encode(e,n,r,i,o)))))},t.encode=function(e,n,r,i,o){return this.encodeMinimally(new oq(e,n,r,i,o)).getBytes()},t.addEdge=function(e,n){var r=n.fromPosition+n.characterLength;(null===e[r][n.getEndMode()]||e[r][n.getEndMode()].cachedTotalSize>n.cachedTotalSize)&&(e[r][n.getEndMode()]=n)},t.getNumberOfC40Words=function(e,n,r,i){for(var o=0,a=n;a<e.length();a++){if(e.isECI(a))return i[0]=0,0;var s=e.charAt(a);if(r&&oe.isNativeC40(s)||!r&&oe.isNativeText(s))o++;else if(t.isExtendedASCII(s,e.getFNC1Character())){var u=255&s;u>=128&&(r&&oe.isNativeC40(u-128)||!r&&oe.isNativeText(u-128))?o+=3:o+=4}else o+=2;if(o%3==0||(o-2)%3==0&&a+1===e.length())return i[0]=a-n+1,Math.ceil(o/3)}return i[0]=0,0},t.addEdges=function(e,n,r,i){var o,a;if(e.isECI(r))this.addEdge(n,new jn(e,T.ASCII,r,1,i));else{var h,s=e.charAt(r);if(null===i||i.getEndMode()!==T.EDF){oe.isDigit(s)&&e.haveNCharacters(r,2)&&oe.isDigit(e.charAt(r+1))?this.addEdge(n,new jn(e,T.ASCII,r,2,i)):this.addEdge(n,new jn(e,T.ASCII,r,1,i));var u=[T.C40,T.TEXT];try{for(var c=fu(u),l=c.next();!l.done;l=c.next()){var f=l.value,d=[];t.getNumberOfC40Words(e,r,f===T.C40,d)>0&&this.addEdge(n,new jn(e,f,r,d[0],i))}}catch(g){o={error:g}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(o)throw o.error}}e.haveNCharacters(r,3)&&oe.isNativeX12(e.charAt(r))&&oe.isNativeX12(e.charAt(r+1))&&oe.isNativeX12(e.charAt(r+2))&&this.addEdge(n,new jn(e,T.X12,r,3,i)),this.addEdge(n,new jn(e,T.B256,r,1,i))}for(h=0;h<3;h++){var p=r+h;if(!e.haveNCharacters(p,1)||!oe.isNativeEDIFACT(e.charAt(p)))break;this.addEdge(n,new jn(e,T.EDF,r,h+1,i))}3===h&&e.haveNCharacters(r,4)&&oe.isNativeEDIFACT(e.charAt(r+3))&&this.addEdge(n,new jn(e,T.EDF,r,4,i))}},t.encodeMinimally=function(e){var n=e.length(),r=Array(n+1).fill(null).map(function(){return Array(6).fill(0)});this.addEdges(e,r,0,null);for(var i=1;i<=n;i++){for(var o=0;o<6;o++)null!==r[i][o]&&i<n&&this.addEdges(e,r,i,r[i][o]);for(o=0;o<6;o++)r[i-1][o]=null}var a=-1,s=J.MAX_VALUE;for(o=0;o<6;o++)if(null!==r[n][o]){var u=r[n][o],c=o>=1&&o<=3?u.cachedTotalSize+1:u.cachedTotalSize;c<s&&(s=c,a=o)}if(a<0)throw new Error('Failed to encode "'+e+'"');return new iq(r[n][a])},t}(),iq=function(){function t(e){var n=e.input,r=0,i=[],o=[],a=[];(e.mode===T.C40||e.mode===T.TEXT||e.mode===T.X12)&&e.getEndMode()!==T.ASCII&&(r+=this.prepend(jn.getBytes(254),i));for(var s=e;null!==s;)r+=this.prepend(s.getDataBytes(),i),(null===s.previous||s.getPreviousStartMode()!==s.getMode())&&(s.getMode()===T.B256&&(r<=249?(i.unshift(r),r++):(i.unshift(r%250),i.unshift(r/250+249),r+=2),o.push(i.length),a.push(r)),this.prepend(s.getLatchBytes(),i),r=0),s=s.previous;5===n.getMacroId()?r+=this.prepend(jn.getBytes(236),i):6===n.getMacroId()&&(r+=this.prepend(jn.getBytes(237),i)),n.getFNC1Character()>0&&(r+=this.prepend(jn.getBytes(232),i));for(var u=0;u<o.length;u++)this.applyRandomPattern(i,i.length-o[u],a[u]);var c=e.getMinSymbolSize(i.length);for(i.length<c&&i.push(129);i.length<c;)i.push(this.randomize253State(i.length+1));for(this.bytes=new Uint8Array(i.length),u=0;u<this.bytes.length;u++)this.bytes[u]=i[u]}return t.prototype.prepend=function(e,n){for(var r=e.length-1;r>=0;r--)n.unshift(e[r]);return e.length},t.prototype.randomize253State=function(e){var r=149*e%253+1+129;return r<=254?r:r-254},t.prototype.applyRandomPattern=function(e,n,r){for(var i=0;i<r;i++){var o=n+i,u=149*(o+1)%255+1+(255&e[o]);e[o]=u<=255?u:u-256}},t.prototype.getBytes=function(){return this.bytes},t}(),jn=function(){function t(e,n,r,i,o){if(this.input=e,this.mode=n,this.fromPosition=r,this.characterLength=i,this.previous=o,this.allCodewordCapacities=[3,5,8,10,12,16,18,22,30,32,36,44,49,62,86,114,144,174,204,280,368,456,576,696,816,1050,1304,1558],this.squareCodewordCapacities=[3,5,8,12,18,22,30,36,44,62,86,114,144,174,204,280,368,456,576,696,816,1050,1304,1558],this.rectangularCodewordCapacities=[5,10,16,33,32,49],!(r+i<=e.length()))throw new Error("Invalid edge");var a=null!==o?o.cachedTotalSize:0,s=this.getPreviousMode();switch(n){case T.ASCII:a++,(e.isECI(r)||hn.isExtendedASCII(e.charAt(r),e.getFNC1Character()))&&a++,(s===T.C40||s===T.TEXT||s===T.X12)&&a++;break;case T.B256:a++,(s!==T.B256||250===this.getB256Size())&&a++,s===T.ASCII?a++:(s===T.C40||s===T.TEXT||s===T.X12)&&(a+=2);break;case T.C40:case T.TEXT:case T.X12:a+=n===T.X12?2:2*hn.getNumberOfC40Words(e,r,n===T.C40,[]),s===T.ASCII||s===T.B256?a++:s!==n&&(s===T.C40||s===T.TEXT||s===T.X12)&&(a+=2);break;case T.EDF:a+=3,s===T.ASCII||s===T.B256?a++:(s===T.C40||s===T.TEXT||s===T.X12)&&(a+=2)}this.cachedTotalSize=a}return t.prototype.getB256Size=function(){for(var e=0,n=this;null!==n&&n.mode===T.B256&&e<=250;)e++,n=n.previous;return e},t.prototype.getPreviousStartMode=function(){return null===this.previous?T.ASCII:this.previous.mode},t.prototype.getPreviousMode=function(){return null===this.previous?T.ASCII:this.previous.getEndMode()},t.prototype.getEndMode=function(){if(this.mode===T.EDF){if(this.characterLength<4)return T.ASCII;if((e=this.getLastASCII())>0&&this.getCodewordsRemaining(this.cachedTotalSize+e)<=2-e)return T.ASCII}if(this.mode===T.C40||this.mode===T.TEXT||this.mode===T.X12){if(this.fromPosition+this.characterLength>=this.input.length()&&0===this.getCodewordsRemaining(this.cachedTotalSize))return T.ASCII;var e;if(1===(e=this.getLastASCII())&&0===this.getCodewordsRemaining(this.cachedTotalSize+1))return T.ASCII}return this.mode},t.prototype.getMode=function(){return this.mode},t.prototype.getLastASCII=function(){var e=this.input.length(),n=this.fromPosition+this.characterLength;return e-n>4||n>=e?0:e-n==1?hn.isExtendedASCII(this.input.charAt(n),this.input.getFNC1Character())?0:1:e-n==2?hn.isExtendedASCII(this.input.charAt(n),this.input.getFNC1Character())||hn.isExtendedASCII(this.input.charAt(n+1),this.input.getFNC1Character())?0:oe.isDigit(this.input.charAt(n))&&oe.isDigit(this.input.charAt(n+1))?1:2:e-n==3?oe.isDigit(this.input.charAt(n))&&oe.isDigit(this.input.charAt(n+1))&&!hn.isExtendedASCII(this.input.charAt(n+2),this.input.getFNC1Character())||oe.isDigit(this.input.charAt(n+1))&&oe.isDigit(this.input.charAt(n+2))&&!hn.isExtendedASCII(this.input.charAt(n),this.input.getFNC1Character())?2:0:oe.isDigit(this.input.charAt(n))&&oe.isDigit(this.input.charAt(n+1))&&oe.isDigit(this.input.charAt(n+2))&&oe.isDigit(this.input.charAt(n+3))?2:0},t.prototype.getMinSymbolSize=function(e){var n,r,i,o,a,s;switch(this.input.getShapeHint()){case 1:try{for(var u=fu(this.squareCodewordCapacities),c=u.next();!c.done;c=u.next())if((l=c.value)>=e)return l}catch(g){n={error:g}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}break;case 2:try{for(var f=fu(this.rectangularCodewordCapacities),d=f.next();!d.done;d=f.next())if((l=d.value)>=e)return l}catch(g){i={error:g}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}}try{for(var h=fu(this.allCodewordCapacities),p=h.next();!p.done;p=h.next()){var l;if((l=p.value)>=e)return l}}catch(g){a={error:g}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(a)throw a.error}}return this.allCodewordCapacities[this.allCodewordCapacities.length-1]},t.prototype.getCodewordsRemaining=function(e){return this.getMinSymbolSize(e)-e},t.getBytes=function(e,n){var r=new Uint8Array(n?2:1);return r[0]=e,n&&(r[1]=n),r},t.prototype.setC40Word=function(e,n,r,i,o){var a=1600*(255&r)+40*(255&i)+(255&o)+1;e[n]=a/256,e[n+1]=a%256},t.prototype.getX12Value=function(e){return 13===e?0:42===e?1:62===e?2:32===e?3:e>=48&&e<=57?e-44:e>=65&&e<=90?e-51:e},t.prototype.getX12Words=function(){if(this.characterLength%3!=0)throw new Error("X12 words must be a multiple of 3");for(var e=new Uint8Array(this.characterLength/3*2),n=0;n<e.length;n+=2)this.setC40Word(e,n,this.getX12Value(this.input.charAt(this.fromPosition+n/2*3)),this.getX12Value(this.input.charAt(this.fromPosition+n/2*3+1)),this.getX12Value(this.input.charAt(this.fromPosition+n/2*3+2)));return e},t.prototype.getShiftValue=function(e,n,r){return n&&hn.isInC40Shift1Set(e)||!n&&hn.isInTextShift1Set(e)?0:n&&hn.isInC40Shift2Set(e,r)||!n&&hn.isInTextShift2Set(e,r)?1:2},t.prototype.getC40Value=function(e,n,r,i){if(r===i){if(2!==n)throw new Error("FNC1 cannot be used in C40 shift 2");return 27}return e?r<=31?r:32===r?3:r<=47?r-33:r<=57?r-44:r<=64?r-43:r<=90?r-51:r<=95?r-69:r<=127?r-96:r:0===r?0:0===n&&r<=3?r-1:1===n&&r<=31?r:32===r?3:r>=33&&r<=47?r-33:r>=48&&r<=57?r-44:r>=58&&r<=64?r-43:r>=65&&r<=90?r-64:r>=91&&r<=95?r-69:96===r?0:r>=97&&r<=122?r-83:r>=123&&r<=127?r-96:r},t.prototype.getC40Words=function(e,n){for(var r=[],i=0;i<this.characterLength;i++){var o=this.input.charAt(this.fromPosition+i);if(e&&oe.isNativeC40(o)||!e&&oe.isNativeText(o))r.push(this.getC40Value(e,0,o,n));else if(hn.isExtendedASCII(o,n)){var s=(255&o)-128;if(e&&oe.isNativeC40(s)||!e&&oe.isNativeText(s))r.push(1),r.push(30),r.push(this.getC40Value(e,0,s,n));else{r.push(1),r.push(30);var a=this.getShiftValue(s,e,n);r.push(a),r.push(this.getC40Value(e,a,s,n))}}else a=this.getShiftValue(o,e,n),r.push(a),r.push(this.getC40Value(e,a,o,n))}if(r.length%3!=0){if((r.length-2)%3!=0||this.fromPosition+this.characterLength!==this.input.length())throw new Error("C40 words must be a multiple of 3");r.push(0)}var u=new Uint8Array(r.length/3*2),c=0;for(i=0;i<r.length;i+=3)this.setC40Word(u,c,255&r[i],255&r[i+1],255&r[i+2]),c+=2;return u},t.prototype.getEDFBytes=function(){for(var e=Math.ceil(this.characterLength/4),n=new Uint8Array(3*e),r=this.fromPosition,i=Math.min(this.fromPosition+this.characterLength-1,this.input.length()-1),o=0;o<e;o+=3){for(var a=[],s=0;s<4;s++)a[s]=r<=i?63&this.input.charAt(r++):r===i+1?31:0;var u=a[0]<<18;u|=a[1]<<12,u|=a[2]<<6,n[o]=(u|=a[3])>>16&255,n[o+1]=u>>8&255,n[o+2]=255&u}return n},t.prototype.getLatchBytes=function(){switch(this.getPreviousMode()){case T.ASCII:case T.B256:switch(this.mode){case T.B256:return t.getBytes(231);case T.C40:return t.getBytes(230);case T.TEXT:return t.getBytes(239);case T.X12:return t.getBytes(238);case T.EDF:return t.getBytes(240)}break;case T.C40:case T.TEXT:case T.X12:if(this.mode!==this.getPreviousMode())switch(this.mode){case T.ASCII:return t.getBytes(254);case T.B256:return t.getBytes(254,231);case T.C40:return t.getBytes(254,230);case T.TEXT:return t.getBytes(254,239);case T.X12:return t.getBytes(254,238);case T.EDF:return t.getBytes(254,240)}break;case T.EDF:if(this.mode!==T.EDF)throw new Error("Cannot switch from EDF to "+this.mode)}return new Uint8Array(0)},t.prototype.getDataBytes=function(){switch(this.mode){case T.ASCII:return this.input.isECI(this.fromPosition)?t.getBytes(241,this.input.getECIValue(this.fromPosition)+1):hn.isExtendedASCII(this.input.charAt(this.fromPosition),this.input.getFNC1Character())?t.getBytes(235,this.input.charAt(this.fromPosition)-127):2===this.characterLength?t.getBytes(10*this.input.charAt(this.fromPosition)+this.input.charAt(this.fromPosition+1)+130):this.input.isFNC1(this.fromPosition)?t.getBytes(232):t.getBytes(this.input.charAt(this.fromPosition)+1);case T.B256:return t.getBytes(this.input.charAt(this.fromPosition));case T.C40:return this.getC40Words(!0,this.input.getFNC1Character());case T.TEXT:return this.getC40Words(!1,this.input.getFNC1Character());case T.X12:return this.getX12Words();case T.EDF:return this.getEDFBytes()}},t}(),oq=function(t){function e(n,r,i,o,a){var s=t.call(this,n,r,i)||this;return s.shape=o,s.macroId=a,s}return eq(e,t),e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e}(JX);!function(){function t(){}t.prototype.encode=function(e,n,r,i,o){if(void 0===o&&(o=null),""===e.trim())throw new Error("Found empty contents");if(n!==B.DATA_MATRIX)throw new Error("Can only encode DATA_MATRIX, but got "+n);if(r<0||i<0)throw new Error("Requested dimensions can't be negative: "+r+"x"+i);var d,a=0,s=null,u=null;if(null!=o){var c=o.get(ie.DATA_MATRIX_SHAPE);null!=c&&(a=c);var l=o.get(ie.MIN_SIZE);null!=l&&(s=l);var f=o.get(ie.MAX_SIZE);null!=f&&(u=f)}if(null!=o&&o.has(ie.DATA_MATRIX_COMPACT)&&o.get(ie.DATA_MATRIX_COMPACT).toString()){var p=o.has(ie.GS1_FORMAT)&&!!o.get(ie.GS1_FORMAT).toString(),g=null;o.has(ie.CHARACTER_SET)&&(g=U1.forName(o.get(ie.CHARACTER_SET).toString())),d=hn.encodeHighLevel(e,g,p?29:-1,a)}else{var y=null!=o&&o.has(ie.FORCE_C40)&&!!o.get(ie.FORCE_C40).toString();d=oe.encodeHighLevel(e,a,s,u,y)}var v=xD.lookup(d.length,a,s,u,!0),w=kX.encodeECC200(d,v),E=new xX(w,v.getSymbolDataWidth(),v.getSymbolDataHeight());return E.place(),this.encodeLowLevel(E,v,r,i)},t.prototype.encodeLowLevel=function(e,n,r,i){for(var o=n.getSymbolDataWidth(),a=n.getSymbolDataHeight(),s=new gD(n.getSymbolWidth(),n.getSymbolHeight()),u=0,c=0;c<a;c++){var l=void 0;if(c%n.matrixHeight==0){l=0;for(var f=0;f<n.getSymbolWidth();f++)s.setBoolean(l,u,f%2==0),l++;u++}for(l=0,f=0;f<o;f++)f%n.matrixWidth==0&&(s.setBoolean(l,u,!0),l++),s.setBoolean(l,u,e.getBit(f,c)),l++,f%n.matrixWidth==n.matrixWidth-1&&(s.setBoolean(l,u,c%2==0),l++);if(u++,c%n.matrixHeight==n.matrixHeight-1){for(l=0,f=0;f<n.getSymbolWidth();f++)s.setBoolean(l,u,!0),l++;u++}}return this.convertByteMatrixToBitMatrix(s,r,i)},t.prototype.convertByteMatrixToBitMatrix=function(e,n,r){var f,i=e.getWidth(),o=e.getHeight(),a=Math.max(n,i),s=Math.max(r,o),u=Math.min(a/i,s/o),c=(a-i*u)/2,l=(s-o*u)/2;r<o||n<i?(c=0,l=0,f=new ln(i,o)):f=new ln(n,r),f.clear();for(var d=0,h=l;d<o;d++,h+=u)for(var p=0,g=c;p<i;p++,g+=u)1===e.get(p,d)&&f.setRegion(g,h,u,u);return f}}();var aq=function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t}();const sq=aq;var uq=function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,n){return e.sort(n)[0]},t}();const SD=uq;var cq=function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t}();const lq=cq;var fq=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dq=function(t){function e(n,r,i){var o=t.call(this,n)||this;return o.value=r,o.bitCount=i,o}return fq(e,t),e.prototype.appendTo=function(n,r){n.appendBits(this.value,this.bitCount)},e.prototype.add=function(n,r){return new e(this,n,r)},e.prototype.addBinaryShift=function(n,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,n,r)},e.prototype.toString=function(){var n=this.value&(1<<this.bitCount)-1;return"<"+J.toBinaryString((n|=1<<this.bitCount)|1<<this.bitCount).substring(1)+">"},e}(lq);const z1=dq;var hq=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pq=function(t){function e(n,r,i){var o=t.call(this,n,0,0)||this;return o.binaryShiftStart=r,o.binaryShiftByteCount=i,o}return hq(e,t),e.prototype.appendTo=function(n,r){for(var i=0;i<this.binaryShiftByteCount;i++)(0===i||31===i&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):n.appendBits(0===i?Math.min(this.binaryShiftByteCount,31):this.binaryShiftByteCount-31,5)),n.appendBits(r[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(n,r){return new e(this,n,r)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(z1);const gq=pq;function du(t,e,n){return new z1(t,e,n)}var mq=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],yq=new z1(null,0,0),W1=[Int32Array.from([0,327708,327710,327709,656318]),Int32Array.from([590318,0,327710,327709,656318]),Int32Array.from([262158,590300,0,590301,932798]),Int32Array.from([327709,327708,656318,0,327710]),Int32Array.from([327711,656380,656382,656381,0])],bD=function wq(t){var e,n;try{for(var r=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),i=r.next();!i.done;i=r.next())rt.fill(i.value,-1)}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return t[0][4]=0,t[1][4]=0,t[1][0]=28,t[3][4]=0,t[2][4]=0,t[2][0]=15,t}(rt.createInt32Array(6,6)),Cq=function(){function t(e,n,r,i){this.token=e,this.mode=n,this.binaryShiftByteCount=r,this.bitCount=i}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,n){var r=this.bitCount,i=this.token;if(e!==this.mode){var o=W1[this.mode][e];i=du(i,65535&o,o>>16),r+=o>>16}var a=2===e?4:5;return new t(i=du(i,n,a),e,0,r+a)},t.prototype.shiftAndAppend=function(e,n){var r=this.token,i=2===this.mode?4:5;return r=du(r,bD[this.mode][e],i),new t(r=du(r,n,5),this.mode,0,this.bitCount+i+5)},t.prototype.addBinaryShiftChar=function(e){var n=this.token,r=this.mode,i=this.bitCount;if(4===this.mode||2===this.mode){var o=W1[r][0];n=du(n,65535&o,o>>16),i+=o>>16,r=0}var s=new t(n,r,this.binaryShiftByteCount+1,i+(0===this.binaryShiftByteCount||31===this.binaryShiftByteCount?18:62===this.binaryShiftByteCount?9:8));return 2078===s.binaryShiftByteCount&&(s=s.endBinaryShift(e+1)),s},t.prototype.endBinaryShift=function(e){if(0===this.binaryShiftByteCount)return this;var n=this.token;return n=function vq(t,e,n){return new gq(t,e,n)}(n,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(n,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var n=this.bitCount+(W1[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?n+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(n+=10),n<=e.bitCount},t.prototype.toBitArray=function(e){for(var n,r,i=[],o=this.endBinaryShift(e.length).token;null!==o;o=o.getPrevious())i.unshift(o);var a=new ht;try{for(var s=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),u=s.next();!u.done;u=s.next())u.value.appendTo(a,e)}catch(l){n={error:l}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return a},t.prototype.toString=function(){return ae.format("%s bits=%d bytes=%d",mq[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(yq,0,0,0),t}();const xq=Cq;var X1=function Aq(t){var e=ae.getCharCode(" "),n=ae.getCharCode("."),r=ae.getCharCode(",");t[0][e]=1;for(var i=ae.getCharCode("Z"),o=ae.getCharCode("A"),a=o;a<=i;a++)t[0][a]=a-o+2;t[1][e]=1;var s=ae.getCharCode("z"),u=ae.getCharCode("a");for(a=u;a<=s;a++)t[1][a]=a-u+2;t[2][e]=1;var c=ae.getCharCode("9"),l=ae.getCharCode("0");for(a=l;a<=c;a++)t[2][a]=a-l+2;t[2][r]=12,t[2][n]=13;for(var f=["\0"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","\t","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~","\x7f"],d=0;d<f.length;d++)t[3][ae.getCharCode(f[d])]=d;var h=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(d=0;d<h.length;d++)ae.getCharCode(h[d])>0&&(t[4][ae.getCharCode(h[d])]=d);return t}(rt.createInt32Array(5,256)),vf=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Dq=function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=ae.getCharCode(" "),n=ae.getCharCode("\n"),r=SD.singletonList(xq.INITIAL_STATE),i=0;i<this.text.length;i++){var o=void 0,a=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case ae.getCharCode("\r"):o=a===n?2:0;break;case ae.getCharCode("."):o=a===e?3:0;break;case ae.getCharCode(","):o=a===e?4:0;break;case ae.getCharCode(":"):o=a===e?5:0;break;default:o=0}o>0?(r=t.updateStateListForPair(r,i,o),i++):r=this.updateStateListForChar(r,i)}return SD.min(r,function(u,c){return u.getBitCount()-c.getBitCount()}).toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,n){var r,i,o=[];try{for(var a=vf(e),s=a.next();!s.done;s=a.next())this.updateStateForChar(s.value,n,o)}catch(c){r={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return t.simplifyStates(o)},t.prototype.updateStateForChar=function(e,n,r){for(var i=255&this.text[n],o=X1[e.getMode()][i]>0,a=null,s=0;s<=4;s++){var u=X1[s][i];if(u>0){if(null==a&&(a=e.endBinaryShift(n)),!o||s===e.getMode()||2===s){var c=a.latchAndAppend(s,u);r.push(c)}if(!o&&bD[e.getMode()][s]>=0){var l=a.shiftAndAppend(s,u);r.push(l)}}}if(e.getBinaryShiftByteCount()>0||0===X1[e.getMode()][i]){var f=e.addBinaryShiftChar(n);r.push(f)}},t.updateStateListForPair=function(e,n,r){var i,o,a=[];try{for(var s=vf(e),u=s.next();!u.done;u=s.next())this.updateStateForPair(u.value,n,r,a)}catch(l){i={error:l}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return this.simplifyStates(a)},t.updateStateForPair=function(e,n,r,i){var o=e.endBinaryShift(n);if(i.push(o.latchAndAppend(4,r)),4!==e.getMode()&&i.push(o.shiftAndAppend(4,r)),3===r||4===r){var a=o.latchAndAppend(2,16-r).latchAndAppend(2,1);i.push(a)}if(e.getBinaryShiftByteCount()>0){var s=e.addBinaryShiftChar(n).addBinaryShiftChar(n+1);i.push(s)}},t.simplifyStates=function(e){var n,r,i,o,a=[];try{for(var s=vf(e),u=s.next();!u.done;u=s.next()){var c=u.value,l=!0,f=function(m){if(m.isBetterThanOrEqualTo(c))return l=!1,"break";c.isBetterThanOrEqualTo(m)&&(a=a.filter(function(y){return y!==m}))};try{for(var d=(i=void 0,vf(a)),h=d.next();!h.done&&"break"!==f(h.value);h=d.next());}catch(m){i={error:m}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}l&&a.push(c)}}catch(m){n={error:m}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return a},t}();const Sq=Dq;var bq=function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,n,r){var s,u,c,l,f,i=new Sq(e).encode(),o=J.truncDivision(i.getSize()*n,100)+11,a=i.getSize()+o;if(r!==t.DEFAULT_AZTEC_LAYERS){if(s=r<0,(u=Math.abs(r))>(s?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new F(ae.format("Illegal value %s for layers",r));var d=(c=t.totalBitsInLayer(u,s))-c%(l=t.WORD_SIZE[u]);if((f=t.stuffBits(i,l)).getSize()+o>d)throw new F("Data to large for user specified layer");if(s&&f.getSize()>64*l)throw new F("Data to large for user specified layer")}else{l=0,f=null;for(var h=0;;h++){if(h>t.MAX_NB_BITS)throw new F("Data too large for an Aztec code");if(!(a>(c=t.totalBitsInLayer(u=(s=h<=3)?h+1:h,s)))&&((null==f||l!==t.WORD_SIZE[u])&&(f=t.stuffBits(i,l=t.WORD_SIZE[u])),d=c-c%l,!(s&&f.getSize()>64*l)&&f.getSize()+o<=d))break}}var w,p=t.generateCheckWords(f,c,l),g=f.getSize()/l,m=t.generateModeMessage(s,u,g),y=(s?11:14)+4*u,v=new Int32Array(y);if(s)for(w=y,h=0;h<v.length;h++)v[h]=h;else{w=y+1+2*J.truncDivision(J.truncDivision(y,2)-1,15);var E=J.truncDivision(y,2),x=J.truncDivision(w,2);for(h=0;h<E;h++){var D=h+J.truncDivision(h,15);v[E-h-1]=x-D-1,v[E+h]=x+D+1}}for(var O=new ln(w),R=(h=0,0);h<u;h++){for(var j=4*(u-h)+(s?9:12),H=0;H<j;H++)for(var ze=2*H,de=0;de<2;de++)p.get(R+ze+de)&&O.set(v[2*h+de],v[2*h+H]),p.get(R+2*j+ze+de)&&O.set(v[2*h+H],v[y-1-2*h-de]),p.get(R+4*j+ze+de)&&O.set(v[y-1-2*h-de],v[y-1-2*h-H]),p.get(R+6*j+ze+de)&&O.set(v[y-1-2*h-H],v[2*h+de]);R+=8*j}if(t.drawModeMessage(O,s,w,m),s)t.drawBullsEye(O,J.truncDivision(w,2),5);else for(t.drawBullsEye(O,J.truncDivision(w,2),7),h=0,H=0;h<J.truncDivision(y,2)-1;h+=15,H+=16)for(de=1&J.truncDivision(w,2);de<w;de+=2)O.set(J.truncDivision(w,2)-H,de),O.set(J.truncDivision(w,2)+H,de),O.set(de,J.truncDivision(w,2)-H),O.set(de,J.truncDivision(w,2)+H);var We=new sq;return We.setCompact(s),We.setSize(w),We.setLayers(u),We.setCodeWords(g),We.setMatrix(O),We},t.drawBullsEye=function(e,n,r){for(var i=0;i<r;i+=2)for(var o=n-i;o<=n+i;o++)e.set(o,n-i),e.set(o,n+i),e.set(n-i,o),e.set(n+i,o);e.set(n-r,n-r),e.set(n-r+1,n-r),e.set(n-r,n-r+1),e.set(n+r,n-r),e.set(n+r,n-r+1),e.set(n+r,n+r-1)},t.generateModeMessage=function(e,n,r){var i=new ht;return e?(i.appendBits(n-1,2),i.appendBits(r-1,6),i=t.generateCheckWords(i,28,4)):(i.appendBits(n-1,5),i.appendBits(r-1,11),i=t.generateCheckWords(i,40,4)),i},t.drawModeMessage=function(e,n,r,i){var o=J.truncDivision(r,2);if(n)for(var a=0;a<7;a++){var s=o-3+a;i.get(a)&&e.set(s,o-5),i.get(a+7)&&e.set(o+5,s),i.get(20-a)&&e.set(s,o+5),i.get(27-a)&&e.set(o-5,s)}else for(a=0;a<10;a++)s=o-5+a+J.truncDivision(a,5),i.get(a)&&e.set(s,o-7),i.get(a+10)&&e.set(o+7,s),i.get(29-a)&&e.set(s,o+7),i.get(39-a)&&e.set(o-7,s)},t.generateCheckWords=function(e,n,r){var i,o,a=e.getSize()/r,s=new pD(t.getGF(r)),u=J.truncDivision(n,r),c=t.bitsToWords(e,r,u);s.encode(c,u-a);var l=n%r,f=new ht;f.appendBits(0,l);try{for(var d=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(Array.from(c)),h=d.next();!h.done;h=d.next())f.appendBits(h.value,r)}catch(g){i={error:g}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}return f},t.bitsToWords=function(e,n,r){var o,a,i=new Int32Array(r);for(o=0,a=e.getSize()/n;o<a;o++){for(var s=0,u=0;u<n;u++)s|=e.get(o*n+u)?1<<n-u-1:0;i[o]=s}return i},t.getGF=function(e){switch(e){case 4:return fn.AZTEC_PARAM;case 6:return fn.AZTEC_DATA_6;case 8:return fn.AZTEC_DATA_8;case 10:return fn.AZTEC_DATA_10;case 12:return fn.AZTEC_DATA_12;default:throw new F("Unsupported word size "+e)}},t.stuffBits=function(e,n){for(var r=new ht,i=e.getSize(),o=(1<<n)-2,a=0;a<i;a+=n){for(var s=0,u=0;u<n;u++)(a+u>=i||e.get(a+u))&&(s|=1<<n-1-u);(s&o)===o?(r.appendBits(s&o,n),a--):s&o?r.appendBits(s,n):(r.appendBits(1|s,n),a--)}return r},t.totalBitsInLayer=function(e,n){return((n?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t}();const q1=bq;!function(){function t(){}t.prototype.encode=function(e,n,r,i){return this.encodeWithHints(e,n,r,i,null)},t.prototype.encodeWithHints=function(e,n,r,i,o){var a=yD.ISO_8859_1,s=q1.DEFAULT_EC_PERCENT,u=q1.DEFAULT_AZTEC_LAYERS;return null!=o&&(o.has(ie.CHARACTER_SET)&&(a=U1.forName(o.get(ie.CHARACTER_SET).toString())),o.has(ie.ERROR_CORRECTION)&&(s=J.parseInt(o.get(ie.ERROR_CORRECTION).toString())),o.has(ie.AZTEC_LAYERS)&&(u=J.parseInt(o.get(ie.AZTEC_LAYERS).toString()))),t.encodeLayers(e,n,r,i,a,s,u)},t.encodeLayers=function(e,n,r,i,o,a,s){if(n!==B.AZTEC)throw new F("Can only encode AZTEC, but got "+n);var u=q1.encode(ae.getBytes(e,o),a,s);return t.renderResult(u,r,i)},t.renderResult=function(e,n,r){var i=e.getMatrix();if(null==i)throw new Cr;for(var o=i.getWidth(),a=i.getHeight(),s=Math.max(n,o),u=Math.max(r,a),c=Math.min(s/o,u/a),l=(s-o*c)/2,f=(u-a*c)/2,d=new ln(s,u),h=0,p=f;h<a;h++,p+=c)for(var g=0,m=l;g<o;g++,m+=c)i.get(g,h)&&d.setRegion(m,p,c,c);return d}}();const xa=new k("CallSetDisabledState",{providedIn:"root",factory:()=>Cf}),Cf="always";let gS=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Mn({type:t});static#n=this.\u0275inj=vn({})}return t})(),SZ=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Mn({type:t});static#n=this.\u0275inj=vn({imports:[gS]})}return t})(),bZ=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:xa,useValue:n.callSetDisabledState??Cf}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Mn({type:t});static#n=this.\u0275inj=vn({imports:[SZ]})}return t})();var OZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),MZ=function(t){function e(n){var r=t.call(this,n.width,n.height)||this;return r.canvas=n,r.tempCanvasElement=null,r.buffer=e.makeBufferFromCanvasImageData(n),r}return OZ(e,t),e.makeBufferFromCanvasImageData=function(n){var r;try{r=n.getContext("2d",{willReadFrequently:!0})}catch{r=n.getContext("2d")}if(!r)throw new Error("Couldn't get canvas context.");var i=r.getImageData(0,0,n.width,n.height);return e.toGrayscaleBuffer(i.data,n.width,n.height)},e.toGrayscaleBuffer=function(n,r,i){for(var o=new Uint8ClampedArray(r*i),a=0,s=0,u=n.length;a<u;a+=4,s++){o[s]=0===n[a+3]?255:306*n[a]+601*n[a+1]+117*n[a+2]+512>>10}return o},e.prototype.getRow=function(n,r){if(n<0||n>=this.getHeight())throw new F("Requested row is outside the image: "+n);var i=this.getWidth(),o=n*i;return null===r?r=this.buffer.slice(o,o+i):(r.length<i&&(r=new Uint8ClampedArray(i)),r.set(this.buffer.slice(o,o+i))),r},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,r,i,o){return t.prototype.crop.call(this,n,r,i,o),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.invert=function(){return new Zl(this)},e.prototype.getTempCanvasElement=function(){if(null===this.tempCanvasElement){var n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement},e.prototype.rotate=function(n){var r=this.getTempCanvasElement();if(!r)throw new Error("Could not create a Canvas element.");var i=n*e.DEGREE_TO_RADIANS,o=this.canvas.width,a=this.canvas.height,s=Math.ceil(Math.abs(Math.cos(i))*o+Math.abs(Math.sin(i))*a),u=Math.ceil(Math.abs(Math.sin(i))*o+Math.abs(Math.cos(i))*a);r.width=s,r.height=u;var c=r.getContext("2d");if(!c)throw new Error("Could not create a Canvas Context element.");return c.translate(s/2,u/2),c.rotate(i),c.drawImage(this.canvas,o/-2,a/-2),this.buffer=e.makeBufferFromCanvasImageData(r),this},e.DEGREE_TO_RADIANS=Math.PI/180,e}(iu);function NS(){return typeof navigator<"u"}var Aa=function(){return Aa=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Aa.apply(this,arguments)},$e=function(t,e,n,r){return new(n||(n=Promise))(function(o,a){function s(l){try{c(r.next(l))}catch(f){a(f)}}function u(l){try{c(r.throw(l))}catch(f){a(f)}}function c(l){l.done?o(l.value):function i(o){return o instanceof n?o:new n(function(a){a(o)})}(l.value).then(s,u)}c((r=r.apply(t,e||[])).next())})},Ge=function(t,e){var r,i,o,a,n={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(l){return function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=2&c[0]?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(!(o=(o=n.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){n=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(6===c[0]&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},gg=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},NZ={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},or=function(){function t(e,n,r){void 0===n&&(n=new Map),void 0===r&&(r={}),this.reader=e,this.hints=n,this.options=Aa(Aa({},NZ),r)}return Object.defineProperty(t.prototype,"possibleFormats",{set:function(e){this.hints.set(me.POSSIBLE_FORMATS,e)},enumerable:!1,configurable:!0}),t.addVideoSource=function(e,n){try{e.srcObject=n}catch{console.error("got interrupted by new loading request")}},t.mediaStreamSetTorch=function(e,n){return $e(this,void 0,void 0,function(){return Ge(this,function(r){switch(r.label){case 0:return[4,e.applyConstraints({advanced:[{fillLightMode:n?"flash":"off",torch:!!n}]})];case 1:return r.sent(),[2]}})})},t.mediaStreamIsTorchCompatible=function(e){var n,r,i=e.getVideoTracks();try{for(var o=gg(i),a=o.next();!a.done;a=o.next())if(t.mediaStreamIsTorchCompatibleTrack(a.value))return!0}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!1},t.mediaStreamIsTorchCompatibleTrack=function(e){try{return"torch"in e.getCapabilities()}catch(r){return console.error(r),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},t.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&e.readyState>2},t.getMediaElement=function(e,n){var r=document.getElementById(e);if(!r)throw new et("element with id '".concat(e,"' not found"));if(r.nodeName.toLowerCase()!==n.toLowerCase())throw new et("element with id '".concat(e,"' must be an ").concat(n," element"));return r},t.createVideoElement=function(e){if(e instanceof HTMLVideoElement)return e;if("string"==typeof e)return t.getMediaElement(e,"video");if(!e&&typeof document<"u"){var n=document.createElement("video");return n.width=200,n.height=200,n}throw new Error("Couldn't get videoElement from videoSource!")},t.prepareImageElement=function(e){if(e instanceof HTMLImageElement)return e;if("string"==typeof e)return t.getMediaElement(e,"img");if(typeof e>"u"){var n=document.createElement("img");return n.width=200,n.height=200,n}throw new Error("Couldn't get imageElement from imageSource!")},t.prepareVideoElement=function(e){var n=t.createVideoElement(e);return n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n},t.isImageLoaded=function(e){return!(!e.complete||0===e.naturalWidth)},t.createBinaryBitmapFromCanvas=function(e){var n=new MZ(e),r=new MA(n);return new IA(r)},t.drawImageOnCanvas=function(e,n){e.drawImage(n,0,0)},t.getMediaElementDimensions=function(e){if(e instanceof HTMLVideoElement)return{height:e.videoHeight,width:e.videoWidth};if(e instanceof HTMLImageElement)return{height:e.naturalHeight||e.height,width:e.naturalWidth||e.width};throw new Error("Couldn't find the Source's dimensions!")},t.createCaptureCanvas=function(e){if(!e)throw new et("Cannot create a capture canvas without a media element.");if(typeof document>"u")throw new Error('The page "Document" is undefined, make sure you\'re running in a browser.');var n=document.createElement("canvas"),r=t.getMediaElementDimensions(e),i=r.width,o=r.height;return n.style.width=i+"px",n.style.height=o+"px",n.width=i,n.height=o,n},t.tryPlayVideo=function(e){return $e(this,void 0,void 0,function(){var n;return Ge(this,function(r){switch(r.label){case 0:if(e?.ended)return console.error("Trying to play video that has ended."),[2,!1];if(t.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2,!0];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[2,!0];case 3:return n=r.sent(),console.warn("It was not possible to play the video.",n),[2,!1];case 4:return[2]}})})},t.createCanvasFromMediaElement=function(e){var n=t.createCaptureCanvas(e),r=n.getContext("2d");if(!r)throw new Error("Couldn't find Canvas 2D Context.");return t.drawImageOnCanvas(r,e),n},t.createBinaryBitmapFromMediaElem=function(e){var n=t.createCanvasFromMediaElement(e);return t.createBinaryBitmapFromCanvas(n)},t.destroyImageElement=function(e){e.src="",e.removeAttribute("src"),e=void 0},t.listVideoInputDevices=function(){return $e(this,void 0,void 0,function(){var e,n,r,i,o,a,s,u,f,d;return Ge(this,function(h){switch(h.label){case 0:if(!NS())throw new Error("Can't enumerate devices, navigator is not present.");if(!function RZ(){return!(!function TZ(){return NS()&&!!navigator.mediaDevices}()||!navigator.mediaDevices.enumerateDevices)}())throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=h.sent(),n=[];try{for(r=gg(e),i=r.next();!i.done;i=r.next())"videoinput"===(a="video"===(o=i.value).kind?"videoinput":o.kind)&&(s=o.deviceId||o.id,u=o.label||"Video device ".concat(n.length+1),n.push({deviceId:s,label:u,kind:a,groupId:o.groupId}))}catch(p){f={error:p}}finally{try{i&&!i.done&&(d=r.return)&&d.call(r)}finally{if(f)throw f.error}}return[2,n]}})})},t.findDeviceById=function(e){return $e(this,void 0,void 0,function(){var n;return Ge(this,function(r){switch(r.label){case 0:return[4,t.listVideoInputDevices()];case 1:return(n=r.sent())?[2,n.find(function(i){return i.deviceId===e})]:[2]}})})},t.cleanVideoSource=function(e){if(e){try{e.srcObject=null}catch{e.src=""}e&&e.removeAttribute("src")}},t.releaseAllStreams=function(){0!==t.streamTracker.length&&t.streamTracker.forEach(function(e){e.getTracks().forEach(function(n){return n.stop()})}),t.streamTracker=[]},t.playVideoOnLoadAsync=function(e,n){return $e(this,void 0,void 0,function(){return Ge(this,function(i){switch(i.label){case 0:return[4,t.tryPlayVideo(e)];case 1:return i.sent()?[2,!0]:[2,new Promise(function(o,a){var s=setTimeout(function(){t.isVideoPlaying(e)||(a(!1),e.removeEventListener("canplay",u))},n),u=function(){t.tryPlayVideo(e).then(function(c){clearTimeout(s),e.removeEventListener("canplay",u),o(c)})};e.addEventListener("canplay",u)})]}})})},t.attachStreamToVideo=function(e,n,r){return void 0===r&&(r=5e3),$e(this,void 0,void 0,function(){var i;return Ge(this,function(o){switch(o.label){case 0:return i=t.prepareVideoElement(n),t.addVideoSource(i,e),[4,t.playVideoOnLoadAsync(i,r)];case 1:return o.sent(),[2,i]}})})},t._waitImageLoad=function(e){return new Promise(function(n,r){var o=setTimeout(function(){t.isImageLoaded(e)||(e.removeEventListener("load",a),r())},1e4),a=function(){clearTimeout(o),e.removeEventListener("load",a),n()};e.addEventListener("load",a)})},t.checkCallbackFnOrThrow=function(e){if(!e)throw new et("`callbackFn` is a required parameter, you cannot capture results without it.")},t.disposeMediaStream=function(e){e.getVideoTracks().forEach(function(n){return n.stop()}),e=void 0},t.prototype.decode=function(e){var n=t.createCanvasFromMediaElement(e);return this.decodeFromCanvas(n)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this.hints)},t.prototype.decodeFromCanvas=function(e){var n=t.createBinaryBitmapFromCanvas(e);return this.decodeBitmap(n)},t.prototype.decodeFromImageElement=function(e){return $e(this,void 0,void 0,function(){var n;return Ge(this,function(r){switch(r.label){case 0:if(!e)throw new et("An image element must be provided.");return n=t.prepareImageElement(e),[4,this._decodeOnLoadImage(n)];case 1:return[2,r.sent()]}})})},t.prototype.decodeFromImageUrl=function(e){return $e(this,void 0,void 0,function(){var n;return Ge(this,function(r){switch(r.label){case 0:if(!e)throw new et("An URL must be provided.");(n=t.prepareImageElement()).src=e,r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.decodeFromImageElement(n)];case 2:return[2,r.sent()];case 3:return t.destroyImageElement(n),[7];case 4:return[2]}})})},t.prototype.decodeFromConstraints=function(e,n,r){return $e(this,void 0,void 0,function(){var i,o;return Ge(this,function(a){switch(a.label){case 0:return t.checkCallbackFnOrThrow(r),[4,this.getUserMedia(e)];case 1:i=a.sent(),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.decodeFromStream(i,n,r)];case 3:return[2,a.sent()];case 4:throw o=a.sent(),t.disposeMediaStream(i),o;case 5:return[2]}})})},t.prototype.decodeFromStream=function(e,n,r){return $e(this,void 0,void 0,function(){var o,s,u,c,f,d,h=this;return Ge(this,function(p){switch(p.label){case 0:return t.checkCallbackFnOrThrow(r),[4,t.attachStreamToVideo(e,n,this.options.tryPlayVideoTimeout)];case 1:return o=p.sent(),s=this.scan(o,r,function(){t.disposeMediaStream(e),t.cleanVideoSource(o)}),u=e.getVideoTracks(),c=Aa(Aa({},s),{stop:function(){s.stop()},streamVideoConstraintsApply:function(g,m){return $e(this,void 0,void 0,function(){var y,v,w,x,D,O;return Ge(this,function(R){switch(R.label){case 0:y=m?u.filter(m):u,R.label=1;case 1:R.trys.push([1,6,7,8]),v=gg(y),w=v.next(),R.label=2;case 2:return w.done?[3,5]:[4,w.value.applyConstraints(g)];case 3:R.sent(),R.label=4;case 4:return w=v.next(),[3,2];case 5:return[3,8];case 6:return x=R.sent(),D={error:x},[3,8];case 7:try{w&&!w.done&&(O=v.return)&&O.call(v)}finally{if(D)throw D.error}return[7];case 8:return[2]}})})},streamVideoConstraintsGet:function(g){return u.find(g).getConstraints()},streamVideoSettingsGet:function(g){return u.find(g).getSettings()},streamVideoCapabilitiesGet:function(g){return u.find(g).getCapabilities()}}),t.mediaStreamIsTorchCompatible(e)&&(f=u?.find(function(g){return t.mediaStreamIsTorchCompatibleTrack(g)}),c.switchTorch=d=function(g){return $e(h,void 0,void 0,function(){return Ge(this,function(m){switch(m.label){case 0:return[4,t.mediaStreamSetTorch(f,g)];case 1:return m.sent(),[2]}})})},c.stop=function(){return $e(h,void 0,void 0,function(){return Ge(this,function(g){switch(g.label){case 0:return s.stop(),[4,d(!1)];case 1:return g.sent(),[2]}})})}),[2,c]}})})},t.prototype.decodeFromVideoDevice=function(e,n,r){return $e(this,void 0,void 0,function(){return Ge(this,function(a){switch(a.label){case 0:return t.checkCallbackFnOrThrow(r),[4,this.decodeFromConstraints({video:e?{deviceId:{exact:e}}:{facingMode:"environment"}},n,r)];case 1:return[2,a.sent()]}})})},t.prototype.decodeFromVideoElement=function(e,n){return $e(this,void 0,void 0,function(){var r;return Ge(this,function(o){switch(o.label){case 0:if(t.checkCallbackFnOrThrow(n),!e)throw new et("A video element must be provided.");return r=t.prepareVideoElement(e),[4,t.playVideoOnLoadAsync(r,this.options.tryPlayVideoTimeout)];case 1:return o.sent(),[2,this.scan(r,n)]}})})},t.prototype.decodeFromVideoUrl=function(e,n){return $e(this,void 0,void 0,function(){var r,i;return Ge(this,function(s){switch(s.label){case 0:if(t.checkCallbackFnOrThrow(n),!e)throw new et("An URL must be provided.");return(r=t.prepareVideoElement()).src=e,i=function(){t.cleanVideoSource(r)},[4,t.playVideoOnLoadAsync(r,this.options.tryPlayVideoTimeout)];case 1:return s.sent(),[2,this.scan(r,n,i)]}})})},t.prototype.decodeOnceFromConstraints=function(e,n){return $e(this,void 0,void 0,function(){var r;return Ge(this,function(i){switch(i.label){case 0:return[4,this.getUserMedia(e)];case 1:return r=i.sent(),[4,this.decodeOnceFromStream(r,n)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,n){return $e(this,void 0,void 0,function(){var r,i;return Ge(this,function(a){switch(a.label){case 0:return r=!!n,[4,t.attachStreamToVideo(e,n)];case 1:i=a.sent(),a.label=2;case 2:return a.trys.push([2,,4,5]),[4,this.scanOneResult(i)];case 3:return[2,a.sent()];case 4:return r||t.cleanVideoSource(i),[7];case 5:return[2]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,n){return $e(this,void 0,void 0,function(){return Ge(this,function(o){switch(o.label){case 0:return[4,this.decodeOnceFromConstraints({video:e?{deviceId:{exact:e}}:{facingMode:"environment"}},n)];case 1:return[2,o.sent()]}})})},t.prototype.decodeOnceFromVideoElement=function(e){return $e(this,void 0,void 0,function(){var n;return Ge(this,function(i){switch(i.label){case 0:if(!e)throw new et("A video element must be provided.");return n=t.prepareVideoElement(e),[4,t.playVideoOnLoadAsync(n,this.options.tryPlayVideoTimeout)];case 1:return i.sent(),[4,this.scanOneResult(n)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromVideoUrl=function(e){return $e(this,void 0,void 0,function(){var n,r;return Ge(this,function(i){switch(i.label){case 0:if(!e)throw new et("An URL must be provided.");(n=t.prepareVideoElement()).src=e,r=this.decodeOnceFromVideoElement(n),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,r];case 2:return[2,i.sent()];case 3:return t.cleanVideoSource(n),[7];case 4:return[2]}})})},t.prototype.scanOneResult=function(e,n,r,i){var o=this;return void 0===n&&(n=!0),void 0===r&&(r=!0),void 0===i&&(i=!0),new Promise(function(a,s){o.scan(e,function(u,c,l){if(u)return a(u),void l.stop();if(c){if(c instanceof A&&n||c instanceof tt&&r||c instanceof M&&i)return;l.stop(),s(c)}})})},t.prototype.scan=function(e,n,r){var i=this;t.checkCallbackFnOrThrow(n);var a,o=t.createCaptureCanvas(e);try{a=o.getContext("2d",{willReadFrequently:!0})}catch{a=o.getContext("2d")}if(!a)throw new Error("Couldn't create canvas for visual element scan.");var c,s=function(){a=void 0,o=void 0},u=!1,f={stop:function(){u=!0,clearTimeout(c),s(),r&&r()}},d=function(){if(!u)try{t.drawImageOnCanvas(a,e);var h=i.decodeFromCanvas(o);n(h,void 0,f),c=setTimeout(d,i.options.delayBetweenScanSuccess)}catch(y){if(n(void 0,y,f),y instanceof tt||y instanceof M||y instanceof A)return void(c=setTimeout(d,i.options.delayBetweenScanAttempts));s(),r&&r(y)}};return d(),f},t.prototype._decodeOnLoadImage=function(e){return $e(this,void 0,void 0,function(){return Ge(this,function(r){switch(r.label){case 0:return t.isImageLoaded(e)?[3,2]:[4,t._waitImageLoad(e)];case 1:r.sent(),r.label=2;case 2:return[2,this.decode(e)]}})})},t.prototype.getUserMedia=function(e){return $e(this,void 0,void 0,function(){var n;return Ge(this,function(r){switch(r.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=r.sent(),t.streamTracker.push(n),[2,n]}})})},t.streamTracker=[],t}(),PZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),FZ=(function(t){PZ(function e(n,r){return t.call(this,new Jl,n,r)||this},t)}(or),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),LZ=(function(t){FZ(function e(n,r){return t.call(this,new Ea(n),n,r)||this},t)}(or),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),kZ=(function(t){LZ(function e(n,r){return t.call(this,new af,n,r)||this},t)}(or),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),BZ=function(t){function e(n,r){var i=this,o=new dD;return o.setHints(n),(i=t.call(this,o,n,r)||this).reader=o,i}return kZ(e,t),Object.defineProperty(e.prototype,"possibleFormats",{set:function(n){this.hints.set(me.POSSIBLE_FORMATS,n),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),e.prototype.decodeBitmap=function(n){return this.reader.decodeWithState(n)},e.prototype.setHints=function(n){this.hints=n,this.reader.setHints(this.hints)},e}(or),VZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),UZ=(function(t){VZ(function e(n,r){return t.call(this,new cf,n,r)||this},t)}(or),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),Wr=(function(t){UZ(function e(n,r){return t.call(this,new sf,n,r)||this},t)}(or),"http://www.w3.org/2000/svg"),PS=(function(){function t(e){if("string"==typeof e){var n=document.getElementById(e);if(!n)throw new Error("Could not find a Container element with '".concat(e,"'."));this.containerElement=n}else this.containerElement=e}t.prototype.write=function(e,n,r,i){if(0===e.length)throw new F("Found empty contents");if(n<0||r<0)throw new F("Requested dimensions are too small: "+n+"x"+r);var o=i&&void 0!==i.get(ie.MARGIN)?Number.parseInt(i.get(ie.MARGIN).toString(),10):t.QUIET_ZONE_SIZE,a=this.encode(i,e);return this.renderResult(a,n,r,o)},t.prototype.createSVGElement=function(e,n){var r=document.createElementNS(t.SVG_NS,"svg");return r.setAttributeNS(Wr,"width",n.toString()),r.setAttributeNS(Wr,"height",e.toString()),r},t.prototype.createSvgPathPlaceholderElement=function(e,n){var r=document.createElementNS(t.SVG_NS,"path");return r.setAttributeNS(Wr,"d","M0 0h".concat(e,"v").concat(n,"H0z")),r.setAttributeNS(Wr,"fill","none"),r},t.prototype.createSvgRectElement=function(e,n,r,i){var o=document.createElementNS(t.SVG_NS,"rect");return o.setAttributeNS(Wr,"x",e.toString()),o.setAttributeNS(Wr,"y",n.toString()),o.setAttributeNS(Wr,"height",r.toString()),o.setAttributeNS(Wr,"width",i.toString()),o.setAttributeNS(Wr,"fill","#000000"),o},t.prototype.encode=function(e,n){var r=zr.L;if(e&&void 0!==e.get(ie.ERROR_CORRECTION)){var i=e.get(ie.ERROR_CORRECTION).toString();r=zr.fromString(i)}return lf.encode(n,r,e)},t.prototype.renderResult=function(e,n,r,i){var o=e.getMatrix();if(null===o)throw new Cr;var a=o.getWidth(),s=o.getHeight(),u=a+2*i,c=s+2*i,l=Math.max(n,u),f=Math.max(r,c),d=Math.min(Math.floor(l/u),Math.floor(f/c)),h=Math.floor((l-a*d)/2),p=Math.floor((f-s*d)/2),g=this.createSVGElement(l,f),m=this.createSvgPathPlaceholderElement(n,r);g.appendChild(m),this.containerElement.appendChild(g);for(var y=0,v=p;y<s;y++,v+=d)for(var w=0,E=h;w<a;w++,E+=d)if(1===o.get(w,y)){var x=this.createSvgRectElement(E,v,d,d);g.appendChild(x)}return g},t.QUIET_ZONE_SIZE=4,t.SVG_NS="http://www.w3.org/2000/svg"}(),"http://www.w3.org/2000/svg");!function(){function t(){}t.prototype.write=function(e,n,r,i){if(0===e.length)throw new F("Found empty contents");if(n<0||r<0)throw new F("Requested dimensions are too small: "+n+"x"+r);var o=zr.L,a=t.QUIET_ZONE_SIZE;if(i){if(void 0!==i.get(ie.ERROR_CORRECTION)){var s=i.get(ie.ERROR_CORRECTION).toString();o=zr.fromString(s)}void 0!==i.get(ie.MARGIN)&&(a=Number.parseInt(i.get(ie.MARGIN).toString(),10))}var u=lf.encode(e,o,i);return this.renderResult(u,n,r,a)},t.prototype.writeToDom=function(e,n,r,i,o){if("string"==typeof e){var a=document.querySelector(e);if(!a)throw new Error("Could no find the target HTML element.");e=a}var s=this.write(n,r,i,o);e instanceof HTMLElement&&e.appendChild(s)},t.prototype.renderResult=function(e,n,r,i){var o=e.getMatrix();if(null===o)throw new Cr;for(var a=o.getWidth(),s=o.getHeight(),u=a+2*i,c=s+2*i,l=Math.max(n,u),f=Math.max(r,c),d=Math.min(Math.floor(l/u),Math.floor(f/c)),h=Math.floor((l-a*d)/2),p=Math.floor((f-s*d)/2),g=this.createSVGElement(l,f),m=0,y=p;m<s;m++,y+=d)for(var v=0,w=h;v<a;v++,w+=d)if(1===o.get(v,m)){var E=this.createSvgRectElement(w,y,d,d);g.appendChild(E)}return g},t.prototype.createSVGElement=function(e,n){var r=document.createElementNS(PS,"svg"),i=e.toString(),o=n.toString();return r.setAttribute("height",o),r.setAttribute("width",i),r.setAttribute("viewBox","0 0 "+i+" "+o),r},t.prototype.createSvgRectElement=function(e,n,r,i){var o=document.createElementNS(PS,"rect");return o.setAttribute("x",e.toString()),o.setAttribute("y",n.toString()),o.setAttribute("height",r.toString()),o.setAttribute("width",i.toString()),o.setAttribute("fill","#000000"),o},t.QUIET_ZONE_SIZE=4}();const HZ=["preview"];class vg extends BZ{getScannerControls(){if(!this.scannerControls)throw new Error("No scanning is running at the time.");return this.scannerControls}scanFromDeviceObservable(e,n){var r=this;return tr(function*(){const i=new pn({});let o;try{o=yield r.decodeFromVideoDevice(e,n,(a,s)=>{if(!s)return void i.next({result:a});const u=s.name;u===A.name||u===tt.name||u===M.name||s.message.includes("No MultiFormat Readers were able to detect the code.")?i.next({error:s}):(i.error(s),r.scannerControls.stop(),r.scannerControls=void 0)}),r.scannerControls={...o,stop(){o.stop(),i.complete()}}}catch(a){i.error(a),r.scannerControls?.stop(),r.scannerControls=void 0}return i.asObservable()})()}}let jZ=(()=>{class t{get codeReader(){return this._codeReader}set device(n){this._ready?this.isAutostarting?console.warn("Avoid setting a device during auto-start."):this.isCurrentDevice(n)?console.warn("Setting the same device is not allowed."):this.hasPermission?this.setDevice(n):console.warn("Permissions not set yet, waiting for them to be set to apply device change."):this._devicePreStart=n}get device(){return this._device}get formats(){return this.hints.get(me.POSSIBLE_FORMATS)}set formats(n){if("string"==typeof n)throw new Error("Invalid formats, make sure the [formats] input is a binding.");const r=n.map(o=>this.getBarcodeFormatOrFail(o)),i=this.hints;i.set(me.POSSIBLE_FORMATS,r),this.hints=i}get hints(){return this._hints}set hints(n){this._hints=n,this.codeReader?.setHints(this._hints)}set videoConstraints(n){const r=this.codeReader?.getScannerControls();r&&r?.streamVideoConstraintsApply(n)}set isAutostarting(n){this._isAutostarting=n,this.autostarting.next(n)}get isAutostarting(){return this._isAutostarting}set torch(n){try{this.getCodeReader().getScannerControls().switchTorch(n)}catch{}}set enable(n){this._enabled!==!!n&&(this._enabled=!!n,this._enabled?this.device?this.scanFromDevice(this.device.deviceId):this.init():(this.reset(),vg.releaseAllStreams()))}get enabled(){return this._enabled}get tryHarder(){return this.hints.get(me.TRY_HARDER)}set tryHarder(n){const r=this.hints;n?r.set(me.TRY_HARDER,!0):r.delete(me.TRY_HARDER),this.hints=r}constructor(){this.timeBetweenScans=500,this.delayBetweenScanSuccess=500,this.previewFitMode="cover",this.poster="",this._ready=!1,this.autostarted=new le,this.autostarting=new le,this.torchCompatible=new le(!1),this.scanSuccess=new le,this.scanFailure=new le,this.scanError=new le,this.scanComplete=new le,this.camerasFound=new le,this.camerasNotFound=new le,this.permissionResponse=new le(!0),this.hasDevices=new le,this.deviceChange=new le,this._enabled=!0,this._hints=new Map,this.autofocusEnabled=!0,this.autostart=!0,this.formats=[B.QR_CODE],this.hasNavigator=typeof navigator<"u",this.isMediaDevicesSupported=this.hasNavigator&&!!navigator.mediaDevices}askForPermission(){var n=this;return tr(function*(){if(!n.hasNavigator)return console.error("@zxing/ngx-scanner","Can't ask permission, navigator is not present."),n.setPermission(null),n.hasPermission;if(!n.isMediaDevicesSupported)return console.error("@zxing/ngx-scanner","Can't get user media, this is not supported."),n.setPermission(null),n.hasPermission;let r,i;try{r=yield n.getAnyVideoDevice(),i=!!r}catch(o){return n.handlePermissionException(o)}finally{n.terminateStream(r)}return n.setPermission(i),i})()}getAnyVideoDevice(){return navigator.mediaDevices.getUserMedia({video:!0})}terminateStream(n){n&&n.getTracks().forEach(r=>r.stop()),n=void 0}init(){var n=this;return tr(function*(){if(!n.autostart)return console.warn("Feature 'autostart' disabled. Permissions and devices recovery has to be run manually."),n.initAutostartOff(),void(n._ready=!0);yield n.initAutostartOn(),n._ready=!0})()}initAutostartOff(){this.isAutostarting=!1,this.updateVideoInputDevices(),this._device&&this._devicePreStart&&this.setDevice(this._devicePreStart)}initAutostartOn(){var n=this;return tr(function*(){let r;n.isAutostarting=!0;try{r=yield n.askForPermission()}catch(i){return void console.error("Exception occurred while asking for permission:",i)}if(r){const i=yield n.updateVideoInputDevices();yield n.autostartScanner([...i])}n.isAutostarting=!1,n.autostarted.next()})()}isCurrentDevice(n){return n?.deviceId===this._device?.deviceId}ngOnDestroy(){this.reset(),or.cleanVideoSource(this.previewElemRef.nativeElement),vg.releaseAllStreams()}ngOnInit(){this.init()}scanStop(){this._scanSubscription&&(this.codeReader?.getScannerControls().stop(),this._scanSubscription?.unsubscribe(),this._scanSubscription=void 0)}scanStart(){if(this._scanSubscription)throw new Error("There is already a scan process running.");if(!this._device)throw new Error("No device defined, cannot start scan, please define a device.");this.scanFromDevice(this._device.deviceId)}restart(){this._codeReader=void 0;const n=this._reset();n&&(this.device=n)}updateVideoInputDevices(){var n=this;return tr(function*(){const r=(yield or.listVideoInputDevices())||[],i=r&&r.length>0;return n.hasDevices.next(i),n.camerasFound.next([...r]),i||n.camerasNotFound.next(null),r})()}autostartScanner(n){var r=this;return tr(function*(){const o=n.find(({label:a})=>/back|tr\xe1s|rear|traseira|environment|ambiente/gi.test(a))||n.pop();if(!o)throw new Error("Impossible to autostart, no input devices available.");yield r.setDevice(o),r.deviceChange.next(o)})()}dispatchScanSuccess(n){this.scanSuccess.next(n.getText())}dispatchScanFailure(n){this.scanFailure.next(n)}dispatchScanError(n){this.scanError.observed||(console.error(`zxing scanner component: ${n.name}`,n),console.warn("Use the `(scanError)` property to handle errors like this!")),this.scanError.next(n)}dispatchScanComplete(n){this.scanComplete.next(n)}handlePermissionException(n){let r;switch(console.error("@zxing/ngx-scanner","Error when asking for permission.",n),n.name){case"NotSupportedError":console.warn("@zxing/ngx-scanner",n.message),r=null,this.hasDevices.next(null);break;case"NotAllowedError":console.warn("@zxing/ngx-scanner",n.message),r=!1,this.hasDevices.next(!0);break;case"NotFoundError":console.warn("@zxing/ngx-scanner",n.message),r=null,this.hasDevices.next(!1),this.camerasNotFound.next(n);break;case"NotReadableError":console.warn("@zxing/ngx-scanner","Couldn't read the device(s)'s stream, it's probably in use by another app."),r=null,this.hasDevices.next(!1),this.camerasNotFound.next(n);break;default:console.warn("@zxing/ngx-scanner","I was not able to define if I have permissions for camera or not.",n),r=null}return this.setPermission(r),this.permissionResponse.error(n),r}getBarcodeFormatOrFail(n){return"string"==typeof n?B[n.trim().toUpperCase()]:n}getCodeReader(){return this._codeReader||(this._codeReader=new vg(this.hints,{delayBetweenScanAttempts:this.timeBetweenScans,delayBetweenScanSuccess:this.delayBetweenScanSuccess})),this._codeReader}scanFromDevice(n){var r=this;return tr(function*(){const i=r.previewElemRef.nativeElement,o=r.getCodeReader(),a=yield o.scanFromDeviceObservable(n,i);if(!a)throw new Error("Undefined decoding stream, aborting.");if(r._scanSubscription=a.subscribe(d=>r._onDecodeResult(d.result,d.error),d=>r._onDecodeError(d),()=>{}),r._scanSubscription.closed)return;const f=typeof o.getScannerControls().switchTorch<"u";r.torchCompatible.next(f)})()}_onDecodeError(n){this.dispatchScanError(n)}_onDecodeResult(n,r){n?this.dispatchScanSuccess(n):this.dispatchScanFailure(r),this.dispatchScanComplete(n)}_reset(){if(!this._codeReader)return;this.scanStop();try{or.cleanVideoSource(this.previewElemRef.nativeElement)}catch{}try{or.releaseAllStreams()}catch{}this._codeReader=void 0;const n=this._device;return this.device=void 0,n}reset(){this._reset(),this.deviceChange.emit(null)}setDevice(n){var r=this;return tr(function*(){r.scanStop(),r._device=n||void 0,r._device||or.cleanVideoSource(r.previewElemRef.nativeElement),r._enabled&&n&&(yield r.scanFromDevice(n.deviceId))})()}setPermission(n){this.hasPermission=n,this.permissionResponse.next(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=no({type:t,selectors:[["zxing-scanner"]],viewQuery:function(r,i){if(1&r&&Ds(HZ,7),2&r){let o;Xo(o=qo())&&(i.previewElemRef=o.first)}},inputs:{autofocusEnabled:"autofocusEnabled",timeBetweenScans:"timeBetweenScans",delayBetweenScanSuccess:"delayBetweenScanSuccess",autostart:"autostart",previewFitMode:"previewFitMode",poster:"poster",device:"device",formats:"formats",videoConstraints:"videoConstraints",torch:"torch",enable:"enable",tryHarder:"tryHarder"},outputs:{autostarted:"autostarted",autostarting:"autostarting",torchCompatible:"torchCompatible",scanSuccess:"scanSuccess",scanFailure:"scanFailure",scanError:"scanError",scanComplete:"scanComplete",camerasFound:"camerasFound",camerasNotFound:"camerasNotFound",permissionResponse:"permissionResponse",hasDevices:"hasDevices",deviceChange:"deviceChange"},decls:6,vars:3,consts:[[3,"poster"],["preview",""]],template:function(r,i){1&r&&(xn(0,"video",0,1)(2,"p"),Lr(3," Your browser does not support this feature, please try to upgrade it. "),An(),xn(4,"p"),Lr(5," Seu navegador n\xe3o suporta este recurso, por favor tente atualiz\xe1-lo. "),An()()),2&r&&(qh("object-fit",i.previewFitMode),$o("poster",i.poster,hc))},styles:["[_nghost-%COMP%]{display:block}video[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:contain}"],changeDetection:0})}return t})(),$Z=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Mn({type:t});static#n=this.\u0275inj=vn({imports:[oC,bZ]})}return t})();const GZ=["video"],zZ=[{path:"",redirectTo:"/menu",pathMatch:"full"},{path:"menu",component:(()=>{class t{constructor(n){this.router=n,this.devices=[],this.allowedFormats=[B.QR_CODE,B.PDF_417],this.scanResult="",this.message="no read yet"}ngAfterViewInit(){this.initDevices(),this.startCameraAndScan()}scannedBarcode(n){this.scanResult=n}handleDetectBarcode(){var n=this;return tr(function*(){try{document.getElementById("video");const i=["ean_13","qr_code","pdf417"],o=yield function nk(t){return L0.apply(this,arguments)}({image:n.video.nativeElement,formats:i});console.log("handleDetectBarcode ~ barcodes:",o),n.scanResult=o.length?o[0].rawValue:"no success"}catch(r){n.message=r.message,console.error("Error on detecting barcodes:",r.message)}})()}takePhoto(){this.router.navigateByUrl("/photo")}getDevices(){return navigator.mediaDevices?.enumerateDevices()}initDevices(){var n=this;return tr(function*(){let r=n.getDevices();if(r)return r.then(i=>i.filter(o=>"videoinput"==o.kind).forEach(o=>n.devices.push(o)))})()}startCameraAndScan(){navigator.mediaDevices?.getUserMedia({audio:!1,video:{facingMode:"environment",width:1920,height:1080}}).then(r=>{this.localStream=r,r.getVideoTracks().forEach(i=>{i.enabled=!0}),this.video.nativeElement.srcObject=r,this.video.nativeElement.play()}).catch(r=>{console.error("Error accessing the camera: ",r)})}static#e=this.\u0275fac=function(r){return new(r||t)(b(Sn))};static#t=this.\u0275cmp=no({type:t,selectors:[["app-menu"]],viewQuery:function(r,i){if(1&r&&Ds(GZ,5),2&r){let o;Xo(o=qo())&&(i.video=o.first)}},decls:7,vars:3,consts:[[3,"click"],[3,"formats","scanSuccess"]],template:function(r,i){1&r&&(xn(0,"button",0),Et("click",function(){return i.handleDetectBarcode()}),Lr(1,"Scan barcode"),An(),xn(2,"zxing-scanner",1),Et("scanSuccess",function(a){return i.scannedBarcode(a)}),An(),xn(3,"h1"),Lr(4),An(),xn(5,"h1"),Lr(6),An()),2&r&&(as(2),$o("formats",i.allowedFormats),as(2),Uc(i.scanResult),as(2),Uc(i.message))},dependencies:[jZ]})}return t})()},{path:"photo",component:tk}];let WZ=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Mn({type:t});static#n=this.\u0275inj=vn({imports:[kx.forRoot(zZ),kx]})}return t})(),XZ=(()=>{class t{constructor(){this.title="experiment-app-pwa"}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=no({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&gs(0,"router-outlet")},dependencies:[S0]})}return t})();const qZ=["addListener","removeListener"],ZZ=["addEventListener","removeEventListener"],YZ=["on","off"];function If(t,e,n,r){if(te(n)&&(r=n,n=void 0),r)return If(t,e,n).pipe(u0(r));const[i,o]=function JZ(t){return te(t.addEventListener)&&te(t.removeEventListener)}(t)?ZZ.map(a=>s=>t[a](e,s,n)):function KZ(t){return te(t.addListener)&&te(t.removeListener)}(t)?qZ.map(FS(t,e)):function QZ(t){return te(t.on)&&te(t.off)}(t)?YZ.map(FS(t,e)):[];if(!i&&Vf(t))return it(a=>If(a,e,n))(St(t));if(!i)throw new TypeError("Invalid event target");return new Ve(a=>{const s=(...u)=>a.next(1<u.length?u:u[0]);return i(s),()=>o(s)})}function FS(t,e){return n=>r=>t[n](e,r)}const _i=new Ve(Sa),tY={connector:()=>new qt};function LS(t,e=tY){const{connector:n}=e;return Ze((r,i)=>{const o=n();St(t(function eY(t){return new Ve(e=>t.subscribe(e))}(o))).subscribe(i),i.add(r.subscribe(o))})}class iY extends Xt{constructor(e,n){super()}schedule(e,n=0){return this}}const bf={setInterval(t,e,...n){const{delegate:r}=bf;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=bf;return(e?.clearInterval||clearInterval)(t)},delegate:void 0},kS={now:()=>(kS.delegate||Date).now(),delegate:void 0};class mu{constructor(e,n=mu.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}mu.now=kS.now;const BS=new class aY extends mu{constructor(e,n=mu.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}(class oY extends iY{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return bf.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&bf.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ji(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}),sY=BS;function VS(t,e){return e?n=>Ns(e.pipe(on(1),function uY(){return Ze((t,e)=>{t.subscribe(Ye(e,Sa))})}()),n.pipe(VS(t))):it((n,r)=>St(t(n,r)).pipe(on(1),LC(n)))}const yu="Service workers are disabled or not supported by this browser";class Of{constructor(e){if(this.serviceWorker=e,e){const r=If(e,"controllerchange").pipe(se(()=>e.controller)),o=Ns(ml(()=>$(e.controller)),r);this.worker=o.pipe(an(l=>!!l)),this.registration=this.worker.pipe(Zt(()=>e.getRegistration()));const c=If(e,"message").pipe(se(l=>l.data)).pipe(an(l=>l&&l.type)).pipe(function rY(t){return t?e=>LS(t)(e):e=>function nY(t,e){const n=te(t)?t:()=>t;return te(e)?LS(e,{connector:n}):r=>new f0(r,n)}(new qt)(e)}());c.connect(),this.events=c}else this.worker=this.events=this.registration=function dY(t){return ml(()=>Jo(new Error(t)))}(yu)}postMessage(e,n){return this.worker.pipe(on(1),Ct(r=>{r.postMessage({action:e,...n})})).toPromise().then(()=>{})}postMessageWithOperation(e,n,r){const i=this.waitForOperationCompleted(r),o=this.postMessage(e,n);return Promise.all([o,i]).then(([,a])=>a)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let n;return n="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(an(n))}nextEventOfType(e){return this.eventsOfType(e).pipe(on(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(an(n=>n.nonce===e),on(1),se(n=>{if(void 0!==n.result)return n.result;throw new Error(n.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let US=(()=>{class t{get isEnabled(){return this.sw.isEnabled}constructor(n){if(this.sw=n,this.pushManager=null,this.subscriptionChanges=new qt,!n.isEnabled)return this.messages=_i,this.notificationClicks=_i,void(this.subscription=_i);this.messages=this.sw.eventsOfType("PUSH").pipe(se(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(se(i=>i.data)),this.pushManager=this.sw.registration.pipe(se(i=>i.pushManager));const r=this.pushManager.pipe(Zt(i=>i.getSubscription()));this.subscription=Hf(r,this.subscriptionChanges)}requestSubscription(n){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(yu));const r={userVisibleOnly:!0};let i=this.decodeBase64(n.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let a=0;a<i.length;a++)o[a]=i.charCodeAt(a);return r.applicationServerKey=o,this.pushManager.pipe(Zt(a=>a.subscribe(r)),on(1)).toPromise().then(a=>(this.subscriptionChanges.next(a),a))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(on(1),Zt(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(yu))}decodeBase64(n){return atob(n)}static#e=this.\u0275fac=function(r){return new(r||t)(V(Of))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),HS=(()=>{class t{get isEnabled(){return this.sw.isEnabled}constructor(n){if(this.sw=n,!n.isEnabled)return this.versionUpdates=_i,this.available=_i,this.activated=_i,void(this.unrecoverable=_i);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(an(r=>"VERSION_READY"===r.type),se(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(yu));const n=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:n},n)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(yu));const n=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:n},n)}static#e=this.\u0275fac=function(r){return new(r||t)(V(Of))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})();const jS=new k("NGSW_REGISTER_SCRIPT");function hY(t,e,n,r){return()=>{if(!sC(r)||!("serviceWorker"in navigator)||!1===n.enabled)return;let i;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof n.registrationStrategy)i=n.registrationStrategy();else{const[a,...s]=(n.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":i=$(null);break;case"registerWithDelay":i=$S(+s[0]||0);break;case"registerWhenStable":i=s[0]?Hf(GS(t),$S(+s[0])):GS(t);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${n.registrationStrategy}`)}}t.get(Ie).runOutsideAngular(()=>i.pipe(on(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:n.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function $S(t){return $(null).pipe(function fY(t,e=BS){const n=function lY(t=0,e,n=sY){let r=-1;return null!=e&&(jg(e)?n=e:r=e),new Ve(i=>{let o=function cY(t){return t instanceof Date&&!isNaN(t)}(t)?+t-n.now():t;o<0&&(o=0);let a=0;return n.schedule(function(){i.closed||(i.next(a++),0<=r?this.schedule(void 0,r):i.complete())},o)})}(t,e);return VS(()=>n)}(t))}function GS(t){return t.get(Fi).isStable.pipe(an(n=>n))}function pY(t,e){return new Of(sC(e)&&!1!==t.enabled?navigator.serviceWorker:void 0)}class mg{}function gY(t,e={}){return function Jd(t){return{\u0275providers:t}}([US,HS,{provide:jS,useValue:t},{provide:mg,useValue:e},{provide:Of,useFactory:pY,deps:[mg,ni]},{provide:qc,useFactory:hY,deps:[Vt,jS,mg,ni],multi:!0}])}let vY=(()=>{class t{static register(n,r={}){return{ngModule:t,providers:[gY(n,r)]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Mn({type:t});static#n=this.\u0275inj=vn({providers:[US,HS]})}return t})(),mY=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Mn({type:t,bootstrap:[XZ]});static#n=this.\u0275inj=vn({imports:[p5,WZ,$Z,vY.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"})]})}return t})();d5().bootstrapModule(mY).catch(t=>console.error(t))}},te=>{te(te.s=500)}]);